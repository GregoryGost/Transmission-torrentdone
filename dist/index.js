#!/usr/bin/node
'use strict';var path=require('path'),fs=require('fs'),child_process=require('child_process'),url=require('url'),os=require('os');var Bd=Object.create;var Hr=Object.defineProperty;var Md=Object.getOwnPropertyDescriptor;var qd=Object.getOwnPropertyNames;var Pd=Object.getPrototypeOf,kd=Object.prototype.hasOwnProperty;var I=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var zd=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wd=(e,t)=>{for(var r in t)Hr(e,r,{get:t[r],enumerable:!0});},lo=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qd(t))!kd.call(e,i)&&i!==r&&Hr(e,i,{get:()=>t[i],enumerable:!(n=Md(t,i))||n.enumerable});return e};var fo=(e,t,r)=>(r=e!=null?Bd(Pd(e)):{},lo(!e||!e.__esModule?Hr(r,"default",{value:e,enumerable:!0}):r,e)),ho=e=>lo(Hr({},"__esModule",{value:!0}),e);var Bi={};Wd(Bi,{all:()=>mi,allLimit:()=>Di,allSeries:()=>yi,any:()=>bi,anyLimit:()=>Oi,anySeries:()=>_i,apply:()=>Eo,applyEach:()=>bo,applyEachSeries:()=>Oo,asyncify:()=>Jr,auto:()=>Ti,autoInject:()=>_o,cargo:()=>xo,cargoQueue:()=>Ao,compose:()=>To,concat:()=>li,concatLimit:()=>dr,concatSeries:()=>fi,constant:()=>jo,default:()=>Yp,detect:()=>hi,detectLimit:()=>di,detectSeries:()=>pi,dir:()=>$o,doDuring:()=>Yr,doUntil:()=>Lo,doWhilst:()=>Yr,during:()=>en,each:()=>gi,eachLimit:()=>Kr,eachOf:()=>Ie,eachOfLimit:()=>hr,eachOfSeries:()=>Qe,eachSeries:()=>Zr,ensureAsync:()=>$i,every:()=>mi,everyLimit:()=>Di,everySeries:()=>yi,filter:()=>Ei,filterLimit:()=>Fi,filterSeries:()=>vi,find:()=>hi,findLimit:()=>di,findSeries:()=>pi,flatMap:()=>li,flatMapLimit:()=>dr,flatMapSeries:()=>fi,foldl:()=>It,foldr:()=>wi,forEach:()=>gi,forEachLimit:()=>Kr,forEachOf:()=>Ie,forEachOfLimit:()=>hr,forEachOfSeries:()=>Qe,forEachSeries:()=>Zr,forever:()=>Io,groupBy:()=>Bo,groupByLimit:()=>on,groupBySeries:()=>Mo,inject:()=>It,log:()=>qo,map:()=>nn,mapLimit:()=>mr,mapSeries:()=>Ai,mapValues:()=>Po,mapValuesLimit:()=>un,mapValuesSeries:()=>ko,memoize:()=>zo,nextTick:()=>Wo,parallel:()=>Uo,parallelLimit:()=>Vo,priorityQueue:()=>Ho,queue:()=>Ni,race:()=>Go,reduce:()=>It,reduceRight:()=>wi,reflect:()=>Qr,reflectAll:()=>Jo,reject:()=>Yo,rejectLimit:()=>Ko,rejectSeries:()=>Zo,retry:()=>Xr,retryable:()=>eu,select:()=>Ei,selectLimit:()=>Fi,selectSeries:()=>vi,seq:()=>Ri,series:()=>tu,setImmediate:()=>ft,some:()=>bi,someLimit:()=>Oi,someSeries:()=>_i,sortBy:()=>ru,timeout:()=>nu,times:()=>iu,timesLimit:()=>an,timesSeries:()=>su,transform:()=>ou,tryEach:()=>uu,unmemoize:()=>au,until:()=>cu,waterfall:()=>lu,whilst:()=>en,wrapSync:()=>Jr});function Eo(e,...t){return (...r)=>e(...t,...r)}function pr(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}function Co(e){setTimeout(e,0);}function wo(e){return (t,...r)=>e(()=>t(...r))}function Jr(e){return gr(e)?function(...t){let r=t.pop(),n=e.apply(this,t);return po(n,r)}:pr(function(t,r){var n;try{n=e.apply(this,t);}catch(i){return r(i)}if(n&&typeof n.then=="function")return po(n,r);r(null,n);})}function po(e,t){return e.then(r=>{go(t,null,r);},r=>{go(t,r&&r.message?r:new Error(r));})}function go(e,t,r){try{e(t,r);}catch(n){ft(i=>{throw i},n);}}function gr(e){return e[Symbol.toStringTag]==="AsyncFunction"}function Vd(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function Hd(e){return typeof e[Symbol.asyncIterator]=="function"}function te(e){if(typeof e!="function")throw new Error("expected a function");return gr(e)?Jr(e):e}function X(e,t=e.length){if(!t)throw new Error("arity is undefined");function r(...n){return typeof n[t-1]=="function"?e.apply(this,n):new Promise((i,s)=>{n[t-1]=(o,...u)=>{if(o)return s(o);i(u.length>1?u:u[0]);},e.apply(this,n);})}return r}function So(e){return function(r,...n){return X(function(s){var o=this;return e(r,(u,a)=>{te(u).apply(o,n.concat(a));},s)})}}function xi(e,t,r,n){t=t||[];var i=[],s=0,o=te(r);return e(t,(u,a,f)=>{var l=s++;o(u,(h,d)=>{i[l]=d,f(h);});},u=>{n(u,i);})}function tn(e){return e&&typeof e.length=="number"&&e.length>=0&&e.length%1===0}function ht(e){function t(...r){if(e!==null){var n=e;e=null,n.apply(this,r);}}return Object.assign(t,e),t}function Gd(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function Jd(e){var t=-1,r=e.length;return function(){return ++t<r?{value:e[t],key:t}:null}}function Yd(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function Kd(e){var t=e?Object.keys(e):[],r=-1,n=t.length;return function i(){var s=t[++r];return s==="__proto__"?i():r<n?{value:e[s],key:s}:null}}function Zd(e){if(tn(e))return Jd(e);var t=Gd(e);return t?Yd(t):Kd(e)}function dt(e){return function(...t){if(e===null)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t);}}function mo(e,t,r,n){let i=!1,s=!1,o=!1,u=0,a=0;function f(){u>=t||o||i||(o=!0,e.next().then(({value:d,done:y})=>{if(!(s||i)){if(o=!1,y){i=!0,u<=0&&n(null);return}u++,r(d,a,l),a++,f();}}).catch(h));}function l(d,y){if(u-=1,!s){if(d)return h(d);if(d===!1){i=!0,s=!0;return}if(y===rn||i&&u<=0)return i=!0,n(null);f();}}function h(d){s||(o=!1,i=!0,n(d));}f();}function Qd(e,t,r,n){return Ve(t)(e,te(r),n)}function Xd(e,t,r){r=ht(r);var n=0,i=0,{length:s}=e,o=!1;s===0&&r(null);function u(a,f){a===!1&&(o=!0),o!==!0&&(a?r(a):(++i===s||f===rn)&&r(null));}for(;n<s;n++)t(e[n],n,dt(u));}function ep(e,t,r){return hr(e,1/0,t,r)}function tp(e,t,r){var n=tn(e)?Xd:ep;return n(e,te(t),r)}function rp(e,t,r){return xi(Ie,e,t,r)}function np(e,t,r){return hr(e,1,t,r)}function ip(e,t,r){return xi(Qe,e,t,r)}function Bt(){let e,t;function r(n,...i){if(n)return t(n);e(i.length>1?i:i[0]);}return r[Mt]=new Promise((n,i)=>{e=n,t=i;}),r}function Ti(e,t,r){typeof t!="number"&&(r=t,t=null),r=ht(r||Bt());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var i={},s=0,o=!1,u=!1,a=Object.create(null),f=[],l=[],h={};Object.keys(e).forEach(p=>{var S=e[p];if(!Array.isArray(S)){d(p,[S]),l.push(p);return}var j=S.slice(0,S.length-1),H=j.length;if(H===0){d(p,S),l.push(p);return}h[p]=H,j.forEach(z=>{if(!e[z])throw new Error("async.auto task `"+p+"` has a non-existent dependency `"+z+"` in "+j.join(", "));C(z,()=>{H--,H===0&&d(p,S);});});}),A(),y();function d(p,S){f.push(()=>O(p,S));}function y(){if(!o){if(f.length===0&&s===0)return r(null,i);for(;f.length&&s<t;){var p=f.shift();p();}}}function C(p,S){var j=a[p];j||(j=a[p]=[]),j.push(S);}function D(p){var S=a[p]||[];S.forEach(j=>j()),y();}function O(p,S){if(!u){var j=dt((z,...G)=>{if(s--,z===!1){o=!0;return}if(G.length<2&&([G]=G),z){var x={};if(Object.keys(i).forEach(W=>{x[W]=i[W];}),x[p]=G,u=!0,a=Object.create(null),o)return;r(z,x);}else i[p]=G,D(p);});s++;var H=te(S[S.length-1]);S.length>1?H(i,j):H(j);}}function A(){for(var p,S=0;l.length;)p=l.pop(),S++,v(p).forEach(j=>{--h[j]===0&&l.push(j);});if(S!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function v(p){var S=[];return Object.keys(e).forEach(j=>{let H=e[j];Array.isArray(H)&&H.indexOf(p)>=0&&S.push(j);}),S}return r[Mt]}function cp(e){let t="",r=0,n=e.indexOf("*/");for(;r<e.length;)if(e[r]==="/"&&e[r+1]==="/"){let i=e.indexOf(`
`,r);r=i===-1?e.length:i;}else if(n!==-1&&e[r]==="/"&&e[r+1]==="*"){let i=e.indexOf("*/",r);i!==-1?(r=i+2,n=e.indexOf("*/",r)):(t+=e[r],r++);}else t+=e[r],r++;return t}function lp(e){let t=cp(e.toString()),r=t.match(sp);if(r||(r=t.match(op)),!r)throw new Error(`could not parse args in autoInject
Source:
`+t);let[,n]=r;return n.replace(/\s/g,"").split(up).map(i=>i.replace(ap,"").trim())}function _o(e,t){var r={};return Object.keys(e).forEach(n=>{var i=e[n],s,o=gr(i),u=!o&&i.length===1||o&&i.length===0;if(Array.isArray(i))s=[...i],i=s.pop(),r[n]=s.concat(s.length>0?a:i);else if(u)r[n]=i;else {if(s=lp(i),i.length===0&&!o&&s.length===0)throw new Error("autoInject task functions require explicit parameters.");o||s.pop(),r[n]=s.concat(a);}function a(f,l){var h=s.map(d=>f[d]);h.push(l),te(i)(...h);}}),Ti(r,t)}function Do(e,t){e.length=1,e.head=e.tail=t;}function ji(e,t,r){if(t==null)t=1;else if(t===0)throw new RangeError("Concurrency must not be zero");var n=te(e),i=0,s=[];let o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function u(v,p){o[v].push(p);}function a(v,p){let S=(...j)=>{f(v,S),p(...j);};o[v].push(S);}function f(v,p){if(!v)return Object.keys(o).forEach(S=>o[S]=[]);if(!p)return o[v]=[];o[v]=o[v].filter(S=>S!==p);}function l(v,...p){o[v].forEach(S=>S(...p));}var h=!1;function d(v,p,S,j){if(j!=null&&typeof j!="function")throw new Error("task callback must be a function");A.started=!0;var H,z;function G(W,...U){if(W)return S?z(W):H();if(U.length<=1)return H(U[0]);H(U);}var x=A._createTaskItem(v,S?G:j||G);if(p?A._tasks.unshift(x):A._tasks.push(x),h||(h=!0,ft(()=>{h=!1,A.process();})),S||!j)return new Promise((W,U)=>{H=W,z=U;})}function y(v){return function(p,...S){i-=1;for(var j=0,H=v.length;j<H;j++){var z=v[j],G=s.indexOf(z);G===0?s.shift():G>0&&s.splice(G,1),z.callback(p,...S),p!=null&&l("error",p,z.data);}i<=A.concurrency-A.buffer&&l("unsaturated"),A.idle()&&l("drain"),A.process();}}function C(v){return v.length===0&&A.idle()?(ft(()=>l("drain")),!0):!1}let D=v=>p=>{if(!p)return new Promise((S,j)=>{a(v,(H,z)=>{if(H)return j(H);S(z);});});f(v),u(v,p);};var O=!1,A={_tasks:new ci,_createTaskItem(v,p){return {data:v,callback:p}},*[Symbol.iterator](){yield*A._tasks[Symbol.iterator]();},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(v,p){return Array.isArray(v)?C(v)?void 0:v.map(S=>d(S,!1,!1,p)):d(v,!1,!1,p)},pushAsync(v,p){return Array.isArray(v)?C(v)?void 0:v.map(S=>d(S,!1,!0,p)):d(v,!1,!0,p)},kill(){f(),A._tasks.empty();},unshift(v,p){return Array.isArray(v)?C(v)?void 0:v.map(S=>d(S,!0,!1,p)):d(v,!0,!1,p)},unshiftAsync(v,p){return Array.isArray(v)?C(v)?void 0:v.map(S=>d(S,!0,!0,p)):d(v,!0,!0,p)},remove(v){A._tasks.remove(v);},process(){if(!O){for(O=!0;!A.paused&&i<A.concurrency&&A._tasks.length;){var v=[],p=[],S=A._tasks.length;A.payload&&(S=Math.min(S,A.payload));for(var j=0;j<S;j++){var H=A._tasks.shift();v.push(H),s.push(H),p.push(H.data);}i+=1,A._tasks.length===0&&l("empty"),i===A.concurrency&&l("saturated");var z=dt(y(v));n(p,z);}O=!1;}},length(){return A._tasks.length},running(){return i},workersList(){return s},idle(){return A._tasks.length+i===0},pause(){A.paused=!0;},resume(){A.paused!==!1&&(A.paused=!1,ft(A.process));}};return Object.defineProperties(A,{saturated:{writable:!1,value:D("saturated")},unsaturated:{writable:!1,value:D("unsaturated")},empty:{writable:!1,value:D("empty")},drain:{writable:!1,value:D("drain")},error:{writable:!1,value:D("error")}}),A}function xo(e,t){return ji(e,1,t)}function Ao(e,t,r){return ji(e,t,r)}function fp(e,t,r,n){n=ht(n);var i=te(r);return Qe(e,(s,o,u)=>{i(t,s,(a,f)=>{t=f,u(a);});},s=>n(s,t))}function Ri(...e){var t=e.map(te);return function(...r){var n=this,i=r[r.length-1];return typeof i=="function"?r.pop():i=Bt(),It(t,r,(s,o,u)=>{o.apply(n,s.concat((a,...f)=>{u(a,f);}));},(s,o)=>i(s,...o)),i[Mt]}}function To(...e){return Ri(...e.reverse())}function hp(e,t,r,n){return xi(Ve(t),e,r,n)}function dp(e,t,r,n){var i=te(r);return mr(e,t,(s,o)=>{i(s,(u,...a)=>u?o(u):o(u,a));},(s,o)=>{for(var u=[],a=0;a<o.length;a++)o[a]&&(u=u.concat(...o[a]));return n(s,u)})}function pp(e,t,r){return dr(e,1/0,t,r)}function gp(e,t,r){return dr(e,1,t,r)}function jo(...e){return function(...t){var r=t.pop();return r(null,...e)}}function it(e,t){return (r,n,i,s)=>{var o=!1,u;let a=te(i);r(n,(f,l,h)=>{a(f,(d,y)=>{if(d||d===!1)return h(d);if(e(y)&&!u)return o=!0,u=t(!0,f),h(null,rn);h();});},f=>{if(f)return s(f);s(null,o?u:t(!1));});}}function mp(e,t,r){return it(n=>n,(n,i)=>i)(Ie,e,t,r)}function Dp(e,t,r,n){return it(i=>i,(i,s)=>s)(Ve(t),e,r,n)}function yp(e,t,r){return it(n=>n,(n,i)=>i)(Ve(1),e,t,r)}function Ro(e){return (t,...r)=>te(t)(...r,(n,...i)=>{typeof console=="object"&&(n?console.error&&console.error(n):console[e]&&i.forEach(s=>console[e](s)));})}function Ep(e,t,r){r=dt(r);var n=te(e),i=te(t),s;function o(a,...f){if(a)return r(a);a!==!1&&(s=f,i(...f,u));}function u(a,f){if(a)return r(a);if(a!==!1){if(!f)return r(null,...s);n(o);}}return u(null,!0)}function Lo(e,t,r){let n=te(t);return Yr(e,(...i)=>{let s=i.pop();n(...i,(o,u)=>s(o,!u));},r)}function No(e){return (t,r,n)=>e(t,n)}function Fp(e,t,r){return Ie(e,No(te(t)),r)}function vp(e,t,r,n){return Ve(t)(e,No(te(r)),n)}function Cp(e,t,r){return Kr(e,1,t,r)}function $i(e){return gr(e)?e:function(...t){var r=t.pop(),n=!0;t.push((...i)=>{n?ft(()=>r(...i)):r(...i);}),e.apply(this,t),n=!1;}}function wp(e,t,r){return it(n=>!n,n=>!n)(Ie,e,t,r)}function Sp(e,t,r,n){return it(i=>!i,i=>!i)(Ve(t),e,r,n)}function bp(e,t,r){return it(n=>!n,n=>!n)(Qe,e,t,r)}function Op(e,t,r,n){var i=new Array(t.length);e(t,(s,o,u)=>{r(s,(a,f)=>{i[o]=!!f,u(a);});},s=>{if(s)return n(s);for(var o=[],u=0;u<t.length;u++)i[u]&&o.push(t[u]);n(null,o);});}function _p(e,t,r,n){var i=[];e(t,(s,o,u)=>{r(s,(a,f)=>{if(a)return u(a);f&&i.push({index:o,value:s}),u(a);});},s=>{if(s)return n(s);n(null,i.sort((o,u)=>o.index-u.index).map(o=>o.value));});}function sn(e,t,r,n){var i=tn(t)?Op:_p;return i(e,t,te(r),n)}function xp(e,t,r){return sn(Ie,e,t,r)}function Ap(e,t,r,n){return sn(Ve(t),e,r,n)}function Tp(e,t,r){return sn(Qe,e,t,r)}function jp(e,t){var r=dt(t),n=te($i(e));function i(s){if(s)return r(s);s!==!1&&n(i);}return i()}function Rp(e,t,r,n){var i=te(r);return mr(e,t,(s,o)=>{i(s,(u,a)=>u?o(u):o(u,{key:a,val:s}));},(s,o)=>{for(var u={},{hasOwnProperty:a}=Object.prototype,f=0;f<o.length;f++)if(o[f]){var{key:l}=o[f],{val:h}=o[f];a.call(u,l)?u[l].push(h):u[l]=[h];}return n(s,u)})}function Bo(e,t,r){return on(e,1/0,t,r)}function Mo(e,t,r){return on(e,1,t,r)}function $p(e,t,r,n){n=ht(n);var i={},s=te(r);return Ve(t)(e,(o,u,a)=>{s(o,u,(f,l)=>{if(f)return a(f);i[u]=l,a(f);});},o=>n(o,i))}function Po(e,t,r){return un(e,1/0,t,r)}function ko(e,t,r){return un(e,1,t,r)}function zo(e,t=r=>r){var r=Object.create(null),n=Object.create(null),i=te(e),s=pr((o,u)=>{var a=t(...o);a in r?ft(()=>u(null,...r[a])):a in n?n[a].push(u):(n[a]=[u],i(...o,(f,...l)=>{f||(r[a]=l);var h=n[a];delete n[a];for(var d=0,y=h.length;d<y;d++)h[d](f,...l);}));});return s.memo=r,s.unmemoized=e,s}function Uo(e,t){return Li(Ie,e,t)}function Vo(e,t,r){return Li(Ve(t),e,r)}function Ni(e,t){var r=te(e);return ji((n,i)=>{r(n[0],i);},t,1)}function Lp(e){return (e<<1)+1}function yo(e){return (e+1>>1)-1}function ai(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Ho(e,t){var r=Ni(e,t),{push:n,pushAsync:i}=r;r._tasks=new Ci,r._createTaskItem=({data:o,priority:u},a)=>({data:o,priority:u,callback:a});function s(o,u){return Array.isArray(o)?o.map(a=>({data:a,priority:u})):{data:o,priority:u}}return r.push=function(o,u=0,a){return n(s(o,u),a)},r.pushAsync=function(o,u=0,a){return i(s(o,u),a)},delete r.unshift,delete r.unshiftAsync,r}function Np(e,t){if(t=ht(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)te(e[r])(t);}function wi(e,t,r,n){var i=[...e].reverse();return It(i,t,r,n)}function Qr(e){var t=te(e);return pr(function(n,i){return n.push((s,...o)=>{let u={};if(s&&(u.error=s),o.length>0){var a=o;o.length<=1&&([a]=o),u.value=a;}i(null,u);}),t.apply(this,n)})}function Jo(e){var t;return Array.isArray(e)?t=e.map(Qr):(t={},Object.keys(e).forEach(r=>{t[r]=Qr.call(this,e[r]);})),t}function Ii(e,t,r,n){let i=te(r);return sn(e,t,(s,o)=>{i(s,(u,a)=>{o(u,!a);});},n)}function Ip(e,t,r){return Ii(Ie,e,t,r)}function Bp(e,t,r,n){return Ii(Ve(t),e,r,n)}function Mp(e,t,r){return Ii(Qe,e,t,r)}function Qo(e){return function(){return e}}function Xr(e,t,r){var n={times:Si,intervalFunc:Qo(Xo)};if(arguments.length<3&&typeof e=="function"?(r=t||Bt(),t=e):(qp(n,e),r=r||Bt()),typeof t!="function")throw new Error("Invalid arguments for async.retry");var i=te(t),s=1;function o(){i((u,...a)=>{u!==!1&&(u&&s++<n.times&&(typeof n.errorFilter!="function"||n.errorFilter(u))?setTimeout(o,n.intervalFunc(s-1)):r(u,...a));});}return o(),r[Mt]}function qp(e,t){if(typeof t=="object")e.times=+t.times||Si,e.intervalFunc=typeof t.interval=="function"?t.interval:Qo(+t.interval||Xo),e.errorFilter=t.errorFilter;else if(typeof t=="number"||typeof t=="string")e.times=+t||Si;else throw new Error("Invalid arguments for async.retry")}function eu(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;gr(t)&&(r+=1);var n=te(t);return pr((i,s)=>{(i.length<r-1||s==null)&&(i.push(s),s=Bt());function o(u){n(...i,u);}return e?Xr(e,o,s):Xr(o,s),s[Mt]})}function tu(e,t){return Li(Qe,e,t)}function Pp(e,t,r){return it(Boolean,n=>n)(Ie,e,t,r)}function kp(e,t,r,n){return it(Boolean,i=>i)(Ve(t),e,r,n)}function zp(e,t,r){return it(Boolean,n=>n)(Qe,e,t,r)}function Wp(e,t,r){var n=te(t);return nn(e,(s,o)=>{n(s,(u,a)=>{if(u)return o(u);o(u,{value:s,criteria:a});});},(s,o)=>{if(s)return r(s);r(null,o.sort(i).map(u=>u.value));});function i(s,o){var u=s.criteria,a=o.criteria;return u<a?-1:u>a?1:0}}function nu(e,t,r){var n=te(e);return pr((i,s)=>{var o=!1,u;function a(){var f=e.name||"anonymous",l=new Error('Callback function "'+f+'" timed out.');l.code="ETIMEDOUT",r&&(l.info=r),o=!0,s(l);}i.push((...f)=>{o||(s(...f),clearTimeout(u));}),u=setTimeout(a,t),n(...i);})}function Up(e){for(var t=Array(e);e--;)t[e]=e;return t}function an(e,t,r,n){var i=te(r);return mr(Up(e),t,i,n)}function iu(e,t,r){return an(e,1/0,t,r)}function su(e,t,r){return an(e,1,t,r)}function ou(e,t,r,n){arguments.length<=3&&typeof t=="function"&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=ht(n||Bt());var i=te(r);return Ie(e,(s,o,u)=>{i(t,s,o,u);},s=>n(s,t)),n[Mt]}function Vp(e,t){var r=null,n;return Zr(e,(i,s)=>{te(i)((o,...u)=>{if(o===!1)return s(o);u.length<2?[n]=u:n=u,r=o,s(o?null:{});});},()=>t(r,n))}function au(e){return (...t)=>(e.unmemoized||e)(...t)}function Hp(e,t,r){r=dt(r);var n=te(t),i=te(e),s=[];function o(a,...f){if(a)return r(a);s=f,a!==!1&&i(u);}function u(a,f){if(a)return r(a);if(a!==!1){if(!f)return r(null,...s);n(o);}}return i(u)}function cu(e,t,r){let n=te(e);return en(i=>n((s,o)=>i(s,!o)),t,r)}function Gp(e,t){if(t=ht(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(s){var o=te(e[r++]);o(...s,dt(i));}function i(s,...o){if(s!==!1){if(s||r===e.length)return t(s,...o);n(o);}}n([]);}var Ud,Fo,vo,fr,ft,rn,Ve,hr,Ie,nn,bo,Qe,Ai,Oo,Mt,sp,op,up,ap,ci,It,mr,dr,li,fi,hi,di,pi,$o,Yr,gi,Kr,Zr,mi,Di,yi,Ei,Fi,vi,Io,on,qo,un,Gr,Wo,Li,Ci,Go,Yo,Ko,Zo,Si,Xo,bi,Oi,_i,ru,uu,en,lu,Jp,Yp,Mi=zd(()=>{Ud=typeof queueMicrotask=="function"&&queueMicrotask,Fo=typeof setImmediate=="function"&&setImmediate,vo=typeof process=="object"&&typeof process.nextTick=="function";Ud?fr=queueMicrotask:Fo?fr=setImmediate:vo?fr=process.nextTick:fr=Co;ft=wo(fr);rn={};Ve=e=>(t,r,n)=>{if(n=ht(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if(Vd(t))return mo(t,e,r,n);if(Hd(t))return mo(t[Symbol.asyncIterator](),e,r,n);var i=Zd(t),s=!1,o=!1,u=0,a=!1;function f(h,d){if(!o)if(u-=1,h)s=!0,n(h);else if(h===!1)s=!0,o=!0;else {if(d===rn||s&&u<=0)return s=!0,n(null);a||l();}}function l(){for(a=!0;u<e&&!s;){var h=i();if(h===null){s=!0,u<=0&&n(null);return}u+=1,r(h.value,h.key,dt(f));}a=!1;}l();};hr=X(Qd,4);Ie=X(tp,3);nn=X(rp,3),bo=So(nn);Qe=X(np,3);Ai=X(ip,3),Oo=So(Ai),Mt=Symbol("promiseCallback");sp=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,op=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,up=/,/,ap=/(=.+)?(\s*)$/;ci=class{constructor(){this.head=this.tail=null,this.length=0;}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,r){r.prev=t,r.next=t.next,t.next?t.next.prev=r:this.tail=r,t.next=r,this.length+=1;}insertBefore(t,r){r.prev=t.prev,r.next=t,t.prev?t.prev.next=r:this.head=r,t.prev=r,this.length+=1;}unshift(t){this.head?this.insertBefore(this.head,t):Do(this,t);}push(t){this.tail?this.insertAfter(this.tail,t):Do(this,t);}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return [...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next;}remove(t){for(var r=this.head;r;){var{next:n}=r;t(r)&&this.removeLink(r),r=n;}return this}};It=X(fp,4);mr=X(hp,4);dr=X(dp,4);li=X(pp,3);fi=X(gp,3);hi=X(mp,3);di=X(Dp,4);pi=X(yp,3);$o=Ro("dir");Yr=X(Ep,3);gi=X(Fp,3);Kr=X(vp,4);Zr=X(Cp,3);mi=X(wp,3);Di=X(Sp,4);yi=X(bp,3);Ei=X(xp,3);Fi=X(Ap,4);vi=X(Tp,3);Io=X(jp,2);on=X(Rp,4);qo=Ro("log");un=X($p,4);vo?Gr=process.nextTick:Fo?Gr=setImmediate:Gr=Co;Wo=wo(Gr),Li=X((e,t,r)=>{var n=tn(t)?[]:{};e(t,(i,s,o)=>{te(i)((u,...a)=>{a.length<2&&([a]=a),n[s]=a,o(u);});},i=>r(i,n));},3);Ci=class{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER;}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let r;for(;t>0&&ai(this.heap[t],this.heap[r=yo(t)]);){let n=this.heap[t];this.heap[t]=this.heap[r],this.heap[r]=n,t=r;}}percDown(t){let r;for(;(r=Lp(t))<this.heap.length&&(r+1<this.heap.length&&ai(this.heap[r+1],this.heap[r])&&(r=r+1),!ai(this.heap[t],this.heap[r]));){let n=this.heap[t];this.heap[t]=this.heap[r],this.heap[r]=n,t=r;}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1);}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return [...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data;}remove(t){let r=0;for(let n=0;n<this.heap.length;n++)t(this.heap[n])||(this.heap[r]=this.heap[n],r++);this.heap.splice(r);for(let n=yo(this.heap.length-1);n>=0;n--)this.percDown(n);return this}};Go=X(Np,2);Yo=X(Ip,3);Ko=X(Bp,4);Zo=X(Mp,3);Si=5,Xo=0;bi=X(Pp,3);Oi=X(kp,4);_i=X(zp,3);ru=X(Wp,3);uu=X(Vp);en=X(Hp,3);lu=X(Gp),Jp={apply:Eo,applyEach:bo,applyEachSeries:Oo,asyncify:Jr,auto:Ti,autoInject:_o,cargo:xo,cargoQueue:Ao,compose:To,concat:li,concatLimit:dr,concatSeries:fi,constant:jo,detect:hi,detectLimit:di,detectSeries:pi,dir:$o,doUntil:Lo,doWhilst:Yr,each:gi,eachLimit:Kr,eachOf:Ie,eachOfLimit:hr,eachOfSeries:Qe,eachSeries:Zr,ensureAsync:$i,every:mi,everyLimit:Di,everySeries:yi,filter:Ei,filterLimit:Fi,filterSeries:vi,forever:Io,groupBy:Bo,groupByLimit:on,groupBySeries:Mo,log:qo,map:nn,mapLimit:mr,mapSeries:Ai,mapValues:Po,mapValuesLimit:un,mapValuesSeries:ko,memoize:zo,nextTick:Wo,parallel:Uo,parallelLimit:Vo,priorityQueue:Ho,queue:Ni,race:Go,reduce:It,reduceRight:wi,reflect:Qr,reflectAll:Jo,reject:Yo,rejectLimit:Ko,rejectSeries:Zo,retry:Xr,retryable:eu,seq:Ri,series:tu,setImmediate:ft,some:bi,someLimit:Oi,someSeries:_i,sortBy:ru,timeout:nu,times:iu,timesLimit:an,timesSeries:su,transform:ou,tryEach:uu,unmemoize:au,until:cu,waterfall:lu,whilst:en,all:mi,allLimit:Di,allSeries:yi,any:bi,anyLimit:Oi,anySeries:_i,find:hi,findLimit:di,findSeries:pi,flatMap:li,flatMapLimit:dr,flatMapSeries:fi,forEach:gi,forEachSeries:Zr,forEachLimit:Kr,forEachOf:Ie,forEachOfSeries:Qe,forEachOfLimit:hr,inject:It,foldl:It,foldr:wi,select:Ei,selectLimit:Fi,selectSeries:vi,wrapSync:Jr,during:en,doDuring:Yr},Yp=Jp;});var gu=R((x1,pu)=>{var{hasOwnProperty:qi}=Object.prototype,Pi=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`,ki=(e,t)=>{let r=[],n="";typeof t=="string"?t={section:t,whitespace:!1}:(t=t||Object.create(null),t.whitespace=t.whitespace===!0);let i=t.whitespace?" = ":"=";for(let s of Object.keys(e)){let o=e[s];if(o&&Array.isArray(o))for(let u of o)n+=qt(s+"[]")+i+qt(u)+`
`;else o&&typeof o=="object"?r.push(s):n+=qt(s)+i+qt(o)+Pi;}t.section&&n.length&&(n="["+qt(t.section)+"]"+Pi+n);for(let s of r){let o=hu(s).join("\\."),u=(t.section?t.section+".":"")+o,{whitespace:a}=t,f=ki(e[s],{section:u,whitespace:a});n.length&&f.length&&(n+=Pi),n+=f;}return n},hu=e=>e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(t=>t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),fu=e=>{let t=Object.create(null),r=t,n=null,i=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,s=e.split(/[\r\n]+/g);for(let u of s){if(!u||u.match(/^\s*[;#]/))continue;let a=u.match(i);if(!a)continue;if(a[1]!==void 0){if(n=cn(a[1]),n==="__proto__"){r=Object.create(null);continue}r=t[n]=t[n]||Object.create(null);continue}let f=cn(a[2]),l=f.length>2&&f.slice(-2)==="[]",h=l?f.slice(0,-2):f;if(h==="__proto__")continue;let d=a[3]?cn(a[4]):!0,y=d==="true"||d==="false"||d==="null"?JSON.parse(d):d;l&&(qi.call(r,h)?Array.isArray(r[h])||(r[h]=[r[h]]):r[h]=[]),Array.isArray(r[h])?r[h].push(y):r[h]=y;}let o=[];for(let u of Object.keys(t)){if(!qi.call(t,u)||typeof t[u]!="object"||Array.isArray(t[u]))continue;let a=hu(u),f=t,l=a.pop(),h=l.replace(/\\\./g,".");for(let d of a)d!=="__proto__"&&((!qi.call(f,d)||typeof f[d]!="object")&&(f[d]=Object.create(null)),f=f[d]);f===t&&h===l||(f[h]=t[u],o.push(u));}for(let u of o)delete t[u];return t},du=e=>e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'",qt=e=>typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&du(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#"),cn=(e,t)=>{if(e=(e||"").trim(),du(e)){e.charAt(0)==="'"&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e);}catch{}}else {let r=!1,n="";for(let i=0,s=e.length;i<s;i++){let o=e.charAt(i);if(r)"\\;#".indexOf(o)!==-1?n+=o:n+="\\"+o,r=!1;else {if(";#".indexOf(o)!==-1)break;o==="\\"?r=!0:n+=o;}}return r&&(n+="\\"),n.trim()}return e};pu.exports={parse:fu,decode:fu,stringify:ki,encode:ki,safe:qt,unsafe:cn};});var ln=R(Du=>{var Kp=gu(),mu=Du;mu.json={stringify:function(e,t,r){return JSON.stringify(e,t||null,r||2)},parse:JSON.parse};mu.ini=Kp;});var St=R(yu=>{var pt=kt(),Pt=yu.Memory=function(e){e=e||{},this.type="memory",this.store={},this.mtimes={},this.readOnly=!1,this.loadFrom=e.loadFrom||null,this.logicalSeparator=e.logicalSeparator||":",this.parseValues=e.parseValues||!1,this.loadFrom&&(this.store=pt.loadFilesSync(this.loadFrom));};Pt.prototype.get=function(e){for(var t=this.store,r=pt.path(e,this.logicalSeparator);r.length>0;){if(e=r.shift(),t&&typeof t!="string"&&Object.hasOwnProperty.call(t,e)){t=t[e];continue}return}return t};Pt.prototype.set=function(e,t){if(this.readOnly)return !1;var r=this.store,n=pt.path(e,this.logicalSeparator);if(n.length===0)return !t||typeof t!="object"?!1:(this.reset(),this.store=t,!0);for(this.mtimes[e]=Date.now();n.length>1;)e=n.shift(),(!r[e]||typeof r[e]!="object"||!Object.hasOwnProperty.call(r,e))&&(r[e]={}),r=r[e];return e=n.shift(),this.parseValues&&(t=pt.parseValues.call(pt,t)),r[e]=t,!0};Pt.prototype.clear=function(e){if(this.readOnly)return !1;var t=this.store,r=t,n=pt.path(e,this.logicalSeparator);delete this.mtimes[e];for(var i=0;i<n.length-1;i++){if(e=n[i],r=t[e],typeof r!="function"&&typeof r!="object")return !1;t=r;}return e=n[i],delete t[e],!0};Pt.prototype.merge=function(e,t){if(this.readOnly)return !1;if(typeof t!="object"||Array.isArray(t)||t===null)return this.set(e,t);var r=this,n=this.store,i=pt.path(e,this.logicalSeparator),s=e;for(this.mtimes[e]=Date.now();i.length>1;)e=i.shift(),n[e]||(n[e]={}),n=n[e];return e=i.shift(),typeof n[e]!="object"||Array.isArray(n[e])?(n[e]=t,!0):Object.keys(t).every(function(o){return r.merge(pt.keyed(r.logicalSeparator,s,o),t[o])})};Pt.prototype.reset=function(){return this.readOnly?!1:(this.mtimes={},this.store={},!0)};Pt.prototype.loadSync=function(){return this.store||{}};});var kt=R(vu=>{var Eu=I("fs"),Zp=(Mi(),ho(Bi)),Fu=ln(),Qp=St().Memory,He=vu;He.path=function(e,t){return t=t||":",e==null?[]:e.split(t)};He.key=function(){return Array.prototype.slice.call(arguments).join(":")};He.keyed=function(){return Array.prototype.slice.call(arguments,1).join(arguments[0])};He.loadFiles=function(e,t){if(!e)return t(null,{});var r=Array.isArray(e)?{files:e}:e;r.format=r.format||Fu.json;function n(i,s){Eu.readFile(i,function(o,u){return o?s(o):s(null,r.format.parse(u.toString()))});}Zp.map(r.files,n,function(i,s){return i?t(i):t(null,He.merge(s))});};He.loadFilesSync=function(e){if(e){var t=Array.isArray(e)?{files:e}:e;return t.format=t.format||Fu.json,He.merge(t.files.map(function(r){return t.format.parse(Eu.readFileSync(r,"utf8"))}))}};He.merge=function(e){var t=new Qp;return e.forEach(function(r){Object.keys(r).forEach(function(n){t.merge(n,r[n]);});}),t.store};He.capitalize=function(e){return e&&e[0].toUpperCase()+e.slice(1)};He.parseValues=function(e){var t=e;try{t=JSON.parse(e);}catch{e==="undefined"&&(t=void 0);}return t};He.transform=function(e,t){var r=Object.keys(e).map(function(n){var i={key:n,value:e[n]},s=t.call(null,i);if(s){if(s.key)return s}else return null;var o=new Error("Transform function passed to store returned an invalid format: "+JSON.stringify(s));throw o.name="RuntimeError",o});return r.filter(function(n){return n!==null}).reduce(function(n,i){return n[i.key]=i.value,n},{})};});var wu=R(Cu=>{var zt=(Mi(),ho(Bi)),gt=kt(),me=Cu.Provider=function(e){e=e||{},this.stores={},this.sources=[],this.init(e);};["argv","env"].forEach(function(e){me.prototype[e]=function(){var t=[e].concat(Array.prototype.slice.call(arguments));return this.add.apply(this,t)};});me.prototype.file=function(e,t){return arguments.length==1?(t=typeof e=="string"?{file:e}:e,e="file"):t=typeof t=="string"?{file:t}:t,t.type="file",this.add(e,t)};["defaults","overrides"].forEach(function(e){me.prototype[e]=function(t){return t=t||{},t.type||(t.type="literal"),this.add(e,t)};});me.prototype.use=function(e,t){t=t||{};function r(s){return Object.keys(t).every(function(o){return t[o]===s[o]})}var n=this.stores[e],i=n&&!r(n);return (!n||i)&&(i&&this.remove(e),this.add(e,t)),this};me.prototype.add=function(e,t,r){t=t||{};var n=t.type||e;if(!fn()[gt.capitalize(n)])throw new Error("Cannot add store with unknown type: "+n);return this.stores[e]=this.create(n,t,r),this.stores[e].loadSync&&this.stores[e].loadSync(),this};me.prototype.remove=function(e){return delete this.stores[e],this};me.prototype.create=function(e,t,r){return new(fn())[gt.capitalize(e.toLowerCase())](t,r)};me.prototype.init=function(e){var t=this;e.type?this.add(e.type,e):e.store?this.add(e.store.name||e.store.type,e.store):e.stores&&Object.keys(e.stores).forEach(function(r){var n=e.stores[r];t.add(n.name||r||n.type,n);}),e.source?this.sources.push(this.create(e.source.type||e.source.name,e.source)):e.sources&&Object.keys(e.sources).forEach(function(r){var n=e.sources[r];t.sources.push(t.create(n.type||n.name||r,n));});};me.prototype.get=function(e,t){if(typeof e=="function"&&(t=e,e=null),!t)return this._execute("get",1,e,t);var r=0,n=Object.keys(this.stores),i=this,s,o=[];zt.whilst(function(u){u(null,typeof s>"u"&&r<n.length);},function(u){var a=i.stores[n[r]];if(r++,a.get.length>=2)return a.get(e,function(f,l){if(f)return u(f);s=l,s&&typeof s=="object"&&!Array.isArray(s)&&(o.push(s),s=void 0),u();});s=a.get(e),s&&typeof s=="object"&&!Array.isArray(s)&&(o.push(s),s=void 0),u();},function(u){return !u&&o.length&&(s=gt.merge(o.reverse())),u?t(u):t(null,s)});};me.prototype.any=function(e,t){if(Array.isArray(e)||(e=Array.prototype.slice.call(arguments),e.length>0&&typeof e[e.length-1]=="function"?t=e.pop():t=null),!t){for(var r,n=0;n<e.length;++n)if(r=this._execute("get",1,e[n],t),r)return r;return null}var i=0,s,o=this;zt.whilst(function(u){u(null,!s&&i<e.length);},function(u){var a=e[i];i++,o.get(a,function(f,l){f?u(f):(s=l,u());});},function(u){return u?t(u):t(null,s)});};me.prototype.set=function(e,t,r){return this._execute("set",2,e,t,r)};me.prototype.required=function(e){if(!Array.isArray(e))throw new Error("Incorrect parameter, array expected");var t=[];if(e.forEach(function(r){typeof this.get(r)>"u"&&t.push(r);},this),t.length)throw new Error("Missing required keys: "+t.join(", "));return !0};me.prototype.reset=function(e){return this._execute("reset",0,e)};me.prototype.clear=function(e,t){return this._execute("clear",1,e,t)};me.prototype.merge=function(){var e=this,t=Array.prototype.slice.call(arguments),r=typeof t[t.length-1]=="function"&&t.pop(),n=t.pop(),i=t.pop();function s(o,u){return e._execute("merge",2,o,n[o],u)}return i?this._execute("merge",2,i,n,r):Array.isArray(n)||typeof n!="object"?Xp(new Error("Cannot merge non-Object into top-level."),r):zt.forEach(Object.keys(n),s,r||function(){})};me.prototype.load=function(e){var t=this;function r(){var a=Object.keys(t.stores);return a.reverse(),a.map(function(f){return t.stores[f]})}function n(a){if(!a.loadSync)throw new Error("nconf store "+a.type+" has no loadSync() method");return a.loadSync()}function i(a,f){return !a.load&&!a.loadSync?f(new Error("nconf store "+a.type+" has no load() method")):a.loadSync?f(null,a.loadSync()):a.load(f)}function s(a,f){if(!f)return gt.merge(a.map(n));zt.map(a,i,function(l,h){return l?f(l):f(null,gt.merge(h))});}function o(a){a&&typeof a=="object"&&t.use("sources",{type:"literal",store:a});}function u(){var a=t.sources.splice(0);if(a.reverse(),!e)return o(s(a)),s(r());s(a,function(f,l){return f?e(f):(o(l),s(r(),e))});}return t.sources.length?u():s(r(),e)};me.prototype.save=function(e,t){!t&&typeof e=="function"&&(t=e,e=null);var r=this,n=Object.keys(this.stores);function i(o,u){var a=r.stores[u];if(a.saveSync){var f=a.saveSync();typeof f=="object"&&f!==null&&o.push(f);}return o}function s(o,u,a){var f=r.stores[u];if(f.save)return f.save(e,function(l,h){if(l)return a(l);typeof h=="object"&&h!==null&&o.push(h),a(null,o);});f.saveSync&&o.push(f.saveSync()),a(null,o);}if(!t)return gt.merge(n.reduce(i,[]));zt.reduce(n,[],s,function(o,u){return o?t(o):t(null,gt.merge(u))});};me.prototype._execute=function(e,t){var r=Array.prototype.slice.call(arguments,2),n=typeof r[r.length-1]=="function"&&r.pop(),i=["set","clear","merge","reset"].indexOf(e)!==-1,s=this,o,u=[],a=Object.keys(this.stores);function f(l,h){var d=s.stores[l];return i&&d.readOnly?h():d[e].length>t?d[e].apply(d,r.concat(h)):h(null,d[e].apply(d,r))}return n?zt.forEach(a,f,function(l){return l?n(l):n()}):(a.forEach(function(l){if(typeof o>"u"){var h=s.stores[l];if(i&&h.readOnly)return;o=h[e].apply(h,r),o&&e==="get"&&typeof o=="object"&&!Array.isArray(o)&&(u.push(o),o=void 0);}}),u.length&&(o=gt.merge(u.reverse())),o)};function Xp(e,t){if(t)return t(e);throw e}});var Su=R(($1,eg)=>{eg.exports={name:"nconf",description:"Hierarchical node.js configuration with files, environment variables, command-line arguments, and atomic object merging.",version:"0.12.1",author:"Charlie Robbins <charlie.robbins@gmail.com>",contributors:["Matt Hamann <matthew.hamann@gmail.com>","Maciej Ma\u0142ecki <me@mmalecki.com>","Jarrett Cruger <jcrugzz@gmail.com>","Adrien Becchis"],repository:{type:"git",url:"http://github.com/flatiron/nconf.git"},keywords:["configuration","key value store","plugabble"],dependencies:{async:"^3.0.0",ini:"^2.0.0","secure-keys":"^1.0.0",yargs:"^16.1.1"},devDependencies:{"@release-it/conventional-changelog":"^7.0.2",coveralls:"^3.1.0",eslint:"^7.0.0","nconf-yaml":"^1.0.2",nyc:"^15.1.0","release-it":"^16.2.1",vows:"^0.8.3"},main:"./lib/nconf",scripts:{test:"vows test/*-test.js test/**/*-test.js --spec",cover:"nyc --reporter=lcov npm test",coveralls:"cat coverage/lcov.info | coveralls",lint:"eslint .",release:"release-it"},engines:{node:">= 0.4.0"},license:"MIT"};});var Ou=R((L1,bu)=>{var zi=I("fs"),tg=I("util"),rg=I("path"),Ge,Wi=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[];}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let r=t.shift(),n=function(){};return typeof t[t.length-1]=="function"&&(n=t.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]=r,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:n})):n(),Ge.format.apply(Ge.format,[this.cache[this.locale][r]||r].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),r=t.shift(),n=t.shift(),i=t.shift(),s=function(){};typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let o=i===1?r:n;this.cache[this.locale][r]&&(o=this.cache[this.locale][r][i===1?"one":"other"]),!this.cache[this.locale][r]&&this.updateFiles?(this.cache[this.locale][r]={one:r,other:n},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let u=[o];return ~o.indexOf("%d")&&u.push(i),Ge.format.apply(Ge.format,u.concat(t))}setLocale(t){this.locale=t;}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this.cache[this.locale][r]=t[r]);}_taggedLiteral(t,...r){let n="";return t.forEach(function(i,s){let o=r[s+1];n+=i,typeof o<"u"&&(n+="%s");}),this.__.apply(this,[n].concat([].slice.call(r,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue();}_processWriteQueue(){let t=this,r=this.writeQueue[0],n=r.directory,i=r.locale,s=r.cb,o=this._resolveLocaleFile(n,i),u=JSON.stringify(this.cache[i],null,2);Ge.fs.writeFile(o,u,"utf-8",function(a){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(a);});}_readLocaleFile(){let t={},r=this._resolveLocaleFile(this.directory,this.locale);try{Ge.fs.readFileSync&&(t=JSON.parse(Ge.fs.readFileSync(r,"utf-8")));}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+r),n.code==="ENOENT")t={};else throw n}this.cache[this.locale]=t;}_resolveLocaleFile(t,r){let n=Ge.resolve(t,"./",r+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~r.lastIndexOf("_")){let i=Ge.resolve(t,"./",r.split("_")[0]+".json");this._fileExistsSync(i)&&(n=i);}return n}_fileExistsSync(t){return Ge.exists(t)}};function ng(e,t){Ge=t;let r=new Wi(e);return {__:r.__.bind(r),__n:r.__n.bind(r),setLocale:r.setLocale.bind(r),getLocale:r.getLocale.bind(r),updateLocale:r.updateLocale.bind(r),locale:r.locale}}var ig={fs:{readFileSync:zi.readFileSync,writeFile:zi.writeFile},format:tg.format,resolve:rg.resolve,exists:e=>{try{return zi.statSync(e).isFile()}catch{return !1}}},sg=e=>ng(e,ig);bu.exports=sg;});var Hi=R((N1,$u)=>{var og=I("util"),ug=I("fs"),_u=I("path");function Dr(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let o=e.charAt(s);n&&(n=!1,o=o.toUpperCase()),s!==0&&(o==="-"||o==="_")?n=!0:o!=="-"&&o!=="_"&&(r+=o);}return r}}function Tu(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let i=0;i<e.length;i++){let s=r.charAt(i),o=e.charAt(i);s!==o&&i>0?n+=`${t}${r.charAt(i)}`:n+=o;}return n}function ju(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function ag(e){if(Array.isArray(e))return e.map(o=>typeof o!="string"?o+"":o);e=e.trim();let t=0,r=null,n=null,i=null,s=[];for(let o=0;o<e.length;o++){if(r=n,n=e.charAt(o),n===" "&&!i){r!==" "&&t++;continue}n===i?i=null:(n==="'"||n==='"')&&!i&&(i=n),s[t]||(s[t]=""),s[t]+=n;}return s}var Je;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array";})(Je||(Je={}));var st,Vi=class{constructor(t){st=t;}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),i=ag(t),s=cg(Object.assign(Object.create(null),n.alias)),o=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),u=Object.assign(Object.create(null),n.default),a=n.configObjects||[],f=n.envPrefix,l=o["populate--"],h=l?"--":"_",d=Object.create(null),y=Object.create(null),C=n.__||st.format,D={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},O=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,A=new RegExp("^--"+o["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(c){let g=typeof c=="object"?c.key:c,b=Object.keys(c).map(function(w){return {boolean:"bools",string:"strings",number:"numbers"}[w]}).filter(Boolean).pop();b&&(D[b][g]=!0),D.arrays[g]=!0,D.keys.push(g);}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(c){D.bools[c]=!0,D.keys.push(c);}),[].concat(n.string||[]).filter(Boolean).forEach(function(c){D.strings[c]=!0,D.keys.push(c);}),[].concat(n.number||[]).filter(Boolean).forEach(function(c){D.numbers[c]=!0,D.keys.push(c);}),[].concat(n.count||[]).filter(Boolean).forEach(function(c){D.counts[c]=!0,D.keys.push(c);}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(c){D.normalize[c]=!0,D.keys.push(c);}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([c,g])=>{typeof g=="number"&&(D.nargs[c]=g,D.keys.push(c));}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([c,g])=>{typeof g=="function"&&(D.coercions[c]=g,D.keys.push(c));}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(c){D.configs[c]=!0;}):typeof n.config=="object"&&Object.entries(n.config).forEach(([c,g])=>{(typeof g=="boolean"||typeof g=="function")&&(D.configs[c]=g);})),Ke(n.key,s,n.default,D.arrays),Object.keys(u).forEach(function(c){(D.aliases[c]||[]).forEach(function(g){u[g]=u[c];});});let v=null;E();let p=[],S=Object.assign(Object.create(null),{_:[]}),j={};for(let c=0;c<i.length;c++){let g=i[c],b=g.replace(/^-{3,}/,"---"),w,F,q,P,V,he;if(g!=="--"&&J(g))H(g);else if(b.match(/---+(=|$)/)){H(g);continue}else if(g.match(/^--.+=/)||!o["short-option-groups"]&&g.match(/^-.+=/))P=g.match(/^--?([^=]+)=([\s\S]*)$/),P!==null&&Array.isArray(P)&&P.length>=3&&(Z(P[1],D.arrays)?c=G(c,P[1],i,P[2]):Z(P[1],D.nargs)!==!1?c=z(c,P[1],i,P[2]):x(P[1],P[2]));else if(g.match(A)&&o["boolean-negation"])P=g.match(A),P!==null&&Array.isArray(P)&&P.length>=2&&(F=P[1],x(F,Z(F,D.arrays)?[!1]:!1));else if(g.match(/^--.+/)||!o["short-option-groups"]&&g.match(/^-[^-]+/))P=g.match(/^--?(.+)/),P!==null&&Array.isArray(P)&&P.length>=2&&(F=P[1],Z(F,D.arrays)?c=G(c,F,i):Z(F,D.nargs)!==!1?c=z(c,F,i):(V=i[c+1],V!==void 0&&(!V.match(/^-/)||V.match(O))&&!Z(F,D.bools)&&!Z(F,D.counts)||/^(true|false)$/.test(V)?(x(F,V),c++):x(F,ee(F))));else if(g.match(/^-.\..+=/))P=g.match(/^-([^=]+)=([\s\S]*)$/),P!==null&&Array.isArray(P)&&P.length>=3&&x(P[1],P[2]);else if(g.match(/^-.\..+/)&&!g.match(O))V=i[c+1],P=g.match(/^-(.\..+)/),P!==null&&Array.isArray(P)&&P.length>=2&&(F=P[1],V!==void 0&&!V.match(/^-/)&&!Z(F,D.bools)&&!Z(F,D.counts)?(x(F,V),c++):x(F,ee(F)));else if(g.match(/^-[^-]+/)&&!g.match(O)){q=g.slice(1,-1).split(""),w=!1;for(let ue=0;ue<q.length;ue++){if(V=g.slice(ue+2),q[ue+1]&&q[ue+1]==="="){he=g.slice(ue+3),F=q[ue],Z(F,D.arrays)?c=G(c,F,i,he):Z(F,D.nargs)!==!1?c=z(c,F,i,he):x(F,he),w=!0;break}if(V==="-"){x(q[ue],V);continue}if(/[A-Za-z]/.test(q[ue])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(V)&&Z(V,D.bools)===!1){x(q[ue],V),w=!0;break}if(q[ue+1]&&q[ue+1].match(/\W/)){x(q[ue],V),w=!0;break}else x(q[ue],ee(q[ue]));}F=g.slice(-1)[0],!w&&F!=="-"&&(Z(F,D.arrays)?c=G(c,F,i):Z(F,D.nargs)!==!1?c=z(c,F,i):(V=i[c+1],V!==void 0&&(!/^(-|--)[^-]/.test(V)||V.match(O))&&!Z(F,D.bools)&&!Z(F,D.counts)||/^(true|false)$/.test(V)?(x(F,V),c++):x(F,ee(F))));}else if(g.match(/^-[0-9]$/)&&g.match(O)&&Z(g.slice(1),D.bools))F=g.slice(1),x(F,ee(F));else if(g==="--"){p=i.slice(c+1);break}else if(o["halt-at-non-option"]){p=i.slice(c);break}else H(g);}L(S,!0),L(S,!1),N(S),_(),M(S,D.aliases,u,!0),T(S),o["set-placeholder-key"]&&k(S),Object.keys(D.counts).forEach(function(c){oe(S,c.split("."))||x(c,0);}),l&&p.length&&(S[h]=[]),p.forEach(function(c){S[h].push(c);}),o["camel-case-expansion"]&&o["strip-dashed"]&&Object.keys(S).filter(c=>c!=="--"&&c.includes("-")).forEach(c=>{delete S[c];}),o["strip-aliased"]&&[].concat(...Object.keys(s).map(c=>s[c])).forEach(c=>{o["camel-case-expansion"]&&c.includes("-")&&delete S[c.split(".").map(g=>Dr(g)).join(".")],delete S[c];});function H(c){let g=$("_",c);(typeof g=="string"||typeof g=="number")&&S._.push(g);}function z(c,g,b,w){let F,q=Z(g,D.nargs);if(q=typeof q!="number"||isNaN(q)?1:q,q===0)return m(w)||(v=Error(C("Argument unexpected for: %s",g))),x(g,ee(g)),c;let P=m(w)?0:1;if(o["nargs-eats-options"])b.length-(c+1)+P<q&&(v=Error(C("Not enough arguments following: %s",g))),P=q;else {for(F=c+1;F<b.length&&(!b[F].match(/^-[^0-9]/)||b[F].match(O)||J(b[F]));F++)P++;P<q&&(v=Error(C("Not enough arguments following: %s",g)));}let V=Math.min(P,q);for(!m(w)&&V>0&&(x(g,w),V--),F=c+1;F<V+c+1;F++)x(g,b[F]);return c+V}function G(c,g,b,w){let F=[],q=w||b[c+1],P=Z(g,D.nargs);if(Z(g,D.bools)&&!/^(true|false)$/.test(q))F.push(!0);else if(m(q)||m(w)&&/^-/.test(q)&&!O.test(q)&&!J(q)){if(u[g]!==void 0){let V=u[g];F=Array.isArray(V)?V:[V];}}else {m(w)||F.push(U(g,w));for(let V=c+1;V<b.length&&!(!o["greedy-arrays"]&&F.length>0||P&&typeof P=="number"&&F.length>=P||(q=b[V],/^-/.test(q)&&!O.test(q)&&!J(q)));V++)c=V,F.push(U(g,q));}return typeof P=="number"&&(P&&F.length<P||isNaN(P)&&F.length===0)&&(v=Error(C("Not enough arguments following: %s",g))),x(g,F),c}function x(c,g){if(/-/.test(c)&&o["camel-case-expansion"]){let F=c.split(".").map(function(q){return Dr(q)}).join(".");W(c,F);}let b=U(c,g),w=c.split(".");re(S,w,b),D.aliases[c]&&D.aliases[c].forEach(function(F){let q=F.split(".");re(S,q,b);}),w.length>1&&o["dot-notation"]&&(D.aliases[w[0]]||[]).forEach(function(F){let q=F.split("."),P=[].concat(w);P.shift(),q=q.concat(P),(D.aliases[c]||[]).includes(q.join("."))||re(S,q,b);}),Z(c,D.normalize)&&!Z(c,D.arrays)&&[c].concat(D.aliases[c]||[]).forEach(function(q){Object.defineProperty(j,q,{enumerable:!0,get(){return g},set(P){g=typeof P=="string"?st.normalize(P):P;}});});}function W(c,g){D.aliases[c]&&D.aliases[c].length||(D.aliases[c]=[g],d[g]=!0),D.aliases[g]&&D.aliases[g].length||W(g,c);}function U(c,g){typeof g=="string"&&(g[0]==="'"||g[0]==='"')&&g[g.length-1]===g[0]&&(g=g.substring(1,g.length-1)),(Z(c,D.bools)||Z(c,D.counts))&&typeof g=="string"&&(g=g==="true");let b=Array.isArray(g)?g.map(function(w){return $(c,w)}):$(c,g);return Z(c,D.counts)&&(m(b)||typeof b=="boolean")&&(b=Ui()),Z(c,D.normalize)&&Z(c,D.arrays)&&(Array.isArray(g)?b=g.map(w=>st.normalize(w)):b=st.normalize(g)),b}function $(c,g){return !o["parse-positional-numbers"]&&c==="_"||!Z(c,D.strings)&&!Z(c,D.bools)&&!Array.isArray(g)&&(ju(g)&&o["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${g}`)))||!m(g)&&Z(c,D.numbers))&&(g=Number(g)),g}function N(c){let g=Object.create(null);M(g,D.aliases,u),Object.keys(D.configs).forEach(function(b){let w=c[b]||g[b];if(w)try{let F=null,q=st.resolve(st.cwd(),w),P=D.configs[b];if(typeof P=="function"){try{F=P(q);}catch(V){F=V;}if(F instanceof Error){v=F;return}}else F=st.require(q);B(F);}catch(F){F.name==="PermissionDenied"?v=F:c[b]&&(v=Error(C("Invalid JSON config file: %s",w)));}});}function B(c,g){Object.keys(c).forEach(function(b){let w=c[b],F=g?g+"."+b:b;typeof w=="object"&&w!==null&&!Array.isArray(w)&&o["dot-notation"]?B(w,F):(!oe(S,F.split("."))||Z(F,D.arrays)&&o["combine-arrays"])&&x(F,w);});}function _(){typeof a<"u"&&a.forEach(function(c){B(c);});}function L(c,g){if(typeof f>"u")return;let b=typeof f=="string"?f:"",w=st.env();Object.keys(w).forEach(function(F){if(b===""||F.lastIndexOf(b,0)===0){let q=F.split("__").map(function(P,V){return V===0&&(P=P.substring(b.length)),Dr(P)});(g&&D.configs[q.join(".")]||!g)&&!oe(c,q)&&x(q.join("."),w[F]);}});}function T(c){let g,b=new Set;Object.keys(c).forEach(function(w){if(!b.has(w)&&(g=Z(w,D.coercions),typeof g=="function"))try{let F=$(w,g(c[w]));[].concat(D.aliases[w]||[],w).forEach(q=>{b.add(q),c[q]=F;});}catch(F){v=F;}});}function k(c){return D.keys.forEach(g=>{~g.indexOf(".")||typeof c[g]>"u"&&(c[g]=void 0);}),c}function M(c,g,b,w=!1){Object.keys(b).forEach(function(F){oe(c,F.split("."))||(re(c,F.split("."),b[F]),w&&(y[F]=!0),(g[F]||[]).forEach(function(q){oe(c,q.split("."))||re(c,q.split("."),b[F]);}));});}function oe(c,g){let b=c;o["dot-notation"]||(g=[g.join(".")]),g.slice(0,-1).forEach(function(F){b=b[F]||{};});let w=g[g.length-1];return typeof b!="object"?!1:w in b}function re(c,g,b){let w=c;o["dot-notation"]||(g=[g.join(".")]),g.slice(0,-1).forEach(function(he){he=xu(he),typeof w=="object"&&w[he]===void 0&&(w[he]={}),typeof w[he]!="object"||Array.isArray(w[he])?(Array.isArray(w[he])?w[he].push({}):w[he]=[w[he],{}],w=w[he][w[he].length-1]):w=w[he];});let F=xu(g[g.length-1]),q=Z(g.join("."),D.arrays),P=Array.isArray(b),V=o["duplicate-arguments-array"];!V&&Z(F,D.nargs)&&(V=!0,(!m(w[F])&&D.nargs[F]===1||Array.isArray(w[F])&&w[F].length===D.nargs[F])&&(w[F]=void 0)),b===Ui()?w[F]=Ui(w[F]):Array.isArray(w[F])?V&&q&&P?w[F]=o["flatten-duplicate-arrays"]?w[F].concat(b):(Array.isArray(w[F][0])?w[F]:[w[F]]).concat([b]):!V&&!!q==!!P?w[F]=b:w[F]=w[F].concat([b]):w[F]===void 0&&q?w[F]=P?b:[b]:V&&!(w[F]===void 0||Z(F,D.counts)||Z(F,D.bools))?w[F]=[w[F],b]:w[F]=b;}function Ke(...c){c.forEach(function(g){Object.keys(g||{}).forEach(function(b){D.aliases[b]||(D.aliases[b]=[].concat(s[b]||[]),D.aliases[b].concat(b).forEach(function(w){if(/-/.test(w)&&o["camel-case-expansion"]){let F=Dr(w);F!==b&&D.aliases[b].indexOf(F)===-1&&(D.aliases[b].push(F),d[F]=!0);}}),D.aliases[b].concat(b).forEach(function(w){if(w.length>1&&/[A-Z]/.test(w)&&o["camel-case-expansion"]){let F=Tu(w,"-");F!==b&&D.aliases[b].indexOf(F)===-1&&(D.aliases[b].push(F),d[F]=!0);}}),D.aliases[b].forEach(function(w){D.aliases[w]=[b].concat(D.aliases[b].filter(function(F){return w!==F}));}));});});}function Z(c,g){let b=[].concat(D.aliases[c]||[],c),w=Object.keys(g),F=b.find(q=>w.includes(q));return F?g[F]:!1}function Ne(c){let g=Object.keys(D);return [].concat(g.map(w=>D[w])).some(function(w){return Array.isArray(w)?w.includes(c):w[c]})}function ge(c,...g){return [].concat(...g).some(function(w){let F=c.match(w);return F&&Ne(F[1])})}function lr(c){if(c.match(O)||!c.match(/^-[^-]+/))return !1;let g=!0,b,w=c.slice(1).split("");for(let F=0;F<w.length;F++){if(b=c.slice(F+2),!Ne(w[F])){g=!1;break}if(w[F+1]&&w[F+1]==="="||b==="-"||/[A-Za-z]/.test(w[F])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(b)||w[F+1]&&w[F+1].match(/\W/))break}return g}function J(c){return o["unknown-options-as-args"]&&ie(c)}function ie(c){return c=c.replace(/^-{3,}/,"--"),c.match(O)||lr(c)?!1:!ge(c,/^-+([^=]+?)=[\s\S]*$/,A,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function ee(c){return !Z(c,D.bools)&&!Z(c,D.counts)&&`${c}`in u?u[c]:se(ce(c))}function se(c){return {[Je.BOOLEAN]:!0,[Je.STRING]:"",[Je.NUMBER]:void 0,[Je.ARRAY]:[]}[c]}function ce(c){let g=Je.BOOLEAN;return Z(c,D.strings)?g=Je.STRING:Z(c,D.numbers)?g=Je.NUMBER:Z(c,D.bools)?g=Je.BOOLEAN:Z(c,D.arrays)&&(g=Je.ARRAY),g}function m(c){return c===void 0}function E(){Object.keys(D.counts).find(c=>Z(c,D.arrays)?(v=Error(C("Invalid configuration: %s, opts.count excludes opts.array.",c)),!0):Z(c,D.nargs)?(v=Error(C("Invalid configuration: %s, opts.count excludes opts.narg.",c)),!0):!1);}return {aliases:Object.assign({},D.aliases),argv:Object.assign(j,S),configuration:o,defaulted:Object.assign({},y),error:v,newAliases:Object.assign({},d)}}};function cg(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i));});n;){n=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(u){return t[s].indexOf(u)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),n=!0;break}}return t.forEach(function(i){i=i.filter(function(o,u,a){return a.indexOf(o)===u});let s=i.pop();s!==void 0&&typeof s=="string"&&(r[s]=i);}),r}function Ui(e){return e!==void 0?e+1:1}function xu(e){return e==="__proto__"?"___proto___":e}var Au=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):10;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<Au)throw Error(`yargs parser supports a minimum Node.js version of ${Au}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var lg=process?process.env:{},Ru=new Vi({cwd:process.cwd,env:()=>lg,format:og.format,normalize:_u.normalize,resolve:_u.resolve,require:e=>{if(typeof I<"u")return I(e);if(e.match(/\.json$/))return ug.readFileSync(e,"utf8");throw Error("only .json config files are supported in ESM")}}),yr=function(t,r){return Ru.parse(t.slice(),r).argv};yr.detailed=function(e,t){return Ru.parse(e.slice(),t)};yr.camelCase=Dr;yr.decamelize=Tu;yr.looksLikeNumber=ju;$u.exports=yr;});var Nu=R((B1,Lu)=>{Lu.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")};});var hn=R((M1,Iu)=>{var fg=Nu();Iu.exports=e=>typeof e=="string"?e.replace(fg(),""):e;});var Mu=R((q1,Gi)=>{var Bu=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);Gi.exports=Bu;Gi.exports.default=Bu;});var Pu=R((P1,qu)=>{qu.exports=function(){return /\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};});var dn=R((k1,Ji)=>{var hg=hn(),dg=Mu(),pg=Pu(),ku=e=>{if(typeof e!="string"||e.length===0||(e=hg(e),e.length===0))return 0;e=e.replace(pg(),"  ");let t=0;for(let r=0;r<e.length;r++){let n=e.codePointAt(r);n<=31||n>=127&&n<=159||n>=768&&n<=879||(n>65535&&r++,t+=dg(n)?2:1);}return t};Ji.exports=ku;Ji.exports.default=ku;});var Wu=R((z1,zu)=>{zu.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};});var Yi=R((W1,Vu)=>{var Er=Wu(),Uu={};for(let e of Object.keys(Er))Uu[Er[e]]=e;var K={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Vu.exports=K;for(let e of Object.keys(K)){if(!("channels"in K[e]))throw new Error("missing channels property: "+e);if(!("labels"in K[e]))throw new Error("missing channel labels property: "+e);if(K[e].labels.length!==K[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=K[e];delete K[e].channels,delete K[e].labels,Object.defineProperty(K[e],"channels",{value:t}),Object.defineProperty(K[e],"labels",{value:r});}K.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,u,a;s===i?u=0:t===s?u=(r-n)/o:r===s?u=2+(n-t)/o:n===s&&(u=4+(t-r)/o),u=Math.min(u*60,360),u<0&&(u+=360);let f=(i+s)/2;return s===i?a=0:f<=.5?a=o/(s+i):a=o/(2-s-i),[u,a*100,f*100]};K.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,u=e[1]/255,a=e[2]/255,f=Math.max(o,u,a),l=f-Math.min(o,u,a),h=function(d){return (f-d)/6/l+1/2};return l===0?(i=0,s=0):(s=l/f,t=h(o),r=h(u),n=h(a),o===f?i=n-r:u===f?i=1/3+t-n:a===f&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,f*100]};K.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=K.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};K.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,u=(1-n-i)/(1-i)||0;return [s*100,o*100,u*100,i*100]};function gg(e,t){return (e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}K.rgb.keyword=function(e){let t=Uu[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(Er)){let s=Er[i],o=gg(e,s);o<r&&(r=o,n=i);}return n};K.keyword.rgb=function(e){return Er[e]};K.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return [i*100,s*100,o*100]};K.rgb.lab=function(e){let t=K.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),u=200*(n-i);return [s,o,u]};K.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let u=2*n-i,a=[0,0,0];for(let f=0;f<3;f++)s=t+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?o=u+(i-u)*6*s:2*s<1?o=i:3*s<2?o=u+(i-u)*(2/3-s)*6:o=u,a[f]=o*255;return a};K.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,u=n===0?2*i/(s+i):2*r/(n+r);return [t,u*100,o*100]};K.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),u=255*n*(1-r*s),a=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return [n,a,o];case 1:return [u,n,o];case 2:return [o,n,a];case 3:return [o,u,n];case 4:return [a,o,n];case 5:return [n,o,u]}};K.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let u=(2-r)*i;return s=r*i,s/=u<=1?u:2-u,s=s||0,o/=2,[t,s*100,o*100]};K.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),u=1-n;s=6*t-o,o&1&&(s=1-s);let a=r+s*(u-r),f,l,h;switch(o){default:case 6:case 0:f=u,l=a,h=r;break;case 1:f=a,l=u,h=r;break;case 2:f=r,l=u,h=a;break;case 3:f=r,l=a,h=u;break;case 4:f=a,l=r,h=u;break;case 5:f=u,l=r,h=a;break}return [f*255,l*255,h*255]};K.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),u=1-Math.min(1,n*(1-i)+i);return [s*255,o*255,u*255]};K.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};K.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return [i,s,o]};K.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let u=s**3,a=i**3,f=o**3;return s=u>.008856?u:(s-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,o=f>.008856?f:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};K.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return [t,o,i]};K.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return [t,s,o]};K.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?K.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};K.hsv.ansi16=function(e){return K.rgb.ansi16(K.hsv.rgb(e),e[2])};K.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};K.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return [n,i,s]};K.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return [s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return [r,n,i]};K.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return "000000".substring(r.length)+r};K.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return [0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(u=>u+u).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return [i,s,o]};K.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,u,a;return o<1?u=s/(1-o):u=0,o<=0?a=0:i===t?a=(r-n)/o%6:i===r?a=2+(n-t)/o:a=4+(t-r)/o,a/=6,a%=1,[a*360,o*100,u*100]};K.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};K.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};K.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return [n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,u=1-o,a=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=u,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=u,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=u;}return a=(1-r)*n,[(r*i[0]+a)*255,(r*i[1]+a)*255,(r*i[2]+a)*255]};K.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};K.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};K.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return [e[0],(n-t)*100,(1-n)*100]};K.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};K.apple.rgb=function(e){return [e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};K.rgb.apple=function(e){return [e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};K.gray.rgb=function(e){return [e[0]/100*255,e[0]/100*255,e[0]/100*255]};K.gray.hsl=function(e){return [0,0,e[0]]};K.gray.hsv=K.gray.hsl;K.gray.hwb=function(e){return [0,100,e[0]]};K.gray.cmyk=function(e){return [0,0,0,e[0]]};K.gray.lab=function(e){return [e[0],0,0]};K.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return "000000".substring(n.length)+n};K.rgb.gray=function(e){return [(e[0]+e[1]+e[2])/3/255*100]};});var Gu=R((U1,Hu)=>{var pn=Yi();function mg(){let e={},t=Object.keys(pn);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function Dg(e){let t=mg(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(pn[n]);for(let s=i.length,o=0;o<s;o++){let u=i[o],a=t[u];a.distance===-1&&(a.distance=t[n].distance+1,a.parent=n,r.unshift(u));}}return t}function yg(e,t){return function(r){return t(e(r))}}function Eg(e,t){let r=[t[e].parent,e],n=pn[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=yg(pn[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Hu.exports=function(e){let t=Dg(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=Eg(o,t));}return r};});var Yu=R((V1,Ju)=>{var Ki=Yi(),Fg=Gu(),Wt={},vg=Object.keys(Ki);function Cg(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return "conversion"in e&&(t.conversion=e.conversion),t}function wg(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return "conversion"in e&&(t.conversion=e.conversion),t}vg.forEach(e=>{Wt[e]={},Object.defineProperty(Wt[e],"channels",{value:Ki[e].channels}),Object.defineProperty(Wt[e],"labels",{value:Ki[e].labels});let t=Fg(e);Object.keys(t).forEach(n=>{let i=t[n];Wt[e][n]=wg(i),Wt[e][n].raw=Cg(i);});});Ju.exports=Wt;});var ta=R((H1,ea)=>{var Ku=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,Zu=(e,t)=>(...r)=>{let n=e(...r);return `\x1B[${38+t};5;${n}m`},Qu=(e,t)=>(...r)=>{let n=e(...r);return `\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},gn=e=>e,Xu=(e,t,r)=>[e,t,r],Ut=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0});},Zi,Vt=(e,t,r,n)=>{Zi===void 0&&(Zi=Yu());let i=n?10:0,s={};for(let[o,u]of Object.entries(Zi)){let a=o==="ansi16"?"ansi":o;o===t?s[a]=e(r,i):typeof u=="object"&&(s[a]=e(u[t],i));}return s};function Sg(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1});}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",Ut(t.color,"ansi",()=>Vt(Ku,"ansi16",gn,!1)),Ut(t.color,"ansi256",()=>Vt(Zu,"ansi256",gn,!1)),Ut(t.color,"ansi16m",()=>Vt(Qu,"rgb",Xu,!1)),Ut(t.bgColor,"ansi",()=>Vt(Ku,"ansi16",gn,!0)),Ut(t.bgColor,"ansi256",()=>Vt(Zu,"ansi256",gn,!0)),Ut(t.bgColor,"ansi16m",()=>Vt(Qu,"rgb",Xu,!0)),t}Object.defineProperty(ea,"exports",{enumerable:!0,get:Sg});});var ua=R((G1,oa)=>{var Fr=dn(),bg=hn(),Og=ta(),mn=new Set(["\x1B","\x9B"]),_g=39,Xi="\x07",ia="[",xg="]",sa="m",es=`${xg}8;;`,ra=e=>`${mn.values().next().value}${ia}${e}${sa}`,na=e=>`${mn.values().next().value}${es}${e}${Xi}`,Ag=e=>e.split(" ").map(t=>Fr(t)),Qi=(e,t,r)=>{let n=[...t],i=!1,s=!1,o=Fr(bg(e[e.length-1]));for(let[u,a]of n.entries()){let f=Fr(a);if(o+f<=r?e[e.length-1]+=a:(e.push(a),o=0),mn.has(a)&&(i=!0,s=n.slice(u+1).join("").startsWith(es)),i){s?a===Xi&&(i=!1,s=!1):a===sa&&(i=!1);continue}o+=f,o===r&&u<n.length-1&&(e.push(""),o=0);}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop());},Tg=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(Fr(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},jg=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return "";let n="",i,s,o=Ag(e),u=[""];for(let[f,l]of e.split(" ").entries()){r.trim!==!1&&(u[u.length-1]=u[u.length-1].trimStart());let h=Fr(u[u.length-1]);if(f!==0&&(h>=t&&(r.wordWrap===!1||r.trim===!1)&&(u.push(""),h=0),(h>0||r.trim===!1)&&(u[u.length-1]+=" ",h++)),r.hard&&o[f]>t){let d=t-h,y=1+Math.floor((o[f]-d-1)/t);Math.floor((o[f]-1)/t)<y&&u.push(""),Qi(u,l,t);continue}if(h+o[f]>t&&h>0&&o[f]>0){if(r.wordWrap===!1&&h<t){Qi(u,l,t);continue}u.push("");}if(h+o[f]>t&&r.wordWrap===!1){Qi(u,l,t);continue}u[u.length-1]+=l;}r.trim!==!1&&(u=u.map(Tg));let a=[...u.join(`
`)];for(let[f,l]of a.entries()){if(n+=l,mn.has(l)){let{groups:d}=new RegExp(`(?:\\${ia}(?<code>\\d+)m|\\${es}(?<uri>.*)${Xi})`).exec(a.slice(f).join(""))||{groups:{}};if(d.code!==void 0){let y=Number.parseFloat(d.code);i=y===_g?void 0:y;}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri);}let h=Og.codes.get(Number(i));a[f+1]===`
`?(s&&(n+=na("")),i&&h&&(n+=ra(h))):l===`
`&&(i&&h&&(n+=ra(i)),s&&(n+=na(s)));}return n};oa.exports=(e,t,r)=>String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>jg(n,t,r)).join(`
`);});var la=R((J1,ca)=>{var Rg={right:Bg,center:Mg},$g=0,Dn=1,Lg=2,yn=3,ts=class{constructor(t){var r;this.width=t.width,this.wrap=(r=t.wrap)!==null&&r!==void 0?r:!0,this.rows=[];}span(...t){let r=this.div(...t);r.span=!0;}resetOutput(){this.rows=[];}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let r=t.map(n=>typeof n=="string"?this.colFromString(n):n);return this.rows.push(r),r}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let r=t.split(`
`).map(i=>i.split("	")),n=0;return r.forEach(i=>{i.length>1&&Ae.stringWidth(i[0])>n&&(n=Math.min(Math.floor(this.width*.5),Ae.stringWidth(i[0])));}),r.forEach(i=>{this.div(...i.map((s,o)=>({text:s.trim(),padding:this.measurePadding(s),width:o===0&&i.length>1?n:void 0})));}),this.rows[this.rows.length-1]}colFromString(t){return {text:t,padding:this.measurePadding(t)}}measurePadding(t){let r=Ae.stripAnsi(t);return [0,r.match(/\s*$/)[0].length,0,r.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(r=>{this.rowToString(r,t);}),t.filter(r=>!r.hidden).map(r=>r.text).join(`
`)}rowToString(t,r){return this.rasterize(t).forEach((n,i)=>{let s="";n.forEach((o,u)=>{let{width:a}=t[u],f=this.negatePadding(t[u]),l=o;if(f>Ae.stringWidth(o)&&(l+=" ".repeat(f-Ae.stringWidth(o))),t[u].align&&t[u].align!=="left"&&this.wrap){let d=Rg[t[u].align];l=d(l,f),Ae.stringWidth(l)<f&&(l+=" ".repeat((a||0)-Ae.stringWidth(l)-1));}let h=t[u].padding||[0,0,0,0];h[yn]&&(s+=" ".repeat(h[yn])),s+=aa(t[u],l,"| "),s+=l,s+=aa(t[u],l," |"),h[Dn]&&(s+=" ".repeat(h[Dn])),i===0&&r.length>0&&(s=this.renderInline(s,r[r.length-1]));}),r.push({text:s.replace(/ +$/,""),span:t.span});}),r}renderInline(t,r){let n=t.match(/^ */),i=n?n[0].length:0,s=r.text,o=Ae.stringWidth(s.trimRight());return r.span?this.wrap?i<o?t:(r.hidden=!0,s.trimRight()+" ".repeat(i-o)+t.trimLeft()):(r.hidden=!0,s+t):t}rasterize(t){let r=[],n=this.columnWidths(t),i;return t.forEach((s,o)=>{s.width=n[o],this.wrap?i=Ae.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[$g]||0).fill("")),i.push(...new Array(s.padding[Lg]||0).fill(""))),i.forEach((u,a)=>{r[a]||r.push([]);let f=r[a];for(let l=0;l<o;l++)f[l]===void 0&&f.push("");f.push(u);});}),r}negatePadding(t){let r=t.width||0;return t.padding&&(r-=(t.padding[yn]||0)+(t.padding[Dn]||0)),t.border&&(r-=4),r}columnWidths(t){if(!this.wrap)return t.map(o=>o.width||Ae.stringWidth(o.text));let r=t.length,n=this.width,i=t.map(o=>{if(o.width)return r--,n-=o.width,o.width}),s=r?Math.floor(n/r):0;return i.map((o,u)=>o===void 0?Math.max(s,Ng(t[u])):o)}};function aa(e,t,r){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?r:"  ":""}function Ng(e){let t=e.padding||[],r=1+(t[yn]||0)+(t[Dn]||0);return e.border?r+4:r}function Ig(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function Bg(e,t){e=e.trim();let r=Ae.stringWidth(e);return r<t?" ".repeat(t-r)+e:e}function Mg(e,t){e=e.trim();let r=Ae.stringWidth(e);return r>=t?e:" ".repeat(t-r>>1)+e}var Ae;function qg(e,t){return Ae=t,new ts({width:e?.width||Ig(),wrap:e?.wrap})}var Pg=dn(),kg=hn(),zg=ua();function Wg(e){return qg(e,{stringWidth:Pg,stripAnsi:kg,wrap:zg})}ca.exports=Wg;});var pa=R((Y1,da)=>{var{dirname:fa,resolve:ha}=I("path"),{readdirSync:Ug,statSync:Vg}=I("fs");da.exports=function(e,t){let r=ha(".",e),n;for(Vg(r).isDirectory()||(r=fa(r));;){if(n=t(r,Ug(r)),n)return ha(r,n);if(r=fa(n=r),n===r)break}};});var ma=R((K1,ga)=>{ga.exports=function(t){if(t===void 0&&(t=2),t>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+t+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var r=Error.prepareStackTrace;Error.prepareStackTrace=function(i,s){return s};var n=new Error().stack;if(Error.prepareStackTrace=r,n!==null&&typeof n=="object")return n[t]?n[t].getFileName():void 0};});var Fa=R((Z1,ns)=>{var Da=I("fs"),Hg=I("path").join,Gg=I("path").resolve,ya=I("path").dirname,rs={extensions:["js","json","coffee"],recurse:!0,rename:function(e){return e},visit:function(e){return e}};function Jg(e,t,r){return new RegExp("\\.("+r.extensions.join("|")+")$","i").test(t)&&!(r.include&&r.include instanceof RegExp&&!r.include.test(e))&&!(r.include&&typeof r.include=="function"&&!r.include(e,t))&&!(r.exclude&&r.exclude instanceof RegExp&&r.exclude.test(e))&&!(r.exclude&&typeof r.exclude=="function"&&r.exclude(e,t))}function Ea(e,t,r){var n={};t&&!r&&typeof t!="string"&&(r=t,t=null),r=r||{};for(var i in rs)typeof r[i]>"u"&&(r[i]=rs[i]);return t=t?Gg(ya(e.filename),t):ya(e.filename),Da.readdirSync(t).forEach(function(s){var o=Hg(t,s),u,a,f;Da.statSync(o).isDirectory()&&r.recurse?(u=Ea(e,o,r),Object.keys(u).length&&(n[r.rename(s,o,s)]=u)):o!==e.filename&&Jg(o,s,r)&&(a=s.substring(0,s.lastIndexOf(".")),f=e.require(o),n[r.rename(a,o,s)]=r.visit(f,o,s)||f);}),n}ns.exports=Ea;ns.exports.defaults=rs;});var Ba=R((Q1,Ia)=>{var va=I("assert"),je=class e extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace(this,e);}},os=[],vr;function vn(e,t,r,n){vr=n;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),o=null;if(s)o=Kg(t,e.extends);else try{o=I.resolve(e.extends);}catch{return e}Yg(o),os.push(o),i=s?JSON.parse(vr.readFileSync(o,"utf8")):I(e.extends),delete e.extends,i=vn(i,vr.path.dirname(o),r,vr);}return os=[],r?Ta(i,e):Object.assign({},i,e)}function Yg(e){if(os.indexOf(e)>-1)throw new je(`Circular extended configurations: '${e}'.`)}function Kg(e,t){return vr.path.resolve(e,t)}function Ta(e,t){let r={};function n(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(r,e);for(let i of Object.keys(t))n(t[i])&&n(r[i])?r[i]=Ta(e[i],t[i]):r[i]=t[i];return r}function Gt(e){let r=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,i=r.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(n,""),demanded:[],optional:[]};return r.forEach((o,u)=>{let a=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&u===r.length-1&&(a=!0),/^\[/.test(o)?s.optional.push({cmd:o.replace(n,"").split("|"),variadic:a}):s.demanded.push({cmd:o.replace(n,"").split("|"),variadic:a});}),s}var Zg=["first","second","third","fourth","fifth","sixth"];function Y(e,t,r){function n(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[Gt(`cmd ${e}`),t,r]}try{let i=0,[s,o,u]=n(),a=[].slice.call(o);for(;a.length&&a[a.length-1]===void 0;)a.pop();let f=u||a.length;if(f<s.demanded.length)throw new je(`Not enough arguments provided. Expected ${s.demanded.length} but received ${a.length}.`);let l=s.demanded.length+s.optional.length;if(f>l)throw new je(`Too many arguments provided. Expected max ${l} but received ${f}.`);s.demanded.forEach(h=>{let d=a.shift(),y=Ca(d);h.cmd.filter(D=>D===y||D==="*").length===0&&wa(y,h.cmd,i),i+=1;}),s.optional.forEach(h=>{if(a.length===0)return;let d=a.shift(),y=Ca(d);h.cmd.filter(D=>D===y||D==="*").length===0&&wa(y,h.cmd,i),i+=1;});}catch(i){console.warn(i.stack);}}function Ca(e){return Array.isArray(e)?"array":e===null?"null":typeof e}function wa(e,t,r){throw new je(`Invalid ${Zg[r]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}function ot(e){return !!e&&!!e.then&&typeof e.then=="function"}function Te(e,t,r,n){r.assert.notStrictEqual(e,t,n);}function Sa(e,t){t.assert.strictEqual(typeof e,"string");}function Fn(e){return Object.keys(e)}function Jt(e={},t=()=>!0){let r={};return Fn(e).forEach(n=>{t(n,e[n])&&(r[n]=e[n]);}),r}function ja(e,t){return function(r,n=!1){if(Y("<array|function> [boolean]",[r,n],arguments.length),Array.isArray(r)){for(let i=0;i<r.length;i++){if(typeof r[i]!="function")throw Error("middleware must be a function");r[i].applyBeforeValidation=n;}Array.prototype.push.apply(e,r);}else typeof r=="function"&&(r.applyBeforeValidation=n,e.push(r));return t}}function Qg(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}function ba(e,t,r,n){let i=new Error("middleware cannot return a promise when applyBeforeValidation is true");return r.reduce((s,o)=>{if(o.applyBeforeValidation!==n)return s;if(ot(s))return s.then(u=>Promise.all([u,o(u,t)])).then(([u,a])=>Object.assign(u,a));{let u=o(s,t);if(n&&ot(u))throw i;return ot(u)?u.then(a=>Object.assign(s,a)):Object.assign(s,u)}},e)}function Ra(){return Xg()?0:1}function Xg(){return em()&&!process.defaultApp}function em(){return !!process.versions.electron}function tm(e){return e.slice(Ra()+1)}function $a(){return process.argv[Ra()]}var rm=Object.freeze({__proto__:null,hideBin:tm,getProcessArgvBin:$a});function nm(e){if(typeof I>"u")return null;for(let t=0,r=Object.keys(I.cache),n;t<r.length;t++)if(n=I.cache[r[t]],n.exports===e)return n;return null}var Ht=/(^\*)|(^\$0)/;function im(e,t,r,n=[],i){let s={},o={},u={},a;s.addHandler=function(p,S,j,H,z,G){let x=[],W=Qg(z);if(H=H||(()=>{}),Array.isArray(p))if(sm(p))[p,...x]=p;else for(let U of p)s.addHandler(U);else if(um(p)){let U=Array.isArray(p.command)||typeof p.command=="string"?p.command:f(p);p.aliases&&(U=[].concat(U).concat(p.aliases)),s.addHandler(U,h(p),p.builder,p.handler,p.middlewares,p.deprecated);return}else if(Oa(j)){s.addHandler([p].concat(x),S,j.builder,j.handler,j.middlewares,j.deprecated);return}if(typeof p=="string"){let U=Gt(p);x=x.map(B=>Gt(B).cmd);let $=!1,N=[U.cmd].concat(x).filter(B=>Ht.test(B)?($=!0,!1):!0);N.length===0&&$&&N.push("$0"),$&&(U.cmd=N[0],x=N.slice(1),p=p.replace(Ht,U.cmd)),x.forEach(B=>{u[B]=U.cmd;}),S!==!1&&t.command(p,S,$,x,G),o[U.cmd]={original:p,description:S,handler:H,builder:j||{},middlewares:W,deprecated:G,demanded:U.demanded,optional:U.optional},$&&(a=o[U.cmd]);}},s.addDirectory=function(p,S,j,H,z){z=z||{},typeof z.recurse!="boolean"&&(z.recurse=!1),Array.isArray(z.extensions)||(z.extensions=["js"]);let G=typeof z.visit=="function"?z.visit:x=>x;z.visit=function(W,U,$){let N=G(W,U,$);if(N){if(~S.files.indexOf(U))return N;S.files.push(U),s.addHandler(N);}return N},i.requireDirectory({require:j,filename:H},p,z);};function f(v){let p=nm(v);if(!p)throw new Error(`No command name given for module: ${i.inspect(v)}`);return l(p.filename)}function l(v){return i.path.basename(v,i.path.extname(v))}function h({describe:v,description:p,desc:S}){for(let j of [v,p,S]){if(typeof j=="string"||j===!1)return j;Te(j,!0,i);}return !1}s.getCommands=()=>Object.keys(o).concat(Object.keys(u)),s.getCommandHandlers=()=>o,s.hasDefaultCommand=()=>!!a,s.runCommand=function(p,S,j,H){let z=j.aliases,G=o[p]||o[u[p]]||a,x=S.getContext(),W=x.files.length,U=x.commands.slice(),$=j.argv,N={};p&&(x.commands.push(p),x.fullCommands.push(G.original));let B=G.builder;if(us(B)){let L=B(S.reset(j.aliases)),T=ym(L)?L:S;d(T)&&T.getUsageInstance().usage(y(U,G),G.description),$=T._parseArgs(null,null,!0,H),z=T.parsed.aliases;}else if(om(B)){let L=S.reset(j.aliases);d(L)&&L.getUsageInstance().usage(y(U,G),G.description),Object.keys(G.builder).forEach(T=>{L.option(T,B[T]);}),$=L._parseArgs(null,null,!0,H),z=L.parsed.aliases;}S._hasOutput()||(N=C(G,$,x));let _=n.slice(0).concat(G.middlewares);if(ba($,S,_,!0),S._hasOutput()||S._runValidation($,z,N,S.parsed.error,!p),G.handler&&!S._hasOutput()){S._setHasOutput();let L=!!S.getOptions().configuration["populate--"];S._postProcess($,L),$=ba($,S,_,!1);let T;ot($)?T=$.then(M=>G.handler(M)):T=G.handler($);let k=S.getHandlerFinishCommand();ot(T)?(S.getUsageInstance().cacheHelpMessage(),T.then(M=>{k&&k(M);}).catch(M=>{try{S.getUsageInstance().fail(null,M);}catch{}}).then(()=>{S.getUsageInstance().clearCachedHelpMessage();})):k&&k(T);}return p&&(x.commands.pop(),x.fullCommands.pop()),W=x.files.length-W,W>0&&x.files.splice(W*-1,W),$};function d(v){return !v.getUsageInstance().getUsageDisabled()&&v.getUsageInstance().getUsage().length===0}function y(v,p){let S=Ht.test(p.original)?p.original.replace(Ht,"").trim():p.original,j=v.filter(H=>!Ht.test(H));return j.push(S),`$0 ${j.join(" ")}`}s.runDefaultBuilderOn=function(v){if(Te(a,void 0,i),d(v)){let S=Ht.test(a.original)?a.original:a.original.replace(/^[^[\]<>]*/,"$0 ");v.getUsageInstance().usage(S,a.description);}let p=a.builder;us(p)?p(v):Oa(p)||Object.keys(p).forEach(S=>{v.option(S,p[S]);});};function C(v,p,S){p._=p._.slice(S.commands.length);let j=v.demanded.slice(0),H=v.optional.slice(0),z={};for(r.positionalCount(j.length,p._.length);j.length;){let G=j.shift();D(G,p,z);}for(;H.length;){let G=H.shift();D(G,p,z);}return p._=S.commands.concat(p._.map(G=>""+G)),O(p,z,s.cmdToParseOptions(v.original)),z}function D(v,p,S){let j=v.cmd[0];v.variadic?S[j]=p._.splice(0).map(String):p._.length&&(S[j]=[String(p._.shift())]);}function O(v,p,S){let j=Object.assign({},e.getOptions());j.default=Object.assign(S.default,j.default);for(let x of Object.keys(S.alias))j.alias[x]=(j.alias[x]||[]).concat(S.alias[x]);j.array=j.array.concat(S.array),j.config={};let H=[];if(Object.keys(p).forEach(x=>{p[x].map(W=>{j.configuration["unknown-options-as-args"]&&(j.key[x]=!0),H.push(`--${x}`),H.push(W);});}),!H.length)return;let z=Object.assign({},j.configuration,{"populate--":!0}),G=i.Parser.detailed(H,Object.assign({},j,{configuration:z}));if(G.error)e.getUsageInstance().fail(G.error.message,G.error);else {let x=Object.keys(p);Object.keys(p).forEach(W=>{x.push(...G.aliases[W]);}),Object.keys(G.argv).forEach(W=>{x.indexOf(W)!==-1&&(p[W]||(p[W]=G.argv[W]),v[W]=G.argv[W]);});}}s.cmdToParseOptions=function(v){let p={array:[],default:{},alias:{},demand:{}},S=Gt(v);return S.demanded.forEach(j=>{let[H,...z]=j.cmd;j.variadic&&(p.array.push(H),p.default[H]=[]),p.alias[H]=z,p.demand[H]=!0;}),S.optional.forEach(j=>{let[H,...z]=j.cmd;j.variadic&&(p.array.push(H),p.default[H]=[]),p.alias[H]=z;}),p},s.reset=()=>(o={},u={},a=void 0,s);let A=[];return s.freeze=()=>{A.push({handlers:o,aliasMap:u,defaultCommand:a});},s.unfreeze=()=>{let v=A.pop();Te(v,void 0,i),{handlers:o,aliasMap:u,defaultCommand:a}=v;},s}function Oa(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}function sm(e){return !!e.every(t=>typeof t=="string")}function us(e){return typeof e=="function"}function om(e){return typeof e=="object"}function um(e){return typeof e=="object"&&!Array.isArray(e)}function Cr(e){typeof process>"u"||[process.stdout,process.stderr].forEach(t=>{let r=t;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(e);});}function am(e,t,r){let n=t.__,i={},s=[];i.failFn=function(N){s.push(N);};let o=null,u=!0;i.showHelpOnFail=function(N=!0,B){function _(){return typeof N=="string"?[!0,N]:[N,B]}let[L,T]=_();return o=T,u=L,i};let a=!1;i.fail=function(N,B){let _=e._getLoggerInstance();if(s.length)for(let L=s.length-1;L>=0;--L)s[L](N,B,i);else {if(e.getExitProcess()&&Cr(!0),a||(a=!0,u&&(e.showHelp("error"),_.error()),(N||B)&&_.error(N||B),o&&((N||B)&&_.error(""),_.error(o))),B=B||new je(N),e.getExitProcess())return e.exit(1);if(e._hasParseCallback())return e.exit(1,B);throw B}};let f=[],l=!1;i.usage=($,N)=>$===null?(l=!0,f=[],i):(l=!1,f.push([$,N||""]),i),i.getUsage=()=>f,i.getUsageDisabled=()=>l,i.getPositionalGroupName=()=>n("Positionals:");let h=[];i.example=($,N)=>{h.push([$,N||""]);};let d=[];i.command=function(N,B,_,L,T=!1){_&&(d=d.map(k=>(k[2]=!1,k))),d.push([N,B||"",_,L,T]);},i.getCommands=()=>d;let y={};i.describe=function(N,B){Array.isArray(N)?N.forEach(_=>{i.describe(_,B);}):typeof N=="object"?Object.keys(N).forEach(_=>{i.describe(_,N[_]);}):y[N]=B;},i.getDescriptions=()=>y;let C=[];i.epilog=$=>{C.push($);};let D=!1,O;i.wrap=$=>{D=!0,O=$;};function A(){return D||(O=x(),D=!0),O}let v="__yargsString__:";i.deferY18nLookup=$=>v+$,i.help=function(){if(j)return j;S();let N=e.customScriptName?e.$0:r.path.basename(e.$0),B=e.getDemandedOptions(),_=e.getDemandedCommands(),L=e.getDeprecatedOptions(),T=e.getGroups(),k=e.getOptions(),M=[];M=M.concat(Object.keys(y)),M=M.concat(Object.keys(B)),M=M.concat(Object.keys(_)),M=M.concat(Object.keys(k.default)),M=M.filter(z),M=Object.keys(M.reduce((J,ie)=>(ie!=="_"&&(J[ie]=!0),J),{}));let oe=A(),re=r.cliui({width:oe,wrap:!!oe});if(!l){if(f.length)f.forEach(J=>{re.div(`${J[0].replace(/\$0/g,N)}`),J[1]&&re.div({text:`${J[1]}`,padding:[1,0,0,0]});}),re.div();else if(d.length){let J=null;_._?J=`${N} <${n("command")}>
`:J=`${N} [${n("command")}]
`,re.div(`${J}`);}}if(d.length){re.div(n("Commands:"));let J=e.getContext(),ie=J.commands.length?`${J.commands.join(" ")} `:"";e.getParserConfiguration()["sort-commands"]===!0&&(d=d.sort((ee,se)=>ee[0].localeCompare(se[0]))),d.forEach(ee=>{let se=`${N} ${ie}${ee[0].replace(/^\$0 ?/,"")}`;re.span({text:se,padding:[0,2,0,2],width:p(d,oe,`${N}${ie}`)+4},{text:ee[1]});let ce=[];ee[2]&&ce.push(`[${n("default")}]`),ee[3]&&ee[3].length&&ce.push(`[${n("aliases:")} ${ee[3].join(", ")}]`),ee[4]&&(typeof ee[4]=="string"?ce.push(`[${n("deprecated: %s",ee[4])}]`):ce.push(`[${n("deprecated")}]`)),ce.length?re.div({text:ce.join(" "),padding:[0,0,0,2],align:"right"}):re.div();}),re.div();}let Ke=(Object.keys(k.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);M=M.filter(J=>!e.parsed.newAliases[J]&&Ke.every(ie=>(k.alias[ie]||[]).indexOf(J)===-1));let Z=n("Options:");T[Z]||(T[Z]=[]),H(M,k.alias,T,Z);let Ne=J=>/^--/.test(En(J)),ge=Object.keys(T).filter(J=>T[J].length>0).map(J=>{let ie=T[J].filter(z).map(ee=>{if(~Ke.indexOf(ee))return ee;for(let se=0,ce;(ce=Ke[se])!==void 0;se++)if(~(k.alias[ce]||[]).indexOf(ee))return ce;return ee});return {groupName:J,normalizedKeys:ie}}).filter(({normalizedKeys:J})=>J.length>0).map(({groupName:J,normalizedKeys:ie})=>{let ee=ie.reduce((se,ce)=>(se[ce]=[ce].concat(k.alias[ce]||[]).map(m=>J===i.getPositionalGroupName()?m:(/^[0-9]$/.test(m)?~k.boolean.indexOf(ce)?"-":"--":m.length>1?"--":"-")+m).sort((m,E)=>Ne(m)===Ne(E)?0:Ne(m)?1:-1).join(", "),se),{});return {groupName:J,normalizedKeys:ie,switches:ee}});if(ge.filter(({groupName:J})=>J!==i.getPositionalGroupName()).some(({normalizedKeys:J,switches:ie})=>!J.every(ee=>Ne(ie[ee])))&&ge.filter(({groupName:J})=>J!==i.getPositionalGroupName()).forEach(({normalizedKeys:J,switches:ie})=>{J.forEach(ee=>{Ne(ie[ee])&&(ie[ee]=cm(ie[ee],4));});}),ge.forEach(({groupName:J,normalizedKeys:ie,switches:ee})=>{re.div(J),ie.forEach(se=>{let ce=ee[se],m=y[se]||"",E=null;~m.lastIndexOf(v)&&(m=n(m.substring(v.length))),~k.boolean.indexOf(se)&&(E=`[${n("boolean")}]`),~k.count.indexOf(se)&&(E=`[${n("count")}]`),~k.string.indexOf(se)&&(E=`[${n("string")}]`),~k.normalize.indexOf(se)&&(E=`[${n("string")}]`),~k.array.indexOf(se)&&(E=`[${n("array")}]`),~k.number.indexOf(se)&&(E=`[${n("number")}]`);let c=b=>typeof b=="string"?`[${n("deprecated: %s",b)}]`:`[${n("deprecated")}]`,g=[se in L?c(L[se]):null,E,se in B?`[${n("required")}]`:null,k.choices&&k.choices[se]?`[${n("choices:")} ${i.stringifiedValues(k.choices[se])}]`:null,G(k.default[se],k.defaultDescription[se])].filter(Boolean).join(" ");re.span({text:En(ce),padding:[0,2,0,2+_a(ce)],width:p(ee,oe)+4},m),g?re.div({text:g,padding:[0,0,0,2],align:"right"}):re.div();}),re.div();}),h.length&&(re.div(n("Examples:")),h.forEach(J=>{J[0]=J[0].replace(/\$0/g,N);}),h.forEach(J=>{J[1]===""?re.div({text:J[0],padding:[0,2,0,2]}):re.div({text:J[0],padding:[0,2,0,2],width:p(h,oe)+4},{text:J[1]});}),re.div()),C.length>0){let J=C.map(ie=>ie.replace(/\$0/g,N)).join(`
`);re.div(`${J}
`);}return re.toString().replace(/\s*$/,"")};function p($,N,B){let _=0;return Array.isArray($)||($=Object.values($).map(L=>[L])),$.forEach(L=>{_=Math.max(r.stringWidth(B?`${B} ${En(L[0])}`:En(L[0]))+_a(L[0]),_);}),N&&(_=Math.min(_,parseInt((N*.5).toString(),10))),_}function S(){let $=e.getDemandedOptions(),N=e.getOptions();(Object.keys(N.alias)||[]).forEach(B=>{N.alias[B].forEach(_=>{y[_]&&i.describe(B,y[_]),_ in $&&e.demandOption(B,$[_]),~N.boolean.indexOf(_)&&e.boolean(B),~N.count.indexOf(_)&&e.count(B),~N.string.indexOf(_)&&e.string(B),~N.normalize.indexOf(_)&&e.normalize(B),~N.array.indexOf(_)&&e.array(B),~N.number.indexOf(_)&&e.number(B);});});}let j;i.cacheHelpMessage=function(){j=this.help();},i.clearCachedHelpMessage=function(){j=void 0;};function H($,N,B,_){let L=[],T=null;return Object.keys(B).forEach(k=>{L=L.concat(B[k]);}),$.forEach(k=>{T=[k].concat(N[k]),T.some(M=>L.indexOf(M)!==-1)||B[_].push(k);}),L}function z($){return e.getOptions().hiddenOptions.indexOf($)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}i.showHelp=$=>{let N=e._getLoggerInstance();$||($="error"),(typeof $=="function"?$:N[$])(i.help());},i.functionDescription=$=>["(",$.name?r.Parser.decamelize($.name,"-"):n("generated-value"),")"].join(""),i.stringifiedValues=function(N,B){let _="",L=B||", ",T=[].concat(N);return !N||!T.length||T.forEach(k=>{_.length&&(_+=L),_+=JSON.stringify(k);}),_};function G($,N){let B=`[${n("default:")} `;if($===void 0&&!N)return null;if(N)B+=N;else switch(typeof $){case"string":B+=`"${$}"`;break;case"object":B+=JSON.stringify($);break;default:B+=$;}return `${B}]`}function x(){return r.process.stdColumns?Math.min(80,r.process.stdColumns):80}let W=null;i.version=$=>{W=$;},i.showVersion=()=>{e._getLoggerInstance().log(W);},i.reset=function(N){return o=null,a=!1,f=[],l=!1,C=[],h=[],d=[],y=Jt(y,B=>!N[B]),i};let U=[];return i.freeze=function(){U.push({failMessage:o,failureOutput:a,usages:f,usageDisabled:l,epilogs:C,examples:h,commands:d,descriptions:y});},i.unfreeze=function(){let N=U.pop();Te(N,void 0,r),{failMessage:o,failureOutput:a,usages:f,usageDisabled:l,epilogs:C,examples:h,commands:d,descriptions:y}=N;},i}function as(e){return typeof e=="object"}function cm(e,t){return as(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}function _a(e){return as(e)?e.indentation:0}function En(e){return as(e)?e.text:e}var lm=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o default -F _yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,fm=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;function hm(e,t,r,n){let i={completionKey:"get-yargs-completions"},s;i.setParsed=function(f){s=f.aliases;};let o=n.getEnv("SHELL")&&n.getEnv("SHELL").indexOf("zsh")!==-1||n.getEnv("ZSH_NAME")&&n.getEnv("ZSH_NAME").indexOf("zsh")!==-1;i.getCompletion=function(f,l){let h=[],d=f.length?f[f.length-1]:"",y=e.parse(f,!0),C=e.getContext().commands;function D(A){if(Te(u,null,n),dm(u)){let v=u(d,A);return ot(v)?v.then(p=>{n.process.nextTick(()=>{l(p);});}).catch(p=>{n.process.nextTick(()=>{throw p});}):l(v)}else return u(d,A,v=>{l(v);})}if(u)return ot(y)?y.then(D):D(y);let O=r.getCommandHandlers();for(let A=0,v=f.length;A<v;++A)if(O[f[A]]&&O[f[A]].builder){let p=O[f[A]].builder;if(us(p)){let S=e.reset();return p(S),S.argv}}if(!d.match(/^-/)&&C[C.length-1]!==d&&t.getCommands().forEach(A=>{let v=Gt(A[0]).cmd;if(f.indexOf(v)===-1)if(!o)h.push(v);else {let p=A[1]||"";h.push(v.replace(/:/g,"\\:")+":"+p);}}),d.match(/^-/)||d===""&&h.length===0){let A=t.getDescriptions(),v=e.getOptions();Object.keys(v.key).forEach(p=>{let S=!!v.configuration["boolean-negation"]&&v.boolean.includes(p),j=[p].concat(s[p]||[]);S&&(j=j.concat(j.map(z=>`no-${z}`)));function H(z){if(j.every(x=>f.indexOf(`--${x}`)===-1)){let x=$=>/^--/.test($),W=$=>/^[^0-9]$/.test($),U=!x(d)&&W(z)?"-":"--";if(!o)h.push(U+z);else {let $=A[z]||"";h.push(U+`${z.replace(/:/g,"\\:")}:${$.replace("__yargsString__:","")}`);}}}H(p),S&&v.default[p]&&H(`no-${p}`);});}l(h);},i.generateCompletionScript=function(f,l){let h=o?fm:lm,d=n.path.basename(f);return f.match(/\.js$/)&&(f=`./${f}`),h=h.replace(/{{app_name}}/g,d),h=h.replace(/{{completion_command}}/g,l),h.replace(/{{app_path}}/g,f)};let u=null;return i.registerFunction=a=>{u=a;},i}function dm(e){return e.length<3}function pm(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];let i;for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}var xa=["$0","--","_"];function gm(e,t,r,n){let i=r.__,s=r.__n,o={};o.nonOptionCount=function(y){let C=e.getDemandedCommands(),O=y._.length+(y["--"]?y["--"].length:0)-e.getContext().commands.length;C._&&(O<C._.min||O>C._.max)&&(O<C._.min?C._.minMsg!==void 0?t.fail(C._.minMsg?C._.minMsg.replace(/\$0/g,O.toString()).replace(/\$1/,C._.min.toString()):null):t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",O,O.toString(),C._.min.toString())):O>C._.max&&(C._.maxMsg!==void 0?t.fail(C._.maxMsg?C._.maxMsg.replace(/\$0/g,O.toString()).replace(/\$1/,C._.max.toString()):null):t.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",O,O.toString(),C._.max.toString()))));},o.positionalCount=function(y,C){C<y&&t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",C,C+"",y+""));},o.requiredArguments=function(y){let C=e.getDemandedOptions(),D=null;for(let O of Object.keys(C))(!Object.prototype.hasOwnProperty.call(y,O)||typeof y[O]>"u")&&(D=D||{},D[O]=C[O]);if(D){let O=[];for(let v of Object.keys(D)){let p=D[v];p&&O.indexOf(p)<0&&O.push(p);}let A=O.length?`
${O.join(`
`)}`:"";t.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(D).length,Object.keys(D).join(", ")+A));}},o.unknownArguments=function(y,C,D,O,A=!0){let v=e.getCommandInstance().getCommands(),p=[],S=e.getContext();Object.keys(y).forEach(j=>{xa.indexOf(j)===-1&&!Object.prototype.hasOwnProperty.call(D,j)&&!Object.prototype.hasOwnProperty.call(e._getParseContext(),j)&&!o.isValidAndSomeAliasIsNotNew(j,C)&&p.push(j);}),A&&(S.commands.length>0||v.length>0||O)&&y._.slice(S.commands.length).forEach(j=>{v.indexOf(""+j)===-1&&p.push(""+j);}),p.length>0&&t.fail(s("Unknown argument: %s","Unknown arguments: %s",p.length,p.join(", ")));},o.unknownCommands=function(y){let C=e.getCommandInstance().getCommands(),D=[],O=e.getContext();return (O.commands.length>0||C.length>0)&&y._.slice(O.commands.length).forEach(A=>{C.indexOf(""+A)===-1&&D.push(""+A);}),D.length>0?(t.fail(s("Unknown command: %s","Unknown commands: %s",D.length,D.join(", "))),!0):!1},o.isValidAndSomeAliasIsNotNew=function(y,C){if(!Object.prototype.hasOwnProperty.call(C,y))return !1;let D=e.parsed.newAliases;for(let O of [y,...C[y]])if(!Object.prototype.hasOwnProperty.call(D,O)||!D[y])return !0;return !1},o.limitedChoices=function(y){let C=e.getOptions(),D={};if(!Object.keys(C.choices).length)return;Object.keys(y).forEach(v=>{xa.indexOf(v)===-1&&Object.prototype.hasOwnProperty.call(C.choices,v)&&[].concat(y[v]).forEach(p=>{C.choices[v].indexOf(p)===-1&&p!==void 0&&(D[v]=(D[v]||[]).concat(p));});});let O=Object.keys(D);if(!O.length)return;let A=i("Invalid values:");O.forEach(v=>{A+=`
  ${i("Argument: %s, Given: %s, Choices: %s",v,t.stringifiedValues(D[v]),t.stringifiedValues(C.choices[v]))}`;}),t.fail(A);};let u=[];o.check=function(y,C){u.push({func:y,global:C});},o.customChecks=function(y,C){for(let D=0,O;(O=u[D])!==void 0;D++){let A=O.func,v=null;try{v=A(y,C);}catch(p){t.fail(p.message?p.message:p,p);continue}v?(typeof v=="string"||v instanceof Error)&&t.fail(v.toString(),v):t.fail(i("Argument check failed: %s",A.toString()));}};let a={};o.implies=function(y,C){Y("<string|object> [array|number|string]",[y,C],arguments.length),typeof y=="object"?Object.keys(y).forEach(D=>{o.implies(D,y[D]);}):(e.global(y),a[y]||(a[y]=[]),Array.isArray(C)?C.forEach(D=>o.implies(y,D)):(Te(C,void 0,n),a[y].push(C)));},o.getImplied=function(){return a};function f(d,y){let C=Number(y);return y=isNaN(C)?y:C,typeof y=="number"?y=d._.length>=y:y.match(/^--no-.+/)?(y=y.match(/^--no-(.+)/)[1],y=!d[y]):y=d[y],y}o.implications=function(y){let C=[];if(Object.keys(a).forEach(D=>{let O=D;(a[D]||[]).forEach(A=>{let v=O,p=A;v=f(y,v),A=f(y,A),v&&!A&&C.push(` ${O} -> ${p}`);});}),C.length){let D=`${i("Implications failed:")}
`;C.forEach(O=>{D+=O;}),t.fail(D);}};let l={};o.conflicts=function(y,C){Y("<string|object> [array|string]",[y,C],arguments.length),typeof y=="object"?Object.keys(y).forEach(D=>{o.conflicts(D,y[D]);}):(e.global(y),l[y]||(l[y]=[]),Array.isArray(C)?C.forEach(D=>o.conflicts(y,D)):l[y].push(C));},o.getConflicting=()=>l,o.conflicting=function(y){Object.keys(y).forEach(C=>{l[C]&&l[C].forEach(D=>{D&&y[C]!==void 0&&y[D]!==void 0&&t.fail(i("Arguments %s and %s are mutually exclusive",C,D));});});},o.recommendCommands=function(y,C){C=C.sort((v,p)=>p.length-v.length);let O=null,A=1/0;for(let v=0,p;(p=C[v])!==void 0;v++){let S=pm(y,p);S<=3&&S<A&&(A=S,O=p);}O&&t.fail(i("Did you mean %s?",O));},o.reset=function(y){return a=Jt(a,C=>!y[C]),l=Jt(l,C=>!y[C]),u=u.filter(C=>C.global),o};let h=[];return o.freeze=function(){h.push({implied:a,checks:u,conflicting:l});},o.unfreeze=function(){let y=h.pop();Te(y,void 0,n),{implied:a,checks:u,conflicting:l}=y;},o}var Q;function mm(e){return Q=e,Dm}function Dm(e=[],t=Q.process.cwd(),r){let n={},i,s=null,o={},u=[],a="",f={},l,h,d=null,y=Q.y18n;n.middleware=ja(u,n),n.scriptName=function(m){return n.customScriptName=!0,n.$0=m,n};let C;/\b(node|iojs|electron)(\.exe)?$/.test(Q.process.argv()[0])?C=Q.process.argv().slice(1,2):C=Q.process.argv().slice(0,1),n.$0=C.map(m=>{let E=La(t,m);return m.match(/^(\/|([a-zA-Z]:)?\\)/)&&E.length<m.length?E:m}).join(" ").trim(),Q.getEnv("_")&&Q.getProcessArgvBin()===Q.getEnv("_")&&(n.$0=Q.getEnv("_").replace(`${Q.path.dirname(Q.process.execPath())}/`,""));let D={resets:-1,commands:[],fullCommands:[],files:[]};n.getContext=()=>D;let O=!1,A=null;n.exit=(m,E)=>{O=!0,A=E,J&&Q.process.exit(m);};let v=null;n.completion=function(m,E,c){return Y("[string] [string|boolean|function] [function]",[m,E,c],arguments.length),typeof E=="function"&&(c=E,E=void 0),v=m||v||"completion",!E&&E!==!1&&(E="generate completion script"),n.command(v,E),c&&s.registerFunction(c),n};let p;n.resetOptions=n.reset=function(E={}){D.resets++,p=p||{};let c={};c.local=p.local?p.local:[],c.configObjects=p.configObjects?p.configObjects:[];let g={};c.local.forEach(F=>{g[F]=!0,(E[F]||[]).forEach(q=>{g[q]=!0;});}),Object.assign(f,Object.keys(o).reduce((F,q)=>{let P=o[q].filter(V=>!(V in g));return P.length>0&&(F[q]=P),F},{})),o={};let b=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],w=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","coerce","deprecatedOptions"];return b.forEach(F=>{c[F]=(p[F]||[]).filter(q=>!g[q]);}),w.forEach(F=>{c[F]=Jt(p[F],q=>!g[q]);}),c.envPrefix=p.envPrefix,p=c,l=l?l.reset(g):am(n,y,Q),h=h?h.reset(g):gm(n,l,y,Q),i=i?i.reset():im(n,l,h,u,Q),s||(s=hm(n,l,i,Q)),v=null,a="",A=null,O=!1,n.parsed=!1,n},n.resetOptions();let S=[];function j(){S.push({options:p,configObjects:p.configObjects.slice(0),exitProcess:J,groups:o,strict:M,strictCommands:oe,strictOptions:re,completionCommand:v,output:a,exitError:A,hasOutput:O,parsed:n.parsed,parseFn:T,parseContext:k,handlerFinishCommand:d}),l.freeze(),h.freeze(),i.freeze();}function H(){let m=S.pop();Te(m,void 0,Q);let E;(({options:p,configObjects:E,exitProcess:J,groups:o,output:a,exitError:A,hasOutput:O,parsed:n.parsed,strict:M,strictCommands:oe,strictOptions:re,completionCommand:v,parseFn:T,parseContext:k,handlerFinishCommand:d}=m)),p.configObjects=E,l.unfreeze(),h.unfreeze(),i.unfreeze();}n.boolean=function(m){return Y("<array|string>",[m],arguments.length),z("boolean",m),n},n.array=function(m){return Y("<array|string>",[m],arguments.length),z("array",m),n},n.number=function(m){return Y("<array|string>",[m],arguments.length),z("number",m),n},n.normalize=function(m){return Y("<array|string>",[m],arguments.length),z("normalize",m),n},n.count=function(m){return Y("<array|string>",[m],arguments.length),z("count",m),n},n.string=function(m){return Y("<array|string>",[m],arguments.length),z("string",m),n},n.requiresArg=function(m){return Y("<array|string|object> [number]",[m],arguments.length),typeof m=="string"&&p.narg[m]||W(n.requiresArg,"narg",m,NaN),n},n.skipValidation=function(m){return Y("<array|string>",[m],arguments.length),z("skipValidation",m),n};function z(m,E){E=[].concat(E),E.forEach(c=>{c=N(c),p[m].push(c);});}n.nargs=function(m,E){return Y("<string|object|array> [number]",[m,E],arguments.length),W(n.nargs,"narg",m,E),n},n.choices=function(m,E){return Y("<object|string|array> [string|array]",[m,E],arguments.length),U(n.choices,"choices",m,E),n},n.alias=function(m,E){return Y("<object|string|array> [string|array]",[m,E],arguments.length),U(n.alias,"alias",m,E),n},n.default=n.defaults=function(m,E,c){return Y("<object|string|array> [*] [string]",[m,E,c],arguments.length),c&&(Sa(m,Q),p.defaultDescription[m]=c),typeof E=="function"&&(Sa(m,Q),p.defaultDescription[m]||(p.defaultDescription[m]=l.functionDescription(E)),E=E.call()),W(n.default,"default",m,E),n},n.describe=function(m,E){return Y("<object|string|array> [string]",[m,E],arguments.length),G(m,!0),l.describe(m,E),n};function G(m,E){return W(G,"key",m,E),n}function x(m,E){return Y("<object|string|array> [string]",[m,E],arguments.length),W(n.demandOption,"demandedOptions",m,E),n}n.demandOption=x,n.coerce=function(m,E){return Y("<object|string|array> [function]",[m,E],arguments.length),W(n.coerce,"coerce",m,E),n};function W(m,E,c,g){$(m,E,c,g,(b,w,F)=>{p[b][w]=F;});}function U(m,E,c,g){$(m,E,c,g,(b,w,F)=>{p[b][w]=(p[b][w]||[]).concat(F);});}function $(m,E,c,g,b){if(Array.isArray(c))c.forEach(w=>{m(w,g);});else if((w=>typeof w=="object")(c))for(let w of Fn(c))m(w,c[w]);else b(E,N(c),g);}function N(m){return m==="__proto__"?"___proto___":m}function B(m){Fn(p).forEach(E=>{if((g=>g==="configObjects")(E))return;let c=p[E];Array.isArray(c)?~c.indexOf(m)&&c.splice(c.indexOf(m),1):typeof c=="object"&&delete c[m];}),delete l.getDescriptions()[m];}n.config=function(E="config",c,g){return Y("[object|string] [string|function] [function]",[E,c,g],arguments.length),typeof E=="object"&&!Array.isArray(E)?(E=vn(E,t,n.getParserConfiguration()["deep-merge-config"]||!1,Q),p.configObjects=(p.configObjects||[]).concat(E),n):(typeof c=="function"&&(g=c,c=void 0),n.describe(E,c||l.deferY18nLookup("Path to JSON config file")),(Array.isArray(E)?E:[E]).forEach(b=>{p.config[b]=g||!0;}),n)},n.example=function(m,E){return Y("<string|array> [string]",[m,E],arguments.length),Array.isArray(m)?m.forEach(c=>n.example(...c)):l.example(m,E),n},n.command=function(m,E,c,g,b,w){return Y("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[m,E,c,g,b,w],arguments.length),i.addHandler(m,E,c,g,b,w),n},n.commandDir=function(m,E){Y("<string> [object]",[m,E],arguments.length);let c=r||Q.require;return i.addDirectory(m,n.getContext(),c,Q.getCallerFile(),E),n},n.demand=n.required=n.require=function(E,c,g){return Array.isArray(c)?(c.forEach(b=>{Te(g,!0,Q),x(b,g);}),c=1/0):typeof c!="number"&&(g=c,c=1/0),typeof E=="number"?(Te(g,!0,Q),n.demandCommand(E,c,g,g)):Array.isArray(E)?E.forEach(b=>{Te(g,!0,Q),x(b,g);}):typeof g=="string"?x(E,g):(g===!0||typeof g>"u")&&x(E),n},n.demandCommand=function(E=1,c,g,b){return Y("[number] [number|string] [string|null|undefined] [string|null|undefined]",[E,c,g,b],arguments.length),typeof c!="number"&&(g=c,c=1/0),n.global("_",!1),p.demandedCommands._={min:E,max:c,minMsg:g,maxMsg:b},n},n.getDemandedOptions=()=>(Y([],0),p.demandedOptions),n.getDemandedCommands=()=>(Y([],0),p.demandedCommands),n.deprecateOption=function(E,c){return Y("<string> [string|boolean]",[E,c],arguments.length),p.deprecatedOptions[E]=c,n},n.getDeprecatedOptions=()=>(Y([],0),p.deprecatedOptions),n.implies=function(m,E){return Y("<string|object> [number|string|array]",[m,E],arguments.length),h.implies(m,E),n},n.conflicts=function(m,E){return Y("<string|object> [string|array]",[m,E],arguments.length),h.conflicts(m,E),n},n.usage=function(m,E,c,g){if(Y("<string|null|undefined> [string|boolean] [function|object] [function]",[m,E,c,g],arguments.length),E!==void 0){if(Te(m,null,Q),(m||"").match(/^\$0( |$)/))return n.command(m,E,c,g);throw new je(".usage() description must start with $0 if being used as alias for .command()")}else return l.usage(m),n},n.epilogue=n.epilog=function(m){return Y("<string>",[m],arguments.length),l.epilog(m),n},n.fail=function(m){return Y("<function>",[m],arguments.length),l.failFn(m),n},n.onFinishCommand=function(m){return Y("<function>",[m],arguments.length),d=m,n},n.getHandlerFinishCommand=()=>d,n.check=function(m,E){return Y("<function> [boolean]",[m,E],arguments.length),h.check(m,E!==!1),n},n.global=function(m,E){return Y("<string|array> [boolean]",[m,E],arguments.length),m=[].concat(m),E!==!1?p.local=p.local.filter(c=>m.indexOf(c)===-1):m.forEach(c=>{p.local.indexOf(c)===-1&&p.local.push(c);}),n},n.pkgConf=function(E,c){Y("<string> [string]",[E,c],arguments.length);let g=null,b=L(c||t);return b[E]&&typeof b[E]=="object"&&(g=vn(b[E],c||t,n.getParserConfiguration()["deep-merge-config"]||!1,Q),p.configObjects=(p.configObjects||[]).concat(g)),n};let _={};function L(m){let E=m||"*";if(_[E])return _[E];let c={};try{let g=m||Q.mainFilename;!m&&Q.path.extname(g)&&(g=Q.path.dirname(g));let b=Q.findUp(g,(w,F)=>{if(F.includes("package.json"))return "package.json"});Te(b,void 0,Q),c=JSON.parse(Q.readFileSync(b,"utf8"));}catch{}return _[E]=c||{},_[E]}let T=null,k=null;n.parse=function(E,c,g){if(Y("[string|array] [function|boolean|object] [function]",[E,c,g],arguments.length),j(),typeof E>"u"){let w=n._parseArgs(e),F=n.parsed;return H(),n.parsed=F,w}typeof c=="object"&&(k=c,c=g),typeof c=="function"&&(T=c,c=!1),c||(e=E),T&&(J=!1);let b=n._parseArgs(E,!!c);return s.setParsed(n.parsed),T&&T(A,b,a),H(),b},n._getParseContext=()=>k||{},n._hasParseCallback=()=>!!T,n.option=n.options=function(E,c){if(Y("<string|object> [object]",[E,c],arguments.length),typeof E=="object")Object.keys(E).forEach(g=>{n.options(g,E[g]);});else {typeof c!="object"&&(c={}),p.key[E]=!0,c.alias&&n.alias(E,c.alias);let g=c.deprecate||c.deprecated;g&&n.deprecateOption(E,g);let b=c.demand||c.required||c.require;b&&n.demand(E,b),c.demandOption&&n.demandOption(E,typeof c.demandOption=="string"?c.demandOption:void 0),c.conflicts&&n.conflicts(E,c.conflicts),"default"in c&&n.default(E,c.default),c.implies!==void 0&&n.implies(E,c.implies),c.nargs!==void 0&&n.nargs(E,c.nargs),c.config&&n.config(E,c.configParser),c.normalize&&n.normalize(E),c.choices&&n.choices(E,c.choices),c.coerce&&n.coerce(E,c.coerce),c.group&&n.group(E,c.group),(c.boolean||c.type==="boolean")&&(n.boolean(E),c.alias&&n.boolean(c.alias)),(c.array||c.type==="array")&&(n.array(E),c.alias&&n.array(c.alias)),(c.number||c.type==="number")&&(n.number(E),c.alias&&n.number(c.alias)),(c.string||c.type==="string")&&(n.string(E),c.alias&&n.string(c.alias)),(c.count||c.type==="count")&&n.count(E),typeof c.global=="boolean"&&n.global(E,c.global),c.defaultDescription&&(p.defaultDescription[E]=c.defaultDescription),c.skipValidation&&n.skipValidation(E);let w=c.describe||c.description||c.desc;n.describe(E,w),c.hidden&&n.hide(E),c.requiresArg&&n.requiresArg(E);}return n},n.getOptions=()=>p,n.positional=function(m,E){if(Y("<string> <object>",[m,E],arguments.length),D.resets===0)throw new je(".positional() can only be called in a command's builder function");let c=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];E=Jt(E,(w,F)=>{let q=c.indexOf(w)!==-1;return w==="type"&&["string","number","boolean"].indexOf(F)===-1&&(q=!1),q});let g=D.fullCommands[D.fullCommands.length-1],b=g?i.cmdToParseOptions(g):{array:[],alias:{},default:{},demand:{}};return Fn(b).forEach(w=>{let F=b[w];Array.isArray(F)?F.indexOf(m)!==-1&&(E[w]=!0):F[m]&&!(w in E)&&(E[w]=F[m]);}),n.group(m,l.getPositionalGroupName()),n.option(m,E)},n.group=function(E,c){Y("<string|array> <string>",[E,c],arguments.length);let g=f[c]||o[c];f[c]&&delete f[c];let b={};return o[c]=(g||[]).concat(E).filter(w=>b[w]?!1:b[w]=!0),n},n.getGroups=()=>Object.assign({},o,f),n.env=function(m){return Y("[string|boolean]",[m],arguments.length),m===!1?delete p.envPrefix:p.envPrefix=m||"",n},n.wrap=function(m){return Y("<number|null|undefined>",[m],arguments.length),l.wrap(m),n};let M=!1;n.strict=function(m){return Y("[boolean]",[m],arguments.length),M=m!==!1,n},n.getStrict=()=>M;let oe=!1;n.strictCommands=function(m){return Y("[boolean]",[m],arguments.length),oe=m!==!1,n},n.getStrictCommands=()=>oe;let re=!1;n.strictOptions=function(m){return Y("[boolean]",[m],arguments.length),re=m!==!1,n},n.getStrictOptions=()=>re;let Ke={};n.parserConfiguration=function(E){return Y("<object>",[E],arguments.length),Ke=E,n},n.getParserConfiguration=()=>Ke,n.showHelp=function(m){return Y("[string|function]",[m],arguments.length),n.parsed||n._parseArgs(e),i.hasDefaultCommand()&&(D.resets++,i.runDefaultBuilderOn(n)),l.showHelp(m),n};let Z=null;n.version=function(E,c,g){let b="version";if(Y("[boolean|string] [string] [string]",[E,c,g],arguments.length),Z&&(B(Z),l.version(void 0),Z=null),arguments.length===0)g=Ne(),E=b;else if(arguments.length===1){if(E===!1)return n;g=E,E=b;}else arguments.length===2&&(g=c,c=void 0);return Z=typeof E=="string"?E:b,c=c||l.deferY18nLookup("Show version number"),l.version(g||void 0),n.boolean(Z),n.describe(Z,c),n};function Ne(){return L().version||"unknown"}let ge=null;n.addHelpOpt=n.help=function(E,c){let g="help";return Y("[string|boolean] [string]",[E,c],arguments.length),ge&&(B(ge),ge=null),arguments.length===1&&E===!1||(ge=typeof E=="string"?E:g,n.boolean(ge),n.describe(ge,c||l.deferY18nLookup("Show help"))),n};let lr="show-hidden";p.showHiddenOpt=lr,n.addShowHiddenOpt=n.showHidden=function(E,c){if(Y("[string|boolean] [string]",[E,c],arguments.length),arguments.length===1&&E===!1)return n;let g=typeof E=="string"?E:lr;return n.boolean(g),n.describe(g,c||l.deferY18nLookup("Show hidden options")),p.showHiddenOpt=g,n},n.hide=function(E){return Y("<string>",[E],arguments.length),p.hiddenOptions.push(E),n},n.showHelpOnFail=function(E,c){return Y("[boolean|string] [string]",[E,c],arguments.length),l.showHelpOnFail(E,c),n};let J=!0;n.exitProcess=function(m=!0){return Y("[boolean]",[m],arguments.length),J=m,n},n.getExitProcess=()=>J,n.showCompletionScript=function(m,E){return Y("[string] [string]",[m,E],arguments.length),m=m||n.$0,ee.log(s.generateCompletionScript(m,E||v||"completion")),n},n.getCompletion=function(m,E){Y("<array> <function>",[m,E],arguments.length),s.getCompletion(m,E);},n.locale=function(m){return Y("[string]",[m],arguments.length),m?(ie=!1,y.setLocale(m),n):(ce(),y.getLocale())},n.updateStrings=n.updateLocale=function(m){return Y("<object>",[m],arguments.length),ie=!1,y.updateLocale(m),n};let ie=!0;n.detectLocale=function(m){return Y("<boolean>",[m],arguments.length),ie=m,n},n.getDetectLocale=()=>ie;let ee={log(...m){n._hasParseCallback()||console.log(...m),O=!0,a.length&&(a+=`
`),a+=m.join(" ");},error(...m){n._hasParseCallback()||console.error(...m),O=!0,a.length&&(a+=`
`),a+=m.join(" ");}};n._getLoggerInstance=()=>ee,n._hasOutput=()=>O,n._setHasOutput=()=>{O=!0;};let se;n.recommendCommands=function(m=!0){return Y("[boolean]",[m],arguments.length),se=m,n},n.getUsageInstance=()=>l,n.getValidationInstance=()=>h,n.getCommandInstance=()=>i,n.terminalWidth=()=>(Y([],0),Q.process.stdColumns),Object.defineProperty(n,"argv",{get:()=>n._parseArgs(e),enumerable:!0}),n._parseArgs=function(E,c,g,b){let w=!!g;E=E||e,p.__=y.__,p.configuration=n.getParserConfiguration();let F=!!p.configuration["populate--"],q=Object.assign({},p.configuration,{"populate--":!0}),P=Q.Parser.detailed(E,Object.assign({},p,{configuration:Object.assign({"parse-positional-numbers":!1},q)})),V=P.argv;k&&(V=Object.assign({},V,k));let he=P.aliases;V.$0=n.$0,n.parsed=P;try{if(ce(),c)return n._postProcess(V,F,g);ge&&~[ge].concat(he[ge]||[]).filter(Ze=>Ze.length>1).indexOf(""+V._[V._.length-1])&&(V._.pop(),V[ge]=!0);let ue=i.getCommands(),Vr=s.completionKey in V,ao=V[ge]||Vr,co=ao&&(ue.length>1||ue[0]!=="$0");if(V._.length){if(ue.length){let Ee;for(let Ze=b||0,lt;V._[Ze]!==void 0;Ze++)if(lt=String(V._[Ze]),~ue.indexOf(lt)&&lt!==v){let Id=i.runCommand(lt,n,P,Ze+1);return n._postProcess(Id,F)}else if(!Ee&&lt!==v){Ee=lt;break}if(i.hasDefaultCommand()&&!co){let Ze=i.runCommand(null,n,P);return n._postProcess(Ze,F)}se&&Ee&&!ao&&h.recommendCommands(Ee,ue);}v&&~V._.indexOf(v)&&!Vr&&(J&&Cr(!0),n.showCompletionScript(),n.exit(0));}else if(i.hasDefaultCommand()&&!co){let Ee=i.runCommand(null,n,P);return n._postProcess(Ee,F)}if(Vr){J&&Cr(!0),E=[].concat(E);let Ee=E.slice(E.indexOf(`--${s.completionKey}`)+1);return s.getCompletion(Ee,Ze=>{(Ze||[]).forEach(lt=>{ee.log(lt);}),n.exit(0);}),n._postProcess(V,!F,g)}if(O||Object.keys(V).forEach(Ee=>{Ee===ge&&V[Ee]?(J&&Cr(!0),w=!0,n.showHelp("log"),n.exit(0)):Ee===Z&&V[Ee]&&(J&&Cr(!0),w=!0,l.showVersion(),n.exit(0));}),!w&&p.skipValidation.length>0&&(w=Object.keys(V).some(Ee=>p.skipValidation.indexOf(Ee)>=0&&V[Ee]===!0)),!w){if(P.error)throw new je(P.error.message);Vr||n._runValidation(V,he,{},P.error);}}catch(ue){if(ue instanceof je)l.fail(ue.message,ue);else throw ue}return n._postProcess(V,F,g)},n._postProcess=function(m,E,c=!1){return ot(m)||c||(E||(m=n._copyDoubleDash(m)),(n.getParserConfiguration()["parse-positional-numbers"]||n.getParserConfiguration()["parse-positional-numbers"]===void 0)&&(m=n._parsePositionalNumbers(m))),m},n._copyDoubleDash=function(m){if(!m._||!m["--"])return m;m._.push.apply(m._,m["--"]);try{delete m["--"];}catch{}return m},n._parsePositionalNumbers=function(m){let E=m["--"]?m["--"]:m._;for(let c=0,g;(g=E[c])!==void 0;c++)Q.Parser.looksLikeNumber(g)&&Number.isSafeInteger(Math.floor(parseFloat(`${g}`)))&&(E[c]=Number(g));return m},n._runValidation=function(E,c,g,b,w=!1){if(b)throw new je(b.message);h.nonOptionCount(E),h.requiredArguments(E);let F=!1;oe&&(F=h.unknownCommands(E)),M&&!F?h.unknownArguments(E,c,g,w):re&&h.unknownArguments(E,c,{},!1,!1),h.customChecks(E,c),h.limitedChoices(E),h.implications(E),h.conflicting(E);};function ce(){if(!ie)return;let m=Q.getEnv("LC_ALL")||Q.getEnv("LC_MESSAGES")||Q.getEnv("LANG")||Q.getEnv("LANGUAGE")||"en_US";n.locale(m.replace(/[.:].*/,""));}return n.help(),n.version(),n}var La=(e,t)=>Q.path.relative(e,t);function ym(e){return !!e&&typeof e._parseArgs=="function"}var is,ss,{readFileSync:Em}=I("fs"),{inspect:Fm}=I("util"),{resolve:vm}=I("path"),Cm=Ou(),wm=Hi(),Na={assert:{notStrictEqual:va.notStrictEqual,strictEqual:va.strictEqual},cliui:la(),findUp:pa(),getEnv:e=>process.env[e],getCallerFile:ma(),getProcessArgvBin:$a,inspect:Fm,mainFilename:(ss=(is=I?.main)===null||is===void 0?void 0:is.filename)!==null&&ss!==void 0?ss:process.cwd(),Parser:wm,path:I("path"),process:{argv:()=>process.argv,cwd:process.cwd,execPath:()=>process.execPath,exit:e=>{process.exit(e);},nextTick:process.nextTick,stdColumns:typeof process.stdout.columns<"u"?process.stdout.columns:null},readFileSync:Em,require:I,requireDirectory:Fa(),stringWidth:dn(),y18n:Cm({directory:vm(__dirname,"../locales"),updateFiles:!1})},Aa=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):10;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<Aa)throw Error(`yargs supports a minimum Node.js version of ${Aa}. Read our version support policy: https://github.com/yargs/yargs#supported-nodejs-versions`);var Sm=Hi(),bm=mm(Na),Om={applyExtends:vn,cjsPlatformShim:Na,Yargs:bm,argsert:Y,globalMiddlewareFactory:ja,isPromise:ot,objFilter:Jt,parseCommand:Gt,Parser:Sm,processArgv:rm,rebase:La,YError:je};Ia.exports=Om;});var cs=R((eF,Ma)=>{var{Yargs:_m,processArgv:xm}=Ba();Yt(xm.hideBin(process.argv));Ma.exports=Yt;function Yt(e,t){let r=_m(e,t,I);return Am(r),r}function Am(e){Object.keys(e).forEach(t=>{t==="argv"?Yt.__defineGetter__(t,e.__lookupGetter__(t)):typeof e[t]=="function"?Yt[t]=e[t].bind(e):(Yt.__defineGetter__("$0",()=>e.$0),Yt.__defineGetter__("parsed",()=>e.parsed));});}});var ka=R(Pa=>{var Tm=I("util"),Cn=kt(),qa=St().Memory,ls=Pa.Argv=function(e,t){qa.call(this,e),e=e||{},this.type="argv",this.readOnly=!0,this.options=e,this.usage=t,typeof e.parseValues=="boolean"?(this.parseValues=e.parseValues,delete e.parseValues):this.parseValues=!1,typeof e.transform=="function"?(this.transform=e.transform,delete e.transform):this.transform=!1,typeof e.separator=="string"||e.separator instanceof RegExp?(this.separator=e.separator,delete e.separator):this.separator="";};Tm.inherits(ls,qa);ls.prototype.loadSync=function(){return this.loadArgv(),this.store};ls.prototype.loadArgv=function(){var e=this,t,r;if(t=jm(this.options)?this.options:typeof this.options=="object"?cs()(process.argv.slice(2)).options(this.options):cs()(process.argv.slice(2)),typeof this.usage=="string"&&t.usage(this.usage),r=t.argv,!!r)return this.transform&&(r=Cn.transform(r,this.transform)),this.readOnly=!1,Object.keys(r).forEach(function(n){var i=r[n];typeof i<"u"&&(e.parseValues&&(i=Cn.parseValues(i)),e.separator?e.set(Cn.key.apply(Cn,n.split(e.separator)),i):e.set(n,i));}),this.showHelp=t.showHelp,this.help=t.help,this.readOnly=!0,this.store};function jm(e){return (typeof e=="function"||typeof e=="object")&&"argv"in e}});var Ua=R(Wa=>{var Rm=I("util"),wn=kt(),za=St().Memory,fs=Wa.Env=function(e){za.call(this,e),e=e||{},this.type="env",this.readOnly=!0,this.whitelist=e.whitelist||[],this.separator=e.separator||"",this.lowerCase=e.lowerCase||!1,this.parseValues=e.parseValues||!1,this.transform=e.transform||!1,{}.toString.call(e.match)==="[object RegExp]"&&typeof e!="string"&&(this.match=e.match),e instanceof Array&&(this.whitelist=e),(typeof e=="string"||e instanceof RegExp)&&(this.separator=e);};Rm.inherits(fs,za);fs.prototype.loadSync=function(){return this.loadEnv(),this.store};fs.prototype.loadEnv=function(){var e=this,t=process.env;return this.lowerCase&&(t={},Object.keys(process.env).forEach(function(r){t[r.toLowerCase()]=process.env[r];})),this.transform&&(t=wn.transform(t,this.transform)),this.readOnly=!1,Object.keys(t).filter(function(r){return e.match&&e.whitelist.length?r.match(e.match)||e.whitelist.indexOf(r)!==-1:e.match?r.match(e.match):!e.whitelist.length||e.whitelist.indexOf(r)!==-1}).forEach(function(r){var n=t[r];e.parseValues&&(n=wn.parseValues(n)),e.separator?e.set(wn.key.apply(wn,r.split(e.separator)),n):e.set(r,n);}),this.readOnly=!0,this.store};});var Ga=R((iF,Ha)=>{var $m=I("crypto"),Lm={stringify:function(e,t,r){return JSON.stringify(e,t||null,r||2)},parse:JSON.parse};Ha.exports=hs;function hs(e){if(e=e||{},this.secret=typeof e!="string"?e.secret:e,this.format=e.format||Lm,this.alg=e.alg||"aes-256-ctr",!this.secret)throw new Error("Secret is a required option")}hs.prototype.encrypt=function(t,r){var n=this;return Object.keys(t).reduce(function(i,s){var o=n.format.stringify(t[s]);return i[s]={alg:n.alg,value:Va(o,{alg:n.alg,secret:n.secret,encs:{input:"utf8",output:"hex"}})},i},{})};hs.prototype.decrypt=function(t,r){var n=this;return Object.keys(t).reduce(function(i,s){var o=Va(t[s].value,{alg:t[s].alg||n.alg,secret:n.secret,encs:{input:"hex",output:"utf8"}});return i[s]=n.format.parse(o),i},{})};function Va(e,t){var r=t.encs,n=$m.createCipher(t.alg,t.secret);return n.update(e,r.input,r.output)+n.final(r.output)}});var Ka=R(Ya=>{var Se=I("fs"),wr=I("path"),Nm=I("util"),Im=Ga(),Bm=ln(),Ja=St().Memory,Mm=Se.exists||wr.exists,qm=Se.existsSync||wr.existsSync,ut=Ya.File=function(e){if(!e||!e.file)throw new Error("Missing required option `file`");if(Ja.call(this,e),this.type="file",this.file=e.file,this.dir=e.dir||process.cwd(),this.format=e.format||Bm.json,this.secure=e.secure,this.spacing=e.json_spacing||e.spacing||2,this.secure){if(this.secure=Buffer.isBuffer(this.secure)||typeof this.secure=="string"?{secret:this.secure.toString()}:this.secure,this.secure.alg=this.secure.alg||"aes-256-ctr",this.secure.secretPath&&(this.secure.secret=Se.readFileSync(this.secure.secretPath,"utf8")),!this.secure.secret)throw new Error("secure.secret option is required");this.keys=new Im({secret:this.secure.secret,alg:this.secure.alg,format:this.format});}e.search&&this.search(this.dir);};Nm.inherits(ut,Ja);ut.prototype.save=function(e,t){this.saveToFile(this.file,e,t);};ut.prototype.saveToFile=function(e,t,r){r||(r=t,t=this.format),Se.writeFile(e,this.stringify(t),r);};ut.prototype.saveSync=function(){return Se.writeFileSync(this.file,this.stringify()),this.store};ut.prototype.load=function(e){var t=this;Mm(t.file,function(r){if(!r)return e(null,{});Se.readFile(t.file,function(n,i){if(n)return e(n);try{var s=i.toString();s.charAt(0)==="\uFEFF"&&(s=s.substr(1)),t.store=t.parse(s);}catch(o){return e(new Error("Error parsing your configuration file: ["+t.file+"]: "+o.message))}e(null,t.store);});});};ut.prototype.loadSync=function(){if(!qm(this.file))return this.store={},this.store;try{var e=Se.readFileSync(this.file,"utf8");e.charAt(0)==="\uFEFF"&&(e=e.substr(1)),this.store=this.parse(e);}catch(t){throw new Error("Error parsing your configuration file: ["+this.file+"]: "+t.message)}return this.store};ut.prototype.stringify=function(e){var t=this.store;return e||(e=this.format),this.secure&&(t=this.keys.encrypt(t)),e.stringify(t,null,this.spacing)};ut.prototype.parse=function(e){var t=this.format.parse(e);return this.secure?this.keys.decrypt(t):t};ut.prototype.search=function(e){var t=!0,r,n,i;if(e=e||process.cwd(),this.file[0]==="/")try{i=Se.statSync(Se.realpathSync(this.file)),i.isFile()&&(r=this.file,t=!1);}catch{}if(t&&e)try{var s=Se.statSync(Se.realpathSync(e));t=s.isDirectory();}catch{return !1}for(;t;)try{i=Se.statSync(Se.realpathSync(r=wr.join(e,this.file))),t=i.isDirectory();}catch{if(n=e,e=wr.dirname(e),n===e){try{i=Se.statSync(Se.realpathSync(r=wr.join(this.dir,this.file))),i.isDirectory()&&(r=void 0);}catch{}t=!1;}}return this.file=r||this.file,r};});var ec=R(Xa=>{var Pm=I("util"),Za=St().Memory,Qa=Xa.Literal=function(t){Za.call(this,t),t=t||{},this.type="literal",this.readOnly=!0,this.store=t.store||t;};Pm.inherits(Qa,Za);Qa.prototype.loadSync=function(){return this.store};});var fn=R((uF,rc)=>{var Sn=kt(),tc=wu().Provider,Be=rc.exports=new tc;Be.version=Su().version;Be.__defineGetter__("Argv",function(){return ka().Argv});Be.__defineGetter__("Env",function(){return Ua().Env});Be.__defineGetter__("File",function(){return Ka().File});Be.__defineGetter__("Literal",function(){return ec().Literal});Be.__defineGetter__("Memory",function(){return St().Memory});Be.key=Sn.key;Be.path=Sn.path;Be.loadFiles=Sn.loadFiles;Be.loadFilesSync=Sn.loadFilesSync;Be.formats=ln();Be.Provider=tc;});var oc=R((dF,sc)=>{var Zt=1e3,Qt=Zt*60,Xt=Qt*60,bt=Xt*24,Hm=bt*7,Gm=bt*365.25;sc.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Jm(e);if(r==="number"&&isFinite(e))return t.long?Km(e):Ym(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Jm(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Gm;case"weeks":case"week":case"w":return r*Hm;case"days":case"day":case"d":return r*bt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Xt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Qt;case"seconds":case"second":case"secs":case"sec":case"s":return r*Zt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Ym(e){var t=Math.abs(e);return t>=bt?Math.round(e/bt)+"d":t>=Xt?Math.round(e/Xt)+"h":t>=Qt?Math.round(e/Qt)+"m":t>=Zt?Math.round(e/Zt)+"s":e+"ms"}function Km(e){var t=Math.abs(e);return t>=bt?On(e,t,bt,"day"):t>=Xt?On(e,t,Xt,"hour"):t>=Qt?On(e,t,Qt,"minute"):t>=Zt?On(e,t,Zt,"second"):e+" ms"}function On(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var ds=R((pF,uc)=>{function Zm(e){r.debug=r,r.default=r,r.coerce=a,r.disable=s,r.enable=i,r.enabled=o,r.humanize=oc(),r.destroy=f,Object.keys(e).forEach(l=>{r[l]=e[l];}),r.names=[],r.skips=[],r.formatters={};function t(l){let h=0;for(let d=0;d<l.length;d++)h=(h<<5)-h+l.charCodeAt(d),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(l){let h,d=null,y,C;function D(...O){if(!D.enabled)return;let A=D,v=Number(new Date),p=v-(h||v);A.diff=p,A.prev=h,A.curr=v,h=v,O[0]=r.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let S=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(H,z)=>{if(H==="%%")return "%";S++;let G=r.formatters[z];if(typeof G=="function"){let x=O[S];H=G.call(A,x),O.splice(S,1),S--;}return H}),r.formatArgs.call(A,O),(A.log||r.log).apply(A,O);}return D.namespace=l,D.useColors=r.useColors(),D.color=r.selectColor(l),D.extend=n,D.destroy=r.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(y!==r.namespaces&&(y=r.namespaces,C=r.enabled(l)),C),set:O=>{d=O;}}),typeof r.init=="function"&&r.init(D),D}function n(l,h){let d=r(this.namespace+(typeof h>"u"?":":h)+l);return d.log=this.log,d}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let h,d=(typeof l=="string"?l:"").split(/[\s,]+/),y=d.length;for(h=0;h<y;h++)d[h]&&(l=d[h].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")));}function s(){let l=[...r.names.map(u),...r.skips.map(u).map(h=>"-"+h)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return !0;let h,d;for(h=0,d=r.skips.length;h<d;h++)if(r.skips[h].test(l))return !1;for(h=0,d=r.names.length;h<d;h++)if(r.names[h].test(l))return !0;return !1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function a(l){return l instanceof Error?l.stack||l.message:l}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");}return r.enable(r.load()),r}uc.exports=Zm;});var ac=R((Re,_n)=>{Re.formatArgs=Xm;Re.save=eD;Re.load=tD;Re.useColors=Qm;Re.storage=rD();Re.destroy=(()=>{let e=!1;return ()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."));}})();Re.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Qm(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Xm(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+_n.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r));}),e.splice(n,0,t);}Re.log=console.debug||console.log||(()=>{});function eD(e){try{e?Re.storage.setItem("debug",e):Re.storage.removeItem("debug");}catch{}}function tD(){let e;try{e=Re.storage.getItem("debug");}catch{}return !e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function rD(){try{return localStorage}catch{}}_n.exports=ds()(Re);var{formatters:nD}=_n.exports;nD.j=function(e){try{return JSON.stringify(e)}catch(t){return "[UnexpectedJSONParseError]: "+t.message}};});var lc=R((gF,cc)=>{cc.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)};});var dc=R((mF,hc)=>{var iD=I("os"),fc=I("tty"),Me=lc(),{env:De}=process,mt;Me("no-color")||Me("no-colors")||Me("color=false")||Me("color=never")?mt=0:(Me("color")||Me("colors")||Me("color=true")||Me("color=always"))&&(mt=1);"FORCE_COLOR"in De&&(De.FORCE_COLOR==="true"?mt=1:De.FORCE_COLOR==="false"?mt=0:mt=De.FORCE_COLOR.length===0?1:Math.min(parseInt(De.FORCE_COLOR,10),3));function ps(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function gs(e,t){if(mt===0)return 0;if(Me("color=16m")||Me("color=full")||Me("color=truecolor"))return 3;if(Me("color=256"))return 2;if(e&&!t&&mt===void 0)return 0;let r=mt||0;if(De.TERM==="dumb")return r;if(process.platform==="win32"){let n=iD.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in De)return ["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in De)||De.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in De)return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(De.TEAMCITY_VERSION)?1:0;if(De.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in De){let n=parseInt((De.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(De.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return /-256(color)?$/i.test(De.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(De.TERM)||"COLORTERM"in De?1:r}function sD(e){let t=gs(e,e&&e.isTTY);return ps(t)}hc.exports={supportsColor:sD,stdout:ps(gs(!0,fc.isatty(1))),stderr:ps(gs(!0,fc.isatty(2)))};});var gc=R((Fe,An)=>{var oD=I("tty"),xn=I("util");Fe.init=dD;Fe.log=lD;Fe.formatArgs=aD;Fe.save=fD;Fe.load=hD;Fe.useColors=uD;Fe.destroy=xn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Fe.colors=[6,2,3,4,5,1];try{let e=dc();e&&(e.stderr||e).level>=2&&(Fe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]);}catch{}Fe.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return /^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function uD(){return "colors"in Fe.inspectOpts?!!Fe.inspectOpts.colors:oD.isatty(process.stderr.fd)}function aD(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+An.exports.humanize(this.diff)+"\x1B[0m");}else e[0]=cD()+t+" "+e[0];}function cD(){return Fe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function lD(...e){return process.stderr.write(xn.format(...e)+`
`)}function fD(e){e?process.env.DEBUG=e:delete process.env.DEBUG;}function hD(){return process.env.DEBUG}function dD(e){e.inspectOpts={};let t=Object.keys(Fe.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Fe.inspectOpts[t[r]];}An.exports=ds()(Fe);var{formatters:pc}=An.exports;pc.o=function(e){return this.inspectOpts.colors=this.useColors,xn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};pc.O=function(e){return this.inspectOpts.colors=this.useColors,xn.inspect(e,this.inspectOpts)};});var ye=R((DF,ms)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ms.exports=ac():ms.exports=gc();});var Dc=R((yF,mc)=>{mc.exports=pD;function er(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function pD(e){if(e=e||{},e.circles)return gD(e);return e.proto?n:r;function t(i,s){for(var o=Object.keys(i),u=new Array(o.length),a=0;a<o.length;a++){var f=o[a],l=i[f];typeof l!="object"||l===null?u[f]=l:l instanceof Date?u[f]=new Date(l):ArrayBuffer.isView(l)?u[f]=er(l):u[f]=s(l);}return u}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,r);if(i instanceof Map)return new Map(t(Array.from(i),r));if(i instanceof Set)return new Set(t(Array.from(i),r));var s={};for(var o in i)if(Object.hasOwnProperty.call(i,o)!==!1){var u=i[o];typeof u!="object"||u===null?s[o]=u:u instanceof Date?s[o]=new Date(u):u instanceof Map?s[o]=new Map(t(Array.from(u),r)):u instanceof Set?s[o]=new Set(t(Array.from(u),r)):ArrayBuffer.isView(u)?s[o]=er(u):s[o]=r(u);}return s}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,n);if(i instanceof Map)return new Map(t(Array.from(i),n));if(i instanceof Set)return new Set(t(Array.from(i),n));var s={};for(var o in i){var u=i[o];typeof u!="object"||u===null?s[o]=u:u instanceof Date?s[o]=new Date(u):u instanceof Map?s[o]=new Map(t(Array.from(u),n)):u instanceof Set?s[o]=new Set(t(Array.from(u),n)):ArrayBuffer.isView(u)?s[o]=er(u):s[o]=n(u);}return s}}function gD(e){var t=[],r=[];return e.proto?s:i;function n(o,u){for(var a=Object.keys(o),f=new Array(a.length),l=0;l<a.length;l++){var h=a[l],d=o[h];if(typeof d!="object"||d===null)f[h]=d;else if(d instanceof Date)f[h]=new Date(d);else if(ArrayBuffer.isView(d))f[h]=er(d);else {var y=t.indexOf(d);y!==-1?f[h]=r[y]:f[h]=u(d);}}return f}function i(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,i);if(o instanceof Map)return new Map(n(Array.from(o),i));if(o instanceof Set)return new Set(n(Array.from(o),i));var u={};t.push(o),r.push(u);for(var a in o)if(Object.hasOwnProperty.call(o,a)!==!1){var f=o[a];if(typeof f!="object"||f===null)u[a]=f;else if(f instanceof Date)u[a]=new Date(f);else if(f instanceof Map)u[a]=new Map(n(Array.from(f),i));else if(f instanceof Set)u[a]=new Set(n(Array.from(f),i));else if(ArrayBuffer.isView(f))u[a]=er(f);else {var l=t.indexOf(f);l!==-1?u[a]=r[l]:u[a]=i(f);}}return t.pop(),r.pop(),u}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,s);if(o instanceof Map)return new Map(n(Array.from(o),s));if(o instanceof Set)return new Set(n(Array.from(o),s));var u={};t.push(o),r.push(u);for(var a in o){var f=o[a];if(typeof f!="object"||f===null)u[a]=f;else if(f instanceof Date)u[a]=new Date(f);else if(f instanceof Map)u[a]=new Map(n(Array.from(f),s));else if(f instanceof Set)u[a]=new Set(n(Array.from(f),s));else if(ArrayBuffer.isView(f))u[a]=er(f);else {var l=t.indexOf(f);l!==-1?u[a]=r[l]:u[a]=s(f);}}return t.pop(),r.pop(),u}}});var _t=R((EF,vc)=>{var mD=I("util"),Ot=ye()("log4js:configuration"),Tn=[],jn=[],yc=e=>!e,Ec=e=>e&&typeof e=="object"&&!Array.isArray(e),DD=e=>/^[A-Za-z][A-Za-z0-9_]*$/g.test(e),yD=e=>e&&typeof e=="number"&&Number.isInteger(e),ED=e=>{jn.push(e),Ot(`Added listener, now ${jn.length} listeners`);},FD=e=>{Tn.push(e),Ot(`Added pre-processing listener, now ${Tn.length} listeners`);},Fc=(e,t,r)=>{(Array.isArray(t)?t:[t]).forEach(i=>{if(i)throw new Error(`Problem with log4js configuration: (${mD.inspect(e,{depth:5})}) - ${r}`)});},vD=e=>{Ot("New configuration to be validated: ",e),Fc(e,yc(Ec(e)),"must be an object."),Ot(`Calling pre-processing listeners (${Tn.length})`),Tn.forEach(t=>t(e)),Ot("Configuration pre-processing finished."),Ot(`Calling configuration listeners (${jn.length})`),jn.forEach(t=>t(e)),Ot("Configuration finished.");};vc.exports={configure:vD,addListener:ED,addPreProcessingListener:FD,throwExceptionIf:Fc,anObject:Ec,anInteger:yD,validIdentifier:DD,not:yc};});var Rn=R((FF,qe)=>{function Cc(e,t){for(var r=e.toString();r.length<t;)r="0"+r;return r}function xt(e){return Cc(e,2)}function CD(e){var t=Math.abs(e),r=String(Math.floor(t/60)),n=String(t%60);return r=("0"+r).slice(-2),n=("0"+n).slice(-2),e===0?"Z":(e<0?"+":"-")+r+":"+n}function wc(e,t){typeof e!="string"&&(t=e,e=qe.exports.ISO8601_FORMAT),t||(t=qe.exports.now());var r=xt(t.getDate()),n=xt(t.getMonth()+1),i=xt(t.getFullYear()),s=xt(i.substring(2,4)),o=e.indexOf("yyyy")>-1?i:s,u=xt(t.getHours()),a=xt(t.getMinutes()),f=xt(t.getSeconds()),l=Cc(t.getMilliseconds(),3),h=CD(t.getTimezoneOffset()),d=e.replace(/dd/g,r).replace(/MM/g,n).replace(/y{1,4}/g,o).replace(/hh/g,u).replace(/mm/g,a).replace(/ss/g,f).replace(/SSS/g,l).replace(/O/g,h);return d}function Dt(e,t,r,n){e["set"+(n?"":"UTC")+t](r);}function wD(e,t,r){var n=e.indexOf("O")<0,i=!1,s=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(h,d){Dt(h,"FullYear",d,n);}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(h,d){Dt(h,"Month",d-1,n),h.getMonth()!==d-1&&(i=!0);}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(h,d){i&&Dt(h,"Month",h.getMonth()-1,n),Dt(h,"Date",d,n);}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(h,d){Dt(h,"Hours",d,n);}},{pattern:/mm/,regexp:"\\d\\d",fn:function(h,d){Dt(h,"Minutes",d,n);}},{pattern:/ss/,regexp:"\\d\\d",fn:function(h,d){Dt(h,"Seconds",d,n);}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(h,d){Dt(h,"Milliseconds",d,n);}},{pattern:/O/,regexp:"[+-]\\d{1,2}:?\\d{2}?|Z",fn:function(h,d){d==="Z"?d=0:d=d.replace(":","");var y=Math.abs(d),C=(d>0?-1:1)*(y%100+Math.floor(y/100)*60);h.setUTCMinutes(h.getUTCMinutes()+C);}}],o=s.reduce(function(h,d){return d.pattern.test(h.regexp)?(d.index=h.regexp.match(d.pattern).index,h.regexp=h.regexp.replace(d.pattern,"("+d.regexp+")")):d.index=-1,h},{regexp:e,index:[]}),u=s.filter(function(h){return h.index>-1});u.sort(function(h,d){return h.index-d.index});var a=new RegExp(o.regexp),f=a.exec(t);if(f){var l=r||qe.exports.now();return u.forEach(function(h,d){h.fn(l,f[d+1]);}),l}throw new Error("String '"+t+"' could not be parsed as '"+e+"'")}function SD(e,t,r){if(!e)throw new Error("pattern must be supplied");return wD(e,t,r)}function bD(){return new Date}qe.exports=wc;qe.exports.asString=wc;qe.exports.parse=SD;qe.exports.now=bD;qe.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS";qe.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO";qe.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS";qe.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS";});var ys=R((vF,Nc)=>{var yt=Rn(),Sc=I("os"),br=I("util"),Sr=I("path"),bc=I("url"),Oc=ye()("log4js:layouts"),_c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function xc(e){return e?`\x1B[${_c[e][0]}m`:""}function Ac(e){return e?`\x1B[${_c[e][1]}m`:""}function OD(e,t){return xc(t)+e+Ac(t)}function Tc(e,t){return OD(br.format("[%s] [%s] %s - ",yt.asString(e.startTime),e.level.toString(),e.categoryName),t)}function jc(e){return Tc(e)+br.format(...e.data)}function $n(e){return Tc(e,e.level.colour)+br.format(...e.data)}function Rc(e){return br.format(...e.data)}function $c(e){return e.data[0]}function Lc(e,t){let r="%r %p %c - %m%n",n=/%(-?[0-9]+)?(\.?-?[0-9]+)?([[\]cdhmnprzxXyflosCMAF%])(\{([^}]+)\})?|([^%]+)/;e=e||r;function i(_,L){let T=_.categoryName;if(L){let k=parseInt(L,10),M=T.split(".");k<M.length&&(T=M.slice(M.length-k).join("."));}return T}function s(_,L){let T=yt.ISO8601_FORMAT;if(L)switch(T=L,T){case"ISO8601":case"ISO8601_FORMAT":T=yt.ISO8601_FORMAT;break;case"ISO8601_WITH_TZ_OFFSET":case"ISO8601_WITH_TZ_OFFSET_FORMAT":T=yt.ISO8601_WITH_TZ_OFFSET_FORMAT;break;case"ABSOLUTE":process.emitWarning("Pattern %d{ABSOLUTE} is deprecated in favor of %d{ABSOLUTETIME}. Please use %d{ABSOLUTETIME} instead.","DeprecationWarning","log4js-node-DEP0003"),Oc("[log4js-node-DEP0003]","DEPRECATION: Pattern %d{ABSOLUTE} is deprecated and replaced by %d{ABSOLUTETIME}.");case"ABSOLUTETIME":case"ABSOLUTETIME_FORMAT":T=yt.ABSOLUTETIME_FORMAT;break;case"DATE":process.emitWarning("Pattern %d{DATE} is deprecated due to the confusion it causes when used. Please use %d{DATETIME} instead.","DeprecationWarning","log4js-node-DEP0004"),Oc("[log4js-node-DEP0004]","DEPRECATION: Pattern %d{DATE} is deprecated and replaced by %d{DATETIME}.");case"DATETIME":case"DATETIME_FORMAT":T=yt.DATETIME_FORMAT;break}return yt.asString(T,_.startTime)}function o(){return Sc.hostname().toString()}function u(_,L){let T=_.data;if(L){let[k,M]=L.split(",");T=T.slice(k,M);}return br.format(...T)}function a(){return Sc.EOL}function f(_){return _.level.toString()}function l(_){return yt.asString("hh:mm:ss",_.startTime)}function h(_){return xc(_.level.colour)}function d(_){return Ac(_.level.colour)}function y(){return "%"}function C(_){return _&&_.pid?_.pid.toString():process.pid.toString()}function D(){return C()}function O(_,L){return typeof t[L]<"u"?typeof t[L]=="function"?t[L](_):t[L]:null}function A(_,L){let T=_.context[L];return typeof T<"u"?typeof T=="function"?T(_):T:null}function v(_,L){let T=_.fileName||"";if(T=function(M){let oe="file://";return M.startsWith(oe)&&(typeof bc.fileURLToPath=="function"?M=bc.fileURLToPath(M):(M=Sr.normalize(M.replace(new RegExp(`^${oe}`),"")),process.platform==="win32"&&(M.startsWith("\\")?M=M.slice(1):M=Sr.sep+Sr.sep+M))),M}(T),L){let M=parseInt(L,10),oe=T.split(Sr.sep);oe.length>M&&(T=oe.slice(-M).join(Sr.sep));}return T}function p(_){return _.lineNumber?`${_.lineNumber}`:""}function S(_){return _.columnNumber?`${_.columnNumber}`:""}function j(_){return _.callStack||""}function H(_){return _.className||""}function z(_){return _.functionName||""}function G(_){return _.functionAlias||""}function x(_){return _.callerName||""}let W={c:i,d:s,h:o,m:u,n:a,p:f,r:l,"[":h,"]":d,y:D,z:C,"%":y,x:O,X:A,f:v,l:p,o:S,s:j,C:H,M:z,A:G,F:x};function U(_,L,T){return W[_](L,T)}function $(_,L){let T;return _?(T=parseInt(_.slice(1),10),T>0?L.slice(0,T):L.slice(T)):L}function N(_,L){let T;if(_)if(_.charAt(0)==="-")for(T=parseInt(_.slice(1),10);L.length<T;)L+=" ";else for(T=parseInt(_,10);L.length<T;)L=` ${L}`;return L}function B(_,L,T){let k=_;return k=$(L,k),k=N(T,k),k}return function(_){let L="",T,k=e;for(;(T=n.exec(k))!==null;){let M=T[1],oe=T[2],re=T[3],Ke=T[5],Z=T[6];if(Z)L+=Z.toString();else {let Ne=U(re,_,Ke);L+=B(Ne,oe,M);}k=k.slice(T.index+T[0].length);}return L}}var Ds={messagePassThrough(){return Rc},basic(){return jc},colored(){return $n},coloured(){return $n},pattern(e){return Lc(e&&e.pattern,e&&e.tokens)},dummy(){return $c}};Nc.exports={basicLayout:jc,messagePassThroughLayout:Rc,patternLayout:Lc,colouredLayout:$n,coloredLayout:$n,dummyLayout:$c,addLayout(e,t){Ds[e]=t;},layout(e,t){return Ds[e]&&Ds[e](t)}};});var At=R((CF,Bc)=>{var de=_t(),Ic=["white","grey","black","blue","cyan","green","magenta","red","yellow"],tr=class e{constructor(t,r,n){this.level=t,this.levelStr=r,this.colour=n;}toString(){return this.levelStr}static getLevel(t,r){return t?t instanceof e?t:(t instanceof Object&&t.levelStr&&(t=t.levelStr),e[t.toString().toUpperCase()]||r):r}static addLevels(t){t&&(Object.keys(t).forEach(n=>{let i=n.toUpperCase();e[i]=new e(t[n].value,i,t[n].colour);let s=e.levels.findIndex(o=>o.levelStr===i);s>-1?e.levels[s]=e[i]:e.levels.push(e[i]);}),e.levels.sort((n,i)=>n.level-i.level));}isLessThanOrEqualTo(t){return typeof t=="string"&&(t=e.getLevel(t)),this.level<=t.level}isGreaterThanOrEqualTo(t){return typeof t=="string"&&(t=e.getLevel(t)),this.level>=t.level}isEqualTo(t){return typeof t=="string"&&(t=e.getLevel(t)),this.level===t.level}};tr.levels=[];tr.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}});de.addListener(e=>{let t=e.levels;t&&(de.throwExceptionIf(e,de.not(de.anObject(t)),"levels must be an object"),Object.keys(t).forEach(n=>{de.throwExceptionIf(e,de.not(de.validIdentifier(n)),`level name "${n}" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`),de.throwExceptionIf(e,de.not(de.anObject(t[n])),`level "${n}" must be an object`),de.throwExceptionIf(e,de.not(t[n].value),`level "${n}" must have a 'value' property`),de.throwExceptionIf(e,de.not(de.anInteger(t[n].value)),`level "${n}".value must have an integer value`),de.throwExceptionIf(e,de.not(t[n].colour),`level "${n}" must have a 'colour' property`),de.throwExceptionIf(e,de.not(Ic.indexOf(t[n].colour)>-1),`level "${n}".colour must be one of ${Ic.join(", ")}`);}));});de.addListener(e=>{tr.addLevels(e.levels);});Bc.exports=tr;});var Gc=R(_r=>{var{parse:Pc,stringify:kc}=JSON,{keys:_D}=Object,Or=String,zc="string",Mc={},Ln="object",Wc=(e,t)=>t,xD=e=>e instanceof Or?Or(e):e,AD=(e,t)=>typeof t===zc?new Or(t):t,Uc=(e,t,r,n)=>{let i=[];for(let s=_D(r),{length:o}=s,u=0;u<o;u++){let a=s[u],f=r[a];if(f instanceof Or){let l=e[f];typeof l===Ln&&!t.has(l)?(t.add(l),r[a]=Mc,i.push({k:a,a:[e,t,l,n]})):r[a]=n.call(r,a,l);}else r[a]!==Mc&&(r[a]=n.call(r,a,f));}for(let{length:s}=i,o=0;o<s;o++){let{k:u,a}=i[o];r[u]=n.call(r,u,Uc.apply(null,a));}return r},qc=(e,t,r)=>{let n=Or(t.push(r)-1);return e.set(r,n),n},Vc=(e,t)=>{let r=Pc(e,AD).map(xD),n=r[0],i=t||Wc,s=typeof n===Ln&&n?Uc(r,new Set,n,i):n;return i.call({"":s},"",s)};_r.parse=Vc;var Hc=(e,t,r)=>{let n=t&&typeof t===Ln?(l,h)=>l===""||-1<t.indexOf(l)?h:void 0:t||Wc,i=new Map,s=[],o=[],u=+qc(i,s,n.call({"":e},"",e)),a=!u;for(;u<s.length;)a=!0,o[u]=kc(s[u++],f,r);return "["+o.join(",")+"]";function f(l,h){if(a)return a=!a,h;let d=n.call(this,l,h);switch(typeof d){case Ln:if(d===null)return d;case zc:return i.get(d)||qc(i,s,d)}return d}};_r.stringify=Hc;var TD=e=>Pc(Hc(e));_r.toJSON=TD;var jD=e=>Vc(kc(e));_r.fromJSON=jD;});var vs=R((SF,Zc)=>{var Jc=Gc(),Yc=At(),Es=class{constructor(){let t={__LOG4JS_undefined__:void 0,__LOG4JS_NaN__:+"abc",__LOG4JS_Infinity__:1/0,"__LOG4JS_-Infinity__":-1/0};this.deMap=t,this.serMap={},Object.keys(this.deMap).forEach(r=>{let n=this.deMap[r];this.serMap[n]=r;});}canSerialise(t){return typeof t=="string"?!1:t in this.serMap}serialise(t){return this.canSerialise(t)?this.serMap[t]:t}canDeserialise(t){return t in this.deMap}deserialise(t){return this.canDeserialise(t)?this.deMap[t]:t}},Kc=new Es,Fs=class e{constructor(t,r,n,i,s,o){if(this.startTime=new Date,this.categoryName=t,this.data=n,this.level=r,this.context=Object.assign({},i),this.pid=process.pid,this.error=o,typeof s<"u"){if(!s||typeof s!="object"||Array.isArray(s))throw new TypeError("Invalid location type passed to LoggingEvent constructor");this.constructor._getLocationKeys().forEach(u=>{typeof s[u]<"u"&&(this[u]=s[u]);});}}static _getLocationKeys(){return ["fileName","lineNumber","columnNumber","callStack","className","functionName","functionAlias","callerName"]}serialise(){return Jc.stringify(this,(t,r)=>(r instanceof Error&&(r=Object.assign({message:r.message,stack:r.stack},r)),Kc.serialise(r)))}static deserialise(t){let r;try{let n=Jc.parse(t,(i,s)=>{if(s&&s.message&&s.stack){let o=new Error(s);Object.keys(s).forEach(u=>{o[u]=s[u];}),s=o;}return Kc.deserialise(s)});this._getLocationKeys().forEach(i=>{typeof n[i]<"u"&&(n.location||(n.location={}),n.location[i]=n[i]);}),r=new e(n.categoryName,Yc.getLevel(n.level.levelStr),n.data,n.context,n.location,n.error),r.startTime=new Date(n.startTime),r.pid=n.pid,n.cluster&&(r.cluster=n.cluster);}catch(n){r=new e("log4js",Yc.ERROR,["Unable to parse log:",t,"because: ",n]);}return r}};Zc.exports=Fs;});var In=R((bF,el)=>{var Pe=ye()("log4js:clustering"),RD=vs(),$D=_t(),rr=!1,ke=null;try{ke=I("cluster");}catch{Pe("cluster module not present"),rr=!0;}var ws=[],Ar=!1,xr="NODE_APP_INSTANCE",Qc=()=>Ar&&process.env[xr]==="0",Cs=()=>rr||ke&&ke.isMaster||Qc(),Xc=e=>{ws.forEach(t=>t(e));},Nn=(e,t)=>{if(Pe("cluster message received from worker ",e,": ",t),e.topic&&e.data&&(t=e,e=void 0),t&&t.topic&&t.topic==="log4js:message"){Pe("received message: ",t.data);let r=RD.deserialise(t.data);Xc(r);}};rr||$D.addListener(e=>{ws.length=0,{pm2:Ar,disableClustering:rr,pm2InstanceVar:xr="NODE_APP_INSTANCE"}=e,Pe(`clustering disabled ? ${rr}`),Pe(`cluster.isMaster ? ${ke&&ke.isMaster}`),Pe(`pm2 enabled ? ${Ar}`),Pe(`pm2InstanceVar = ${xr}`),Pe(`process.env[${xr}] = ${process.env[xr]}`),Ar&&process.removeListener("message",Nn),ke&&ke.removeListener&&ke.removeListener("message",Nn),rr||e.disableClustering?Pe("Not listening for cluster messages, because clustering disabled."):Qc()?(Pe("listening for PM2 broadcast messages"),process.on("message",Nn)):ke&&ke.isMaster?(Pe("listening for cluster messages"),ke.on("message",Nn)):Pe("not listening for messages, because we are not a master process");});el.exports={onlyOnMaster:(e,t)=>Cs()?e():t,isMaster:Cs,send:e=>{Cs()?Xc(e):(Ar||(e.cluster={workerId:ke.worker.id,worker:process.pid}),process.send({topic:"log4js:message",data:e.serialise()}));},onMessage:e=>{ws.push(e);}};});var nl=R((OF,rl)=>{function LD(e){if(typeof e=="number"&&Number.isInteger(e))return e;let t={K:1024,M:1024*1024,G:1024*1024*1024},r=Object.keys(t),n=e.slice(-1).toLocaleUpperCase(),i=e.slice(0,-1).trim();if(r.indexOf(n)<0||!Number.isInteger(Number(i)))throw Error(`maxLogSize: "${e}" is invalid`);return i*t[n]}function ND(e,t){let r=Object.assign({},t);return Object.keys(e).forEach(n=>{r[n]&&(r[n]=e[n](t[n]));}),r}function Ss(e){return ND({maxLogSize:LD},e)}var tl={dateFile:Ss,file:Ss,fileSync:Ss};rl.exports.modifyConfig=e=>tl[e.type]?tl[e.type](e):e;});var sl=R((_F,il)=>{var ID=console.log.bind(console);function BD(e,t){return r=>{ID(e(r,t));}}function MD(e,t){let r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),BD(r,e.timezoneOffset)}il.exports.configure=MD;});var ul=R(ol=>{function qD(e,t){return r=>{process.stdout.write(`${e(r,t)}
`);}}function PD(e,t){let r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),qD(r,e.timezoneOffset)}ol.configure=PD;});var cl=R((AF,al)=>{function kD(e,t){return r=>{process.stderr.write(`${e(r,t)}
`);}}function zD(e,t){let r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),kD(r,e.timezoneOffset)}al.exports.configure=zD;});var fl=R((TF,ll)=>{function WD(e,t,r,n){let i=n.getLevel(e),s=n.getLevel(t,n.FATAL);return o=>{let u=o.level;i.isLessThanOrEqualTo(u)&&s.isGreaterThanOrEqualTo(u)&&r(o);}}function UD(e,t,r,n){let i=r(e.appender);return WD(e.level,e.maxLevel,i,n)}ll.exports.configure=UD;});var pl=R((jF,dl)=>{var hl=ye()("log4js:categoryFilter");function VD(e,t){return typeof e=="string"&&(e=[e]),r=>{hl(`Checking ${r.categoryName} against ${e}`),e.indexOf(r.categoryName)===-1&&(hl("Not excluded, sending to appender"),t(r));}}function HD(e,t,r){let n=r(e.appender);return VD(e.exclude,n)}dl.exports.configure=HD;});var Dl=R((RF,ml)=>{var gl=ye()("log4js:noLogFilter");function GD(e){return e.filter(r=>r!=null&&r!=="")}function JD(e,t){return r=>{gl(`Checking data: ${r.data} against filters: ${e}`),typeof e=="string"&&(e=[e]),e=GD(e);let n=new RegExp(e.join("|"),"i");(e.length===0||r.data.findIndex(i=>n.test(i))<0)&&(gl("Not excluded, sending to appender"),t(r));}}function YD(e,t,r){let n=r(e.appender);return JD(e.exclude,n)}ml.exports.configure=YD;});var Oe=R(bs=>{bs.fromCallback=function(e){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")e.apply(this,arguments);else return new Promise((t,r)=>{arguments[arguments.length]=(n,i)=>{if(n)return r(n);t(i);},arguments.length++,e.apply(this,arguments);})},"name",{value:e.name})};bs.fromPromise=function(e){return Object.defineProperty(function(){let t=arguments[arguments.length-1];if(typeof t!="function")return e.apply(this,arguments);e.apply(this,arguments).then(r=>t(null,r),t);},"name",{value:e.name})};});var El=R((LF,yl)=>{var Et=I("constants"),KD=process.cwd,Bn=null,ZD=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Bn||(Bn=KD.call(process)),Bn};try{process.cwd();}catch{}typeof process.chdir=="function"&&(Os=process.chdir,process.chdir=function(e){Bn=null,Os.call(process,e);},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Os));var Os;yl.exports=QD;function QD(e){Et.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=a(e.statSync),e.fstatSync=a(e.fstatSync),e.lstatSync=a(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(l,h,d){d&&process.nextTick(d);},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(l,h,d,y){y&&process.nextTick(y);},e.lchownSync=function(){}),ZD==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(l){function h(d,y,C){var D=Date.now(),O=0;l(d,y,function A(v){if(v&&(v.code==="EACCES"||v.code==="EPERM")&&Date.now()-D<6e4){setTimeout(function(){e.stat(y,function(p,S){p&&p.code==="ENOENT"?l(d,y,A):C(v);});},O),O<100&&(O+=10);return}C&&C(v);});}return Object.setPrototypeOf&&Object.setPrototypeOf(h,l),h}(e.rename)),e.read=typeof e.read!="function"?e.read:function(l){function h(d,y,C,D,O,A){var v;if(A&&typeof A=="function"){var p=0;v=function(S,j,H){if(S&&S.code==="EAGAIN"&&p<10)return p++,l.call(e,d,y,C,D,O,v);A.apply(this,arguments);};}return l.call(e,d,y,C,D,O,v)}return Object.setPrototypeOf&&Object.setPrototypeOf(h,l),h}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(l){return function(h,d,y,C,D){for(var O=0;;)try{return l.call(e,h,d,y,C,D)}catch(A){if(A.code==="EAGAIN"&&O<10){O++;continue}throw A}}}(e.readSync);function t(l){l.lchmod=function(h,d,y){l.open(h,Et.O_WRONLY|Et.O_SYMLINK,d,function(C,D){if(C){y&&y(C);return}l.fchmod(D,d,function(O){l.close(D,function(A){y&&y(O||A);});});});},l.lchmodSync=function(h,d){var y=l.openSync(h,Et.O_WRONLY|Et.O_SYMLINK,d),C=!0,D;try{D=l.fchmodSync(y,d),C=!1;}finally{if(C)try{l.closeSync(y);}catch{}else l.closeSync(y);}return D};}function r(l){Et.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(h,d,y,C){l.open(h,Et.O_SYMLINK,function(D,O){if(D){C&&C(D);return}l.futimes(O,d,y,function(A){l.close(O,function(v){C&&C(A||v);});});});},l.lutimesSync=function(h,d,y){var C=l.openSync(h,Et.O_SYMLINK),D,O=!0;try{D=l.futimesSync(C,d,y),O=!1;}finally{if(O)try{l.closeSync(C);}catch{}else l.closeSync(C);}return D}):l.futimes&&(l.lutimes=function(h,d,y,C){C&&process.nextTick(C);},l.lutimesSync=function(){});}function n(l){return l&&function(h,d,y){return l.call(e,h,d,function(C){f(C)&&(C=null),y&&y.apply(this,arguments);})}}function i(l){return l&&function(h,d){try{return l.call(e,h,d)}catch(y){if(!f(y))throw y}}}function s(l){return l&&function(h,d,y,C){return l.call(e,h,d,y,function(D){f(D)&&(D=null),C&&C.apply(this,arguments);})}}function o(l){return l&&function(h,d,y){try{return l.call(e,h,d,y)}catch(C){if(!f(C))throw C}}}function u(l){return l&&function(h,d,y){typeof d=="function"&&(y=d,d=null);function C(D,O){O&&(O.uid<0&&(O.uid+=4294967296),O.gid<0&&(O.gid+=4294967296)),y&&y.apply(this,arguments);}return d?l.call(e,h,d,C):l.call(e,h,C)}}function a(l){return l&&function(h,d){var y=d?l.call(e,h,d):l.call(e,h);return y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),y}}function f(l){if(!l||l.code==="ENOSYS")return !0;var h=!process.getuid||process.getuid()!==0;return !!(h&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var Cl=R((NF,vl)=>{var Fl=I("stream").Stream;vl.exports=XD;function XD(e){return {ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Fl.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),u=0,a=o.length;u<a;u++){var f=o[u];this[f]=i[f];}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start;}if(this.fd!==null){process.nextTick(function(){s._read();});return}e.open(this.path,this.flags,this.mode,function(l,h){if(l){s.emit("error",l),s.readable=!1;return}s.fd=h,s.emit("open",h),s._read();});}function r(n,i){if(!(this instanceof r))return new r(n,i);Fl.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,u=s.length;o<u;o++){var a=s[o];this[a]=i[a];}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start;}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush());}}});var Sl=R((IF,wl)=>{wl.exports=t0;var e0=Object.getPrototypeOf||function(e){return e.__proto__};function t0(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:e0(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));}),t}});var pe=R((BF,As)=>{var le=I("fs"),r0=El(),n0=Cl(),i0=Sl(),Mn=I("util"),ve,Pn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ve=Symbol.for("graceful-fs.queue"),Pn=Symbol.for("graceful-fs.previous")):(ve="___graceful-fs.queue",Pn="___graceful-fs.previous");function s0(){}function _l(e,t){Object.defineProperty(e,ve,{get:function(){return t}});}var Tt=s0;Mn.debuglog?Tt=Mn.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Tt=function(){var e=Mn.format.apply(Mn,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e);});le[ve]||(bl=global[ve]||[],_l(le,bl),le.close=function(e){function t(r,n){return e.call(le,r,function(i){i||Ol(),typeof n=="function"&&n.apply(this,arguments);})}return Object.defineProperty(t,Pn,{value:e}),t}(le.close),le.closeSync=function(e){function t(r){e.apply(le,arguments),Ol();}return Object.defineProperty(t,Pn,{value:e}),t}(le.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Tt(le[ve]),I("assert").equal(le[ve].length,0);}));var bl;global[ve]||_l(global,le[ve]);As.exports=_s(i0(le));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!le.__patched&&(As.exports=_s(le),le.__patched=!0);function _s(e){r0(e),e.gracefulify=_s,e.createReadStream=j,e.createWriteStream=H;var t=e.readFile;e.readFile=r;function r(x,W,U){return typeof W=="function"&&(U=W,W=null),$(x,W,U);function $(N,B,_,L){return t(N,B,function(T){T&&(T.code==="EMFILE"||T.code==="ENFILE")?nr([$,[N,B,_],T,L||Date.now(),Date.now()]):typeof _=="function"&&_.apply(this,arguments);})}}var n=e.writeFile;e.writeFile=i;function i(x,W,U,$){return typeof U=="function"&&($=U,U=null),N(x,W,U,$);function N(B,_,L,T,k){return n(B,_,L,function(M){M&&(M.code==="EMFILE"||M.code==="ENFILE")?nr([N,[B,_,L,T],M,k||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments);})}}var s=e.appendFile;s&&(e.appendFile=o);function o(x,W,U,$){return typeof U=="function"&&($=U,U=null),N(x,W,U,$);function N(B,_,L,T,k){return s(B,_,L,function(M){M&&(M.code==="EMFILE"||M.code==="ENFILE")?nr([N,[B,_,L,T],M,k||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments);})}}var u=e.copyFile;u&&(e.copyFile=a);function a(x,W,U,$){return typeof U=="function"&&($=U,U=0),N(x,W,U,$);function N(B,_,L,T,k){return u(B,_,L,function(M){M&&(M.code==="EMFILE"||M.code==="ENFILE")?nr([N,[B,_,L,T],M,k||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments);})}}var f=e.readdir;e.readdir=h;var l=/^v[0-5]\./;function h(x,W,U){typeof W=="function"&&(U=W,W=null);var $=l.test(process.version)?function(_,L,T,k){return f(_,N(_,L,T,k))}:function(_,L,T,k){return f(_,L,N(_,L,T,k))};return $(x,W,U);function N(B,_,L,T){return function(k,M){k&&(k.code==="EMFILE"||k.code==="ENFILE")?nr([$,[B,_,L],k,T||Date.now(),Date.now()]):(M&&M.sort&&M.sort(),typeof L=="function"&&L.call(this,k,M));}}}if(process.version.substr(0,4)==="v0.8"){var d=n0(e);A=d.ReadStream,p=d.WriteStream;}var y=e.ReadStream;y&&(A.prototype=Object.create(y.prototype),A.prototype.open=v);var C=e.WriteStream;C&&(p.prototype=Object.create(C.prototype),p.prototype.open=S),Object.defineProperty(e,"ReadStream",{get:function(){return A},set:function(x){A=x;},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return p},set:function(x){p=x;},enumerable:!0,configurable:!0});var D=A;Object.defineProperty(e,"FileReadStream",{get:function(){return D},set:function(x){D=x;},enumerable:!0,configurable:!0});var O=p;Object.defineProperty(e,"FileWriteStream",{get:function(){return O},set:function(x){O=x;},enumerable:!0,configurable:!0});function A(x,W){return this instanceof A?(y.apply(this,arguments),this):A.apply(Object.create(A.prototype),arguments)}function v(){var x=this;G(x.path,x.flags,x.mode,function(W,U){W?(x.autoClose&&x.destroy(),x.emit("error",W)):(x.fd=U,x.emit("open",U),x.read());});}function p(x,W){return this instanceof p?(C.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function S(){var x=this;G(x.path,x.flags,x.mode,function(W,U){W?(x.destroy(),x.emit("error",W)):(x.fd=U,x.emit("open",U));});}function j(x,W){return new e.ReadStream(x,W)}function H(x,W){return new e.WriteStream(x,W)}var z=e.open;e.open=G;function G(x,W,U,$){return typeof U=="function"&&($=U,U=null),N(x,W,U,$);function N(B,_,L,T,k){return z(B,_,L,function(M,oe){M&&(M.code==="EMFILE"||M.code==="ENFILE")?nr([N,[B,_,L,T],M,k||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments);})}}return e}function nr(e){Tt("ENQUEUE",e[0].name,e[1]),le[ve].push(e),xs();}var qn;function Ol(){for(var e=Date.now(),t=0;t<le[ve].length;++t)le[ve][t].length>2&&(le[ve][t][3]=e,le[ve][t][4]=e);xs();}function xs(){if(clearTimeout(qn),qn=void 0,le[ve].length!==0){var e=le[ve].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)Tt("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){Tt("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n);}else {var u=Date.now()-s,a=Math.max(s-i,1),f=Math.min(a*1.2,100);u>=f?(Tt("RETRY",t.name,r),t.apply(null,r.concat([i]))):le[ve].push(e);}qn===void 0&&(qn=setTimeout(xs,0));}}});var Ts=R(jt=>{var xl=Oe().fromCallback,ze=pe(),o0=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof ze[e]=="function");Object.keys(ze).forEach(e=>{e!=="promises"&&(jt[e]=ze[e]);});o0.forEach(e=>{jt[e]=xl(ze[e]);});jt.exists=function(e,t){return typeof t=="function"?ze.exists(e,t):new Promise(r=>ze.exists(e,r))};jt.read=function(e,t,r,n,i,s){return typeof s=="function"?ze.read(e,t,r,n,i,s):new Promise((o,u)=>{ze.read(e,t,r,n,i,(a,f,l)=>{if(a)return u(a);o({bytesRead:f,buffer:l});});})};jt.write=function(e,t,...r){return typeof r[r.length-1]=="function"?ze.write(e,t,...r):new Promise((n,i)=>{ze.write(e,t,...r,(s,o,u)=>{if(s)return i(s);n({bytesWritten:o,buffer:u});});})};typeof ze.realpath.native=="function"&&(jt.realpath.native=xl(ze.realpath.native));});var Rs=R((qF,Tl)=>{var js=I("path");function Al(e){return e=js.normalize(js.resolve(e)).split(js.sep),e.length>0?e[0]:null}var u0=/[<>:"|?*]/;function a0(e){let t=Al(e);return e=e.replace(t,""),u0.test(e)}Tl.exports={getRootPath:Al,invalidWin32Path:a0};});var Rl=R((PF,jl)=>{var c0=pe(),$s=I("path"),l0=Rs().invalidWin32Path,f0=parseInt("0777",8);function Ls(e,t,r,n){if(typeof t=="function"?(r=t,t={}):(!t||typeof t!="object")&&(t={mode:t}),process.platform==="win32"&&l0(e)){let o=new Error(e+" contains invalid WIN32 path characters.");return o.code="EINVAL",r(o)}let i=t.mode,s=t.fs||c0;i===void 0&&(i=f0&~process.umask()),n||(n=null),r=r||function(){},e=$s.resolve(e),s.mkdir(e,i,o=>{if(!o)return n=n||e,r(null,n);switch(o.code){case"ENOENT":if($s.dirname(e)===e)return r(o);Ls($s.dirname(e),t,(u,a)=>{u?r(u,a):Ls(e,t,r,a);});break;default:s.stat(e,(u,a)=>{u||!a.isDirectory()?r(o,n):r(null,n);});break}});}jl.exports=Ls;});var Ll=R((kF,$l)=>{var h0=pe(),Ns=I("path"),d0=Rs().invalidWin32Path,p0=parseInt("0777",8);function Is(e,t,r){(!t||typeof t!="object")&&(t={mode:t});let n=t.mode,i=t.fs||h0;if(process.platform==="win32"&&d0(e)){let s=new Error(e+" contains invalid WIN32 path characters.");throw s.code="EINVAL",s}n===void 0&&(n=p0&~process.umask()),r||(r=null),e=Ns.resolve(e);try{i.mkdirSync(e,n),r=r||e;}catch(s){if(s.code==="ENOENT"){if(Ns.dirname(e)===e)throw s;r=Is(Ns.dirname(e),t,r),Is(e,t,r);}else {let o;try{o=i.statSync(e);}catch{throw s}if(!o.isDirectory())throw s}}return r}$l.exports=Is;});var $e=R((zF,Nl)=>{var g0=Oe().fromCallback,Bs=g0(Rl()),Ms=Ll();Nl.exports={mkdirs:Bs,mkdirsSync:Ms,mkdirp:Bs,mkdirpSync:Ms,ensureDir:Bs,ensureDirSync:Ms};});var qs=R((WF,Bl)=>{var we=pe(),Il=I("os"),kn=I("path");function m0(){let e=kn.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=kn.join(Il.tmpdir(),e);let t=new Date(1435410243862);we.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");let r=we.openSync(e,"r+");return we.futimesSync(r,t,t),we.closeSync(r),we.statSync(e).mtime>1435410243e3}function D0(e){let t=kn.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=kn.join(Il.tmpdir(),t);let r=new Date(1435410243862);we.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",n=>{if(n)return e(n);we.open(t,"r+",(i,s)=>{if(i)return e(i);we.futimes(s,r,r,o=>{if(o)return e(o);we.close(s,u=>{if(u)return e(u);we.stat(t,(a,f)=>{if(a)return e(a);e(null,f.mtime>1435410243e3);});});});});});}function y0(e){if(typeof e=="number")return Math.floor(e/1e3)*1e3;if(e instanceof Date)return new Date(Math.floor(e.getTime()/1e3)*1e3);throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function E0(e,t,r,n){we.open(e,"r+",(i,s)=>{if(i)return n(i);we.futimes(s,t,r,o=>{we.close(s,u=>{n&&n(o||u);});});});}function F0(e,t,r){let n=we.openSync(e,"r+");return we.futimesSync(n,t,r),we.closeSync(n)}Bl.exports={hasMillisRes:D0,hasMillisResSync:m0,timeRemoveMillis:y0,utimesMillis:E0,utimesMillisSync:F0};});var Rr=R((UF,Wl)=>{var We=pe(),_e=I("path"),Ml=10,ql=5,v0=0,ks=process.versions.node.split("."),Pl=Number.parseInt(ks[0],10),kl=Number.parseInt(ks[1],10),C0=Number.parseInt(ks[2],10);function Tr(){if(Pl>Ml)return !0;if(Pl===Ml){if(kl>ql)return !0;if(kl===ql&&C0>=v0)return !0}return !1}function w0(e,t,r){Tr()?We.stat(e,{bigint:!0},(n,i)=>{if(n)return r(n);We.stat(t,{bigint:!0},(s,o)=>s?s.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(s):r(null,{srcStat:i,destStat:o}));}):We.stat(e,(n,i)=>{if(n)return r(n);We.stat(t,(s,o)=>s?s.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(s):r(null,{srcStat:i,destStat:o}));});}function S0(e,t){let r,n;Tr()?r=We.statSync(e,{bigint:!0}):r=We.statSync(e);try{Tr()?n=We.statSync(t,{bigint:!0}):n=We.statSync(t);}catch(i){if(i.code==="ENOENT")return {srcStat:r,destStat:null};throw i}return {srcStat:r,destStat:n}}function b0(e,t,r,n){w0(e,t,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:u}=s;return u&&u.ino&&u.dev&&u.ino===o.ino&&u.dev===o.dev?n(new Error("Source and destination must not be the same.")):o.isDirectory()&&zs(e,t)?n(new Error(jr(e,t,r))):n(null,{srcStat:o,destStat:u})});}function O0(e,t,r){let{srcStat:n,destStat:i}=S0(e,t);if(i&&i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&zs(e,t))throw new Error(jr(e,t,r));return {srcStat:n,destStat:i}}function Ps(e,t,r,n,i){let s=_e.resolve(_e.dirname(e)),o=_e.resolve(_e.dirname(r));if(o===s||o===_e.parse(o).root)return i();Tr()?We.stat(o,{bigint:!0},(u,a)=>u?u.code==="ENOENT"?i():i(u):a.ino&&a.dev&&a.ino===t.ino&&a.dev===t.dev?i(new Error(jr(e,r,n))):Ps(e,t,o,n,i)):We.stat(o,(u,a)=>u?u.code==="ENOENT"?i():i(u):a.ino&&a.dev&&a.ino===t.ino&&a.dev===t.dev?i(new Error(jr(e,r,n))):Ps(e,t,o,n,i));}function zl(e,t,r,n){let i=_e.resolve(_e.dirname(e)),s=_e.resolve(_e.dirname(r));if(s===i||s===_e.parse(s).root)return;let o;try{Tr()?o=We.statSync(s,{bigint:!0}):o=We.statSync(s);}catch(u){if(u.code==="ENOENT")return;throw u}if(o.ino&&o.dev&&o.ino===t.ino&&o.dev===t.dev)throw new Error(jr(e,r,n));return zl(e,t,s,n)}function zs(e,t){let r=_e.resolve(e).split(_e.sep).filter(i=>i),n=_e.resolve(t).split(_e.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function jr(e,t,r){return `Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}Wl.exports={checkPaths:b0,checkPathsSync:O0,checkParentPaths:Ps,checkParentPathsSync:zl,isSrcSubdir:zs};});var Vl=R((VF,Ul)=>{Ul.exports=function(e){if(typeof Buffer.allocUnsafe=="function")try{return Buffer.allocUnsafe(e)}catch{return new Buffer(e)}return new Buffer(e)};});var Kl=R((HF,Yl)=>{var ae=pe(),$r=I("path"),_0=$e().mkdirsSync,x0=qs().utimesMillisSync,Lr=Rr();function A0(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=Lr.checkPathsSync(e,t,"copy");return Lr.checkParentPathsSync(e,n,t,"copy"),T0(i,e,t,r)}function T0(e,t,r,n){if(n.filter&&!n.filter(t,r))return;let i=$r.dirname(r);return ae.existsSync(i)||_0(i),Hl(e,t,r,n)}function Hl(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return j0(e,t,r,n)}function j0(e,t,r,n){let s=(n.dereference?ae.statSync:ae.lstatSync)(t);if(s.isDirectory())return N0(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return R0(s,e,t,r,n);if(s.isSymbolicLink())return M0(e,t,r,n)}function R0(e,t,r,n,i){return t?$0(e,r,n,i):Gl(e,r,n,i)}function $0(e,t,r,n){if(n.overwrite)return ae.unlinkSync(r),Gl(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Gl(e,t,r,n){return typeof ae.copyFileSync=="function"?(ae.copyFileSync(t,r),ae.chmodSync(r,e.mode),n.preserveTimestamps?x0(r,e.atime,e.mtime):void 0):L0(e,t,r,n)}function L0(e,t,r,n){let s=Vl()(65536),o=ae.openSync(t,"r"),u=ae.openSync(r,"w",e.mode),a=0;for(;a<e.size;){let f=ae.readSync(o,s,0,65536,a);ae.writeSync(u,s,0,f),a+=f;}n.preserveTimestamps&&ae.futimesSync(u,e.atime,e.mtime),ae.closeSync(o),ae.closeSync(u);}function N0(e,t,r,n,i){if(!t)return I0(e,r,n,i);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`);return Jl(r,n,i)}function I0(e,t,r,n){return ae.mkdirSync(r),Jl(t,r,n),ae.chmodSync(r,e.mode)}function Jl(e,t,r){ae.readdirSync(e).forEach(n=>B0(n,e,t,r));}function B0(e,t,r,n){let i=$r.join(t,e),s=$r.join(r,e),{destStat:o}=Lr.checkPathsSync(i,s,"copy");return Hl(o,i,s,n)}function M0(e,t,r,n){let i=ae.readlinkSync(t);if(n.dereference&&(i=$r.resolve(process.cwd(),i)),e){let s;try{s=ae.readlinkSync(r);}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return ae.symlinkSync(i,r);throw o}if(n.dereference&&(s=$r.resolve(process.cwd(),s)),Lr.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(ae.statSync(r).isDirectory()&&Lr.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return q0(i,r)}else return ae.symlinkSync(i,r)}function q0(e,t){return ae.unlinkSync(t),ae.symlinkSync(e,t)}Yl.exports=A0;});var Ws=R((GF,Zl)=>{Zl.exports={copySync:Kl()};});var Xe=R((JF,Xl)=>{var P0=Oe().fromPromise,Ql=Ts();function k0(e){return Ql.access(e).then(()=>!0).catch(()=>!1)}Xl.exports={pathExists:P0(k0),pathExistsSync:Ql.existsSync};});var cf=R((YF,af)=>{var Ce=pe(),Nr=I("path"),z0=$e().mkdirs,W0=Xe().pathExists,U0=qs().utimesMillis,Ir=Rr();function V0(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),Ir.checkPaths(e,t,"copy",(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:u}=s;Ir.checkParentPaths(e,o,t,"copy",a=>a?n(a):r.filter?rf(ef,u,e,t,r,n):ef(u,e,t,r,n));});}function ef(e,t,r,n,i){let s=Nr.dirname(r);W0(s,(o,u)=>{if(o)return i(o);if(u)return Us(e,t,r,n,i);z0(s,a=>a?i(a):Us(e,t,r,n,i));});}function rf(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o));}function Us(e,t,r,n,i){return n.filter?rf(tf,e,t,r,n,i):tf(e,t,r,n,i)}function tf(e,t,r,n,i){(n.dereference?Ce.stat:Ce.lstat)(t,(o,u)=>{if(o)return i(o);if(u.isDirectory())return Y0(u,e,t,r,n,i);if(u.isFile()||u.isCharacterDevice()||u.isBlockDevice())return H0(u,e,t,r,n,i);if(u.isSymbolicLink())return Q0(e,t,r,n,i)});}function H0(e,t,r,n,i,s){return t?G0(e,r,n,i,s):nf(e,r,n,i,s)}function G0(e,t,r,n,i){if(n.overwrite)Ce.unlink(r,s=>s?i(s):nf(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function nf(e,t,r,n,i){return typeof Ce.copyFile=="function"?Ce.copyFile(t,r,s=>s?i(s):sf(e,r,n,i)):J0(e,t,r,n,i)}function J0(e,t,r,n,i){let s=Ce.createReadStream(t);s.on("error",o=>i(o)).once("open",()=>{let o=Ce.createWriteStream(r,{mode:e.mode});o.on("error",u=>i(u)).on("open",()=>s.pipe(o)).once("close",()=>sf(e,r,n,i));});}function sf(e,t,r,n){Ce.chmod(t,e.mode,i=>i?n(i):r.preserveTimestamps?U0(t,e.atime,e.mtime,n):n());}function Y0(e,t,r,n,i,s){return t?t&&!t.isDirectory()?s(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)):of(r,n,i,s):K0(e,r,n,i,s)}function K0(e,t,r,n,i){Ce.mkdir(r,s=>{if(s)return i(s);of(t,r,n,o=>o?i(o):Ce.chmod(r,e.mode,i));});}function of(e,t,r,n){Ce.readdir(e,(i,s)=>i?n(i):uf(s,e,t,r,n));}function uf(e,t,r,n,i){let s=e.pop();return s?Z0(e,s,t,r,n,i):i()}function Z0(e,t,r,n,i,s){let o=Nr.join(r,t),u=Nr.join(n,t);Ir.checkPaths(o,u,"copy",(a,f)=>{if(a)return s(a);let{destStat:l}=f;Us(l,o,u,i,h=>h?s(h):uf(e,r,n,i,s));});}function Q0(e,t,r,n,i){Ce.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=Nr.resolve(process.cwd(),o)),e)Ce.readlink(r,(u,a)=>u?u.code==="EINVAL"||u.code==="UNKNOWN"?Ce.symlink(o,r,i):i(u):(n.dereference&&(a=Nr.resolve(process.cwd(),a)),Ir.isSrcSubdir(o,a)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${a}'.`)):e.isDirectory()&&Ir.isSrcSubdir(a,o)?i(new Error(`Cannot overwrite '${a}' with '${o}'.`)):X0(o,r,i)));else return Ce.symlink(o,r,i)});}function X0(e,t,r){Ce.unlink(t,n=>n?r(n):Ce.symlink(e,t,r));}af.exports=V0;});var Vs=R((KF,lf)=>{var ey=Oe().fromCallback;lf.exports={copy:ey(cf())};});var Ef=R((ZF,yf)=>{var ff=pe(),gf=I("path"),ne=I("assert"),Br=process.platform==="win32";function mf(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||ff[r],r=r+"Sync",e[r]=e[r]||ff[r];}),e.maxBusyTries=e.maxBusyTries||3;}function Hs(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),ne(e,"rimraf: missing path"),ne.strictEqual(typeof e,"string","rimraf: path should be a string"),ne.strictEqual(typeof r,"function","rimraf: callback function required"),ne(t,"rimraf: invalid options argument provided"),ne.strictEqual(typeof t,"object","rimraf: options should be object"),mf(t),hf(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;let o=n*100;return setTimeout(()=>hf(e,t,i),o)}s.code==="ENOENT"&&(s=null);}r(s);});}function hf(e,t,r){ne(e),ne(t),ne(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Br)return df(e,t,n,r);if(i&&i.isDirectory())return zn(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Br?df(e,t,s,r):zn(e,t,s,r);if(s.code==="EISDIR")return zn(e,t,s,r)}return r(s)});});}function df(e,t,r,n){ne(e),ne(t),ne(typeof n=="function"),r&&ne(r instanceof Error),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?zn(e,t,r,n):t.unlink(e,n);});});}function pf(e,t,r){let n;ne(e),ne(t),r&&ne(r instanceof Error);try{t.chmodSync(e,438);}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e);}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Wn(e,t,r):t.unlinkSync(e);}function zn(e,t,r,n){ne(e),ne(t),r&&ne(r instanceof Error),ne(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?ty(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i);});}function ty(e,t,r){ne(e),ne(t),ne(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(u=>{Hs(gf.join(e,u),t,a=>{if(!o){if(a)return r(o=a);--s===0&&t.rmdir(e,r);}});});});}function Df(e,t){let r;t=t||{},mf(t),ne(e,"rimraf: missing path"),ne.strictEqual(typeof e,"string","rimraf: path should be a string"),ne(t,"rimraf: missing options"),ne.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e);}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&Br&&pf(e,t,n);}try{r&&r.isDirectory()?Wn(e,t,null):t.unlinkSync(e);}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return Br?pf(e,t,n):Wn(e,t,n);if(n.code!=="EISDIR")throw n;Wn(e,t,n);}}function Wn(e,t,r){ne(e),ne(t),r&&ne(r instanceof Error);try{t.rmdirSync(e);}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")ry(e,t);else if(n.code!=="ENOENT")throw n}}function ry(e,t){if(ne(e),ne(t),t.readdirSync(e).forEach(r=>Df(gf.join(e,r),t)),Br){let r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}yf.exports=Hs;Hs.sync=Df;});var Mr=R((QF,vf)=>{var ny=Oe().fromCallback,Ff=Ef();vf.exports={remove:ny(Ff),removeSync:Ff.sync};});var Af=R((XF,xf)=>{var iy=Oe().fromCallback,Sf=pe(),bf=I("path"),Of=$e(),_f=Mr(),Cf=iy(function(t,r){r=r||function(){},Sf.readdir(t,(n,i)=>{if(n)return Of.mkdirs(t,r);i=i.map(o=>bf.join(t,o)),s();function s(){let o=i.pop();if(!o)return r();_f.remove(o,u=>{if(u)return r(u);s();});}});});function wf(e){let t;try{t=Sf.readdirSync(e);}catch{return Of.mkdirsSync(e)}t.forEach(r=>{r=bf.join(e,r),_f.removeSync(r);});}xf.exports={emptyDirSync:wf,emptydirSync:wf,emptyDir:Cf,emptydir:Cf};});var $f=R((ev,Rf)=>{var sy=Oe().fromCallback,Tf=I("path"),qr=pe(),jf=$e(),oy=Xe().pathExists;function uy(e,t){function r(){qr.writeFile(e,"",n=>{if(n)return t(n);t();});}qr.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let s=Tf.dirname(e);oy(s,(o,u)=>{if(o)return t(o);if(u)return r();jf.mkdirs(s,a=>{if(a)return t(a);r();});});});}function ay(e){let t;try{t=qr.statSync(e);}catch{}if(t&&t.isFile())return;let r=Tf.dirname(e);qr.existsSync(r)||jf.mkdirsSync(r),qr.writeFileSync(e,"");}Rf.exports={createFile:sy(uy),createFileSync:ay};});var Mf=R((tv,Bf)=>{var cy=Oe().fromCallback,Nf=I("path"),Rt=pe(),If=$e(),Lf=Xe().pathExists;function ly(e,t,r){function n(i,s){Rt.link(i,s,o=>{if(o)return r(o);r(null);});}Lf(t,(i,s)=>{if(i)return r(i);if(s)return r(null);Rt.lstat(e,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);let u=Nf.dirname(t);Lf(u,(a,f)=>{if(a)return r(a);if(f)return n(e,t);If.mkdirs(u,l=>{if(l)return r(l);n(e,t);});});});});}function fy(e,t){if(Rt.existsSync(t))return;try{Rt.lstatSync(e);}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=Nf.dirname(t);return Rt.existsSync(n)||If.mkdirsSync(n),Rt.linkSync(e,t)}Bf.exports={createLink:cy(ly),createLinkSync:fy};});var Pf=R((rv,qf)=>{var Ft=I("path"),Pr=pe(),hy=Xe().pathExists;function dy(e,t,r){if(Ft.isAbsolute(e))return Pr.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=Ft.dirname(t),i=Ft.join(n,e);return hy(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Pr.lstat(e,u=>u?(u.message=u.message.replace("lstat","ensureSymlink"),r(u)):r(null,{toCwd:e,toDst:Ft.relative(n,e)})))}}function py(e,t){let r;if(Ft.isAbsolute(e)){if(r=Pr.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return {toCwd:e,toDst:e}}else {let n=Ft.dirname(t),i=Ft.join(n,e);if(r=Pr.existsSync(i),r)return {toCwd:i,toDst:e};if(r=Pr.existsSync(e),!r)throw new Error("relative srcpath does not exist");return {toCwd:e,toDst:Ft.relative(n,e)}}}qf.exports={symlinkPaths:dy,symlinkPathsSync:py};});var Wf=R((nv,zf)=>{var kf=pe();function gy(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);kf.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t);});}function my(e,t){let r;if(t)return t;try{r=kf.lstatSync(e);}catch{return "file"}return r&&r.isDirectory()?"dir":"file"}zf.exports={symlinkType:gy,symlinkTypeSync:my};});var Kf=R((iv,Yf)=>{var Dy=Oe().fromCallback,Vf=I("path"),ir=pe(),Hf=$e(),yy=Hf.mkdirs,Ey=Hf.mkdirsSync,Gf=Pf(),Fy=Gf.symlinkPaths,vy=Gf.symlinkPathsSync,Jf=Wf(),Cy=Jf.symlinkType,wy=Jf.symlinkTypeSync,Uf=Xe().pathExists;function Sy(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,Uf(t,(i,s)=>{if(i)return n(i);if(s)return n(null);Fy(e,t,(o,u)=>{if(o)return n(o);e=u.toDst,Cy(u.toCwd,r,(a,f)=>{if(a)return n(a);let l=Vf.dirname(t);Uf(l,(h,d)=>{if(h)return n(h);if(d)return ir.symlink(e,t,f,n);yy(l,y=>{if(y)return n(y);ir.symlink(e,t,f,n);});});});});});}function by(e,t,r){if(ir.existsSync(t))return;let i=vy(e,t);e=i.toDst,r=wy(i.toCwd,r);let s=Vf.dirname(t);return ir.existsSync(s)||Ey(s),ir.symlinkSync(e,t,r)}Yf.exports={createSymlink:Dy(Sy),createSymlinkSync:by};});var Qf=R((sv,Zf)=>{var Un=$f(),Vn=Mf(),Hn=Kf();Zf.exports={createFile:Un.createFile,createFileSync:Un.createFileSync,ensureFile:Un.createFile,ensureFileSync:Un.createFileSync,createLink:Vn.createLink,createLinkSync:Vn.createLinkSync,ensureLink:Vn.createLink,ensureLinkSync:Vn.createLinkSync,createSymlink:Hn.createSymlink,createSymlinkSync:Hn.createSymlinkSync,ensureSymlink:Hn.createSymlink,ensureSymlinkSync:Hn.createSymlinkSync};});var rh=R((ov,th)=>{var sr;try{sr=pe();}catch{sr=I("fs");}function Oy(e,t,r){r==null&&(r=t,t={}),typeof t=="string"&&(t={encoding:t}),t=t||{};var n=t.fs||sr,i=!0;"throws"in t&&(i=t.throws),n.readFile(e,t,function(s,o){if(s)return r(s);o=eh(o);var u;try{u=JSON.parse(o,t?t.reviver:null);}catch(a){return i?(a.message=e+": "+a.message,r(a)):r(null,null)}r(null,u);});}function _y(e,t){t=t||{},typeof t=="string"&&(t={encoding:t});var r=t.fs||sr,n=!0;"throws"in t&&(n=t.throws);try{var i=r.readFileSync(e,t);return i=eh(i),JSON.parse(i,t.reviver)}catch(s){if(n)throw s.message=e+": "+s.message,s;return null}}function Xf(e,t){var r,n=`
`;typeof t=="object"&&t!==null&&(t.spaces&&(r=t.spaces),t.EOL&&(n=t.EOL));var i=JSON.stringify(e,t?t.replacer:null,r);return i.replace(/\n/g,n)+n}function xy(e,t,r,n){n==null&&(n=r,r={}),r=r||{};var i=r.fs||sr,s="";try{s=Xf(t,r);}catch(o){n&&n(o,null);return}i.writeFile(e,s,r,n);}function Ay(e,t,r){r=r||{};var n=r.fs||sr,i=Xf(t,r);return n.writeFileSync(e,i,r)}function eh(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,""),e}var Ty={readFile:Oy,readFileSync:_y,writeFile:xy,writeFileSync:Ay};th.exports=Ty;});var Jn=R((uv,ih)=>{var nh=Oe().fromCallback,Gn=rh();ih.exports={readJson:nh(Gn.readFile),readJsonSync:Gn.readFileSync,writeJson:nh(Gn.writeFile),writeJsonSync:Gn.writeFileSync};});var uh=R((av,oh)=>{var jy=I("path"),Ry=$e(),$y=Xe().pathExists,sh=Jn();function Ly(e,t,r,n){typeof r=="function"&&(n=r,r={});let i=jy.dirname(e);$y(i,(s,o)=>{if(s)return n(s);if(o)return sh.writeJson(e,t,r,n);Ry.mkdirs(i,u=>{if(u)return n(u);sh.writeJson(e,t,r,n);});});}oh.exports=Ly;});var ch=R((cv,ah)=>{var Ny=pe(),Iy=I("path"),By=$e(),My=Jn();function qy(e,t,r){let n=Iy.dirname(e);Ny.existsSync(n)||By.mkdirsSync(n),My.writeJsonSync(e,t,r);}ah.exports=qy;});var fh=R((lv,lh)=>{var Py=Oe().fromCallback,be=Jn();be.outputJson=Py(uh());be.outputJsonSync=ch();be.outputJSON=be.outputJson;be.outputJSONSync=be.outputJsonSync;be.writeJSON=be.writeJson;be.writeJSONSync=be.writeJsonSync;be.readJSON=be.readJson;be.readJSONSync=be.readJsonSync;lh.exports=be;});var Dh=R((fv,mh)=>{var ph=pe(),ky=I("path"),zy=Ws().copySync,gh=Mr().removeSync,Wy=$e().mkdirpSync,hh=Rr();function Uy(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i}=hh.checkPathsSync(e,t,"move");return hh.checkParentPathsSync(e,i,t,"move"),Wy(ky.dirname(t)),Vy(e,t,n)}function Vy(e,t,r){if(r)return gh(t),dh(e,t,r);if(ph.existsSync(t))throw new Error("dest already exists.");return dh(e,t,r)}function dh(e,t,r){try{ph.renameSync(e,t);}catch(n){if(n.code!=="EXDEV")throw n;return Hy(e,t,r)}}function Hy(e,t,r){return zy(e,t,{overwrite:r,errorOnExist:!0}),gh(e)}mh.exports=Uy;});var Eh=R((hv,yh)=>{yh.exports={moveSync:Dh()};});var Sh=R((dv,wh)=>{var Gy=pe(),Jy=I("path"),Yy=Vs().copy,Ch=Mr().remove,Ky=$e().mkdirp,Zy=Xe().pathExists,Fh=Rr();function Qy(e,t,r,n){typeof r=="function"&&(n=r,r={});let i=r.overwrite||r.clobber||!1;Fh.checkPaths(e,t,"move",(s,o)=>{if(s)return n(s);let{srcStat:u}=o;Fh.checkParentPaths(e,u,t,"move",a=>{if(a)return n(a);Ky(Jy.dirname(t),f=>f?n(f):Xy(e,t,i,n));});});}function Xy(e,t,r,n){if(r)return Ch(t,i=>i?n(i):vh(e,t,r,n));Zy(t,(i,s)=>i?n(i):s?n(new Error("dest already exists.")):vh(e,t,r,n));}function vh(e,t,r,n){Gy.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):eE(e,t,r,n):n());}function eE(e,t,r,n){Yy(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):Ch(e,n));}wh.exports=Qy;});var Oh=R((pv,bh)=>{var tE=Oe().fromCallback;bh.exports={move:tE(Sh())};});var Th=R((gv,Ah)=>{var rE=Oe().fromCallback,kr=pe(),_h=I("path"),xh=$e(),nE=Xe().pathExists;function iE(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=_h.dirname(e);nE(i,(s,o)=>{if(s)return n(s);if(o)return kr.writeFile(e,t,r,n);xh.mkdirs(i,u=>{if(u)return n(u);kr.writeFile(e,t,r,n);});});}function sE(e,...t){let r=_h.dirname(e);if(kr.existsSync(r))return kr.writeFileSync(e,...t);xh.mkdirsSync(r),kr.writeFileSync(e,...t);}Ah.exports={outputFile:rE(iE),outputFileSync:sE};});var Js=R((mv,Gs)=>{Gs.exports=Object.assign({},Ts(),Ws(),Vs(),Af(),Qf(),fh(),$e(),Eh(),Oh(),Th(),Xe(),Mr());var jh=I("fs");Object.getOwnPropertyDescriptor(jh,"promises")&&Object.defineProperty(Gs.exports,"promises",{get(){return jh.promises}});});var $h=R((Dv,Rh)=>{Rh.exports=()=>new Date;});var Nh=R((yv,Lh)=>{var oE=ye()("streamroller:fileNameFormatter"),uE=I("path"),aE=".gz",cE=".";Lh.exports=({file:e,keepFileExt:t,needsIndex:r,alwaysIncludeDate:n,compress:i,fileNameSep:s})=>{let o=s||cE,u=uE.join(e.dir,e.name),a=y=>y+e.ext,f=(y,C,D)=>(r||!D)&&C?y+o+C:y,l=(y,C,D)=>(C>0||n)&&D?y+o+D:y,h=(y,C)=>C&&i?y+aE:y,d=t?[l,f,a,h]:[a,l,f,h];return ({date:y,index:C})=>(oE(`_formatFileName: date=${y}, index=${C}`),d.reduce((D,O)=>O(D,C,y),u))};});var qh=R((Ev,Mh)=>{var $t=ye()("streamroller:fileNameParser"),Ih=".gz",Bh=Rn(),lE=".";Mh.exports=({file:e,keepFileExt:t,pattern:r,fileNameSep:n})=>{let i=n||lE,s=(d,y)=>d.endsWith(Ih)?($t("it is gzipped"),y.isCompressed=!0,d.slice(0,-1*Ih.length)):d,o="__NOT_MATCHING__",h=[s,t?d=>d.startsWith(e.name)&&d.endsWith(e.ext)?($t("it starts and ends with the right things"),d.slice(e.name.length+1,-1*e.ext.length)):o:d=>d.startsWith(e.base)?($t("it starts with the right things"),d.slice(e.base.length+1)):o,r?(d,y)=>{let C=d.split(i),D=C[C.length-1];$t("items: ",C,", indexStr: ",D);let O=d;D!==void 0&&D.match(/^\d+$/)?(O=d.slice(0,-1*(D.length+1)),$t(`dateStr is ${O}`),r&&!O&&(O=D,D="0")):D="0";try{let A=Bh.parse(r,O,new Date(0,0));return Bh.asString(r,A)!==O?d:(y.index=parseInt(D,10),y.date=O,y.timestamp=A.getTime(),"")}catch(A){return $t(`Problem parsing ${O} as ${r}, error was: `,A),d}}:(d,y)=>d.match(/^\d+$/)?($t("it has an index"),y.index=parseInt(d,10),""):d];return d=>{let y={filename:d,index:0,isCompressed:!1};return h.reduce((D,O)=>O(D,y),d)?null:y}};});var kh=R((Fv,Ph)=>{var xe=ye()("streamroller:moveAndMaybeCompressFile"),at=Js(),fE=I("zlib"),hE=function(e){let t={mode:parseInt("0600",8),compress:!1},r=Object.assign({},t,e);return xe(`_parseOption: moveAndMaybeCompressFile called with option=${JSON.stringify(r)}`),r},dE=async(e,t,r)=>{if(r=hE(r),e===t){xe("moveAndMaybeCompressFile: source and target are the same, not doing anything");return}if(await at.pathExists(e))if(xe(`moveAndMaybeCompressFile: moving file from ${e} to ${t} ${r.compress?"with":"without"} compress`),r.compress)await new Promise((n,i)=>{let s=!1,o=at.createWriteStream(t,{mode:r.mode,flags:"wx"}).on("open",()=>{s=!0;let u=at.createReadStream(e).on("open",()=>{u.pipe(fE.createGzip()).pipe(o);}).on("error",a=>{xe(`moveAndMaybeCompressFile: error reading ${e}`,a),o.destroy(a);});}).on("finish",()=>{xe(`moveAndMaybeCompressFile: finished compressing ${t}, deleting ${e}`),at.unlink(e).then(n).catch(u=>{xe(`moveAndMaybeCompressFile: error deleting ${e}, truncating instead`,u),at.truncate(e).then(n).catch(a=>{xe(`moveAndMaybeCompressFile: error truncating ${e}`,a),i(a);});});}).on("error",u=>{s?(xe(`moveAndMaybeCompressFile: error writing ${t}, deleting`,u),at.unlink(t).then(()=>{i(u);}).catch(a=>{xe(`moveAndMaybeCompressFile: error deleting ${t}`,a),i(a);})):(xe(`moveAndMaybeCompressFile: error creating ${t}`,u),i(u));});}).catch(()=>{});else {xe(`moveAndMaybeCompressFile: renaming ${e} to ${t}`);try{await at.move(e,t,{overwrite:!0});}catch(n){if(xe(`moveAndMaybeCompressFile: error renaming ${e} to ${t}`,n),n.code!=="ENOENT"){xe("moveAndMaybeCompressFile: trying copy+truncate instead");try{await at.copy(e,t,{overwrite:!0}),await at.truncate(e);}catch(i){xe("moveAndMaybeCompressFile: error copy+truncate",i);}}}}};Ph.exports=dE;});var Zn=R((vv,zh)=>{var Le=ye()("streamroller:RollingFileWriteStream"),Nt=Js(),Lt=I("path"),pE=I("os"),Yn=$h(),Kn=Rn(),{Writable:gE}=I("stream"),mE=Nh(),DE=qh(),yE=kh(),EE=e=>(Le(`deleteFiles: files to delete: ${e}`),Promise.all(e.map(t=>Nt.unlink(t).catch(r=>{Le(`deleteFiles: error when unlinking ${t}, ignoring. Error was ${r}`);})))),Ys=class extends gE{constructor(t,r){if(Le(`constructor: creating RollingFileWriteStream. path=${t}`),typeof t!="string"||t.length===0)throw new Error(`Invalid filename: ${t}`);if(t.endsWith(Lt.sep))throw new Error(`Filename is a directory: ${t}`);t.indexOf(`~${Lt.sep}`)===0&&(t=t.replace("~",pE.homedir())),super(r),this.options=this._parseOption(r),this.fileObject=Lt.parse(t),this.fileObject.dir===""&&(this.fileObject=Lt.parse(Lt.join(process.cwd(),t))),this.fileFormatter=mE({file:this.fileObject,alwaysIncludeDate:this.options.alwaysIncludePattern,needsIndex:this.options.maxSize<Number.MAX_SAFE_INTEGER,compress:this.options.compress,keepFileExt:this.options.keepFileExt,fileNameSep:this.options.fileNameSep}),this.fileNameParser=DE({file:this.fileObject,keepFileExt:this.options.keepFileExt,pattern:this.options.pattern,fileNameSep:this.options.fileNameSep}),this.state={currentSize:0},this.options.pattern&&(this.state.currentDate=Kn(this.options.pattern,Yn())),this.filename=this.fileFormatter({index:0,date:this.state.currentDate}),["a","a+","as","as+"].includes(this.options.flags)&&this._setExistingSizeAndDate(),Le(`constructor: create new file ${this.filename}, state=${JSON.stringify(this.state)}`),this._renewWriteStream();}_setExistingSizeAndDate(){try{let t=Nt.statSync(this.filename);this.state.currentSize=t.size,this.options.pattern&&(this.state.currentDate=Kn(this.options.pattern,t.mtime));}catch{return}}_parseOption(t){let r={maxSize:0,numToKeep:Number.MAX_SAFE_INTEGER,encoding:"utf8",mode:parseInt("0600",8),flags:"a",compress:!1,keepFileExt:!1,alwaysIncludePattern:!1},n=Object.assign({},r,t);if(!n.maxSize)delete n.maxSize;else if(n.maxSize<=0)throw new Error(`options.maxSize (${n.maxSize}) should be > 0`);if(n.numBackups||n.numBackups===0){if(n.numBackups<0)throw new Error(`options.numBackups (${n.numBackups}) should be >= 0`);if(n.numBackups>=Number.MAX_SAFE_INTEGER)throw new Error(`options.numBackups (${n.numBackups}) should be < Number.MAX_SAFE_INTEGER`);n.numToKeep=n.numBackups+1;}else if(n.numToKeep<=0)throw new Error(`options.numToKeep (${n.numToKeep}) should be > 0`);return Le(`_parseOption: creating stream with option=${JSON.stringify(n)}`),n}_final(t){this.currentFileStream.end("",this.options.encoding,t);}_write(t,r,n){this._shouldRoll().then(()=>{Le(`_write: writing chunk. file=${this.currentFileStream.path} state=${JSON.stringify(this.state)} chunk=${t}`),this.currentFileStream.write(t,r,i=>{this.state.currentSize+=t.length,n(i);});});}async _shouldRoll(){(this._dateChanged()||this._tooBig())&&(Le(`_shouldRoll: rolling because dateChanged? ${this._dateChanged()} or tooBig? ${this._tooBig()}`),await this._roll());}_dateChanged(){return this.state.currentDate&&this.state.currentDate!==Kn(this.options.pattern,Yn())}_tooBig(){return this.state.currentSize>=this.options.maxSize}_roll(){return Le("_roll: closing the current stream"),new Promise((t,r)=>{this.currentFileStream.end("",this.options.encoding,()=>{this._moveOldFiles().then(t).catch(r);});})}async _moveOldFiles(){let t=await this._getExistingFiles(),r=this.state.currentDate?t.filter(n=>n.date===this.state.currentDate):t;for(let n=r.length;n>=0;n--){Le(`_moveOldFiles: i = ${n}`);let i=this.fileFormatter({date:this.state.currentDate,index:n}),s=this.fileFormatter({date:this.state.currentDate,index:n+1}),o={compress:this.options.compress&&n===0,mode:this.options.mode};await yE(i,s,o);}this.state.currentSize=0,this.state.currentDate=this.state.currentDate?Kn(this.options.pattern,Yn()):null,Le(`_moveOldFiles: finished rolling files. state=${JSON.stringify(this.state)}`),this._renewWriteStream(),await new Promise((n,i)=>{this.currentFileStream.write("","utf8",()=>{this._clean().then(n).catch(i);});});}async _getExistingFiles(){let t=await Nt.readdir(this.fileObject.dir).catch(()=>[]);Le(`_getExistingFiles: files=${t}`);let r=t.map(i=>this.fileNameParser(i)).filter(i=>i),n=i=>(i.timestamp?i.timestamp:Yn().getTime())-i.index;return r.sort((i,s)=>n(i)-n(s)),r}_renewWriteStream(){let t=this.fileFormatter({date:this.state.currentDate,index:0}),r=s=>{try{return Nt.mkdirSync(s,{recursive:!0})}catch(o){if(o.code==="ENOENT")return r(Lt.dirname(s)),r(s);if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;try{if(Nt.statSync(s).isDirectory())return s;throw o}catch{throw o}}};r(this.fileObject.dir);let n={flags:this.options.flags,encoding:this.options.encoding,mode:this.options.mode},i=function(s,o,u){return s[u]=s[o],delete s[o],s};Nt.appendFileSync(t,"",i({...n},"flags","flag")),this.currentFileStream=Nt.createWriteStream(t,n),this.currentFileStream.on("error",s=>{this.emit("error",s);});}async _clean(){let t=await this._getExistingFiles();if(Le(`_clean: numToKeep = ${this.options.numToKeep}, existingFiles = ${t.length}`),Le("_clean: existing files are: ",t),this._tooManyFiles(t.length)){let r=t.slice(0,t.length-this.options.numToKeep).map(n=>Lt.format({dir:this.fileObject.dir,base:n.filename}));await EE(r);}}_tooManyFiles(t){return this.options.numToKeep>0&&t>this.options.numToKeep}};zh.exports=Ys;});var Uh=R((Cv,Wh)=>{var FE=Zn(),Ks=class extends FE{constructor(t,r,n,i){i||(i={}),r&&(i.maxSize=r),!i.numBackups&&i.numBackups!==0&&(!n&&n!==0&&(n=1),i.numBackups=n),super(t,i),this.backups=i.numBackups,this.size=this.options.maxSize;}get theStream(){return this.currentFileStream}};Wh.exports=Ks;});var Hh=R((wv,Vh)=>{var vE=Zn(),Zs=class extends vE{constructor(t,r,n){r&&typeof r=="object"&&(n=r,r=null),n||(n={}),r||(r="yyyy-MM-dd"),n.pattern=r,!n.numBackups&&n.numBackups!==0?(!n.daysToKeep&&n.daysToKeep!==0?n.daysToKeep=1:process.emitWarning("options.daysToKeep is deprecated due to the confusion it causes when used together with file size rolling. Please use options.numBackups instead.","DeprecationWarning","streamroller-DEP0001"),n.numBackups=n.daysToKeep):n.daysToKeep=n.numBackups,super(t,n),this.mode=this.options.mode;}get theStream(){return this.currentFileStream}};Vh.exports=Zs;});var Qs=R((Sv,Gh)=>{Gh.exports={RollingFileWriteStream:Zn(),RollingFileStream:Uh(),DateRollingFileStream:Hh()};});var Qh=R((bv,Zh)=>{var Jh=ye()("log4js:file"),Xs=I("path"),CE=Qs(),Kh=I("os"),wE=Kh.EOL,Qn=!1,Xn=new Set;function Yh(){Xn.forEach(e=>{e.sighupHandler();});}function SE(e,t,r,n,i,s){if(typeof e!="string"||e.length===0)throw new Error(`Invalid filename: ${e}`);if(e.endsWith(Xs.sep))throw new Error(`Filename is a directory: ${e}`);e.indexOf(`~${Xs.sep}`)===0&&(e=e.replace("~",Kh.homedir())),e=Xs.normalize(e),n=!n&&n!==0?5:n,Jh("Creating file appender (",e,", ",r,", ",n,", ",i,", ",s,")");function o(f,l,h,d){let y=new CE.RollingFileStream(f,l,h,d);return y.on("error",C=>{console.error("log4js.fileAppender - Writing to file %s, error happened ",f,C);}),y.on("drain",()=>{process.emit("log4js:pause",!1);}),y}let u=o(e,r,n,i),a=function(f){if(u.writable){if(i.removeColor===!0){let l=/\x1b[[0-9;]*m/g;f.data=f.data.map(h=>typeof h=="string"?h.replace(l,""):h);}u.write(t(f,s)+wE,"utf8")||process.emit("log4js:pause",!0);}};return a.reopen=function(){u.end(()=>{u=o(e,r,n,i);});},a.sighupHandler=function(){Jh("SIGHUP handler called."),a.reopen();},a.shutdown=function(f){Xn.delete(a),Xn.size===0&&Qn&&(process.removeListener("SIGHUP",Yh),Qn=!1),u.end("","utf-8",f);},Xn.add(a),Qn||(process.on("SIGHUP",Yh),Qn=!0),a}function bE(e,t){let r=t.basicLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),e.mode=e.mode||384,SE(e.filename,r,e.maxLogSize,e.backups,e,e.timezoneOffset)}Zh.exports.configure=bE;});var ed=R((Ov,Xh)=>{var OE=Qs(),_E=I("os"),xE=_E.EOL;function AE(e,t,r){let n=new OE.DateRollingFileStream(e,t,r);return n.on("error",i=>{console.error("log4js.dateFileAppender - Writing to file %s, error happened ",e,i);}),n.on("drain",()=>{process.emit("log4js:pause",!1);}),n}function TE(e,t,r,n,i){n.maxSize=n.maxLogSize;let s=AE(e,t,n),o=function(u){s.writable&&(s.write(r(u,i)+xE,"utf8")||process.emit("log4js:pause",!0));};return o.shutdown=function(u){s.end("","utf-8",u);},o}function jE(e,t){let r=t.basicLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),e.alwaysIncludePattern||(e.alwaysIncludePattern=!1),e.mode=e.mode||384,TE(e.filename,e.pattern,r,e,e.timezoneOffset)}Xh.exports.configure=jE;});var id=R((_v,nd)=>{var ct=ye()("log4js:fileSync"),tt=I("path"),et=I("fs"),td=I("os"),RE=td.EOL;function rd(e,t){let r=n=>{try{return et.mkdirSync(n,{recursive:!0})}catch(i){if(i.code==="ENOENT")return r(tt.dirname(n)),r(n);if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(et.statSync(n).isDirectory())return n;throw i}catch{throw i}}};r(tt.dirname(e)),et.appendFileSync(e,"",{mode:t.mode,flag:t.flags});}var eo=class{constructor(t,r,n,i){if(ct("In RollingFileStream"),r<0)throw new Error(`maxLogSize (${r}) should be > 0`);this.filename=t,this.size=r,this.backups=n,this.options=i,this.currentSize=0;function s(o){let u=0;try{u=et.statSync(o).size;}catch{rd(o,i);}return u}this.currentSize=s(this.filename);}shouldRoll(){return ct("should roll with current size %d, and max size %d",this.currentSize,this.size),this.currentSize>=this.size}roll(t){let r=this,n=new RegExp(`^${tt.basename(t)}`);function i(f){return n.test(f)}function s(f){return parseInt(f.slice(`${tt.basename(t)}.`.length),10)||0}function o(f,l){return s(f)-s(l)}function u(f){let l=s(f);if(ct(`Index of ${f} is ${l}`),r.backups===0)et.truncateSync(t,0);else if(l<r.backups){try{et.unlinkSync(`${t}.${l+1}`);}catch{}ct(`Renaming ${f} -> ${t}.${l+1}`),et.renameSync(tt.join(tt.dirname(t),f),`${t}.${l+1}`);}}function a(){ct("Renaming the old files"),et.readdirSync(tt.dirname(t)).filter(i).sort(o).reverse().forEach(u);}ct("Rolling, rolling, rolling"),a();}write(t,r){let n=this;function i(){ct("writing the chunk to the file"),n.currentSize+=t.length,et.appendFileSync(n.filename,t);}ct("in write"),this.shouldRoll()&&(this.currentSize=0,this.roll(this.filename)),i();}};function $E(e,t,r,n,i,s){if(typeof e!="string"||e.length===0)throw new Error(`Invalid filename: ${e}`);if(e.endsWith(tt.sep))throw new Error(`Filename is a directory: ${e}`);e.indexOf(`~${tt.sep}`)===0&&(e=e.replace("~",td.homedir())),e=tt.normalize(e),n=!n&&n!==0?5:n,ct("Creating fileSync appender (",e,", ",r,", ",n,", ",i,", ",s,")");function o(a,f,l){let h;return f?h=new eo(a,f,l,i):h=(d=>(rd(d,i),{write(y){et.appendFileSync(d,y);}}))(a),h}let u=o(e,r,n);return a=>{u.write(t(a,s)+RE);}}function LE(e,t){let r=t.basicLayout;e.layout&&(r=t.layout(e.layout.type,e.layout));let n={flags:e.flags||"a",encoding:e.encoding||"utf8",mode:e.mode||384};return $E(e.filename,r,e.maxLogSize,e.backups,n,e.timezoneOffset)}nd.exports.configure=LE;});var od=R((xv,sd)=>{var rt=ye()("log4js:tcp"),NE=I("net");function IE(e,t){let r=!1,n=[],i,s=3,o="__LOG4JS__";function u(h){rt("Writing log event to socket"),r=i.write(`${t(h)}${o}`,"utf8");}function a(){let h;for(rt("emptying buffer");h=n.shift();)u(h);}function f(){rt(`appender creating socket to ${e.host||"localhost"}:${e.port||5e3}`),o=`${e.endMsg||"__LOG4JS__"}`,i=NE.createConnection(e.port||5e3,e.host||"localhost"),i.on("connect",()=>{rt("socket connected"),a(),r=!0;}),i.on("drain",()=>{rt("drain event received, emptying buffer"),r=!0,a();}),i.on("timeout",i.end.bind(i)),i.on("error",h=>{rt("connection error",h),r=!1,a();}),i.on("close",f);}f();function l(h){r?u(h):(rt("buffering log event because it cannot write at the moment"),n.push(h));}return l.shutdown=function(h){rt("shutdown called"),n.length&&s?(rt("buffer has items, waiting 100ms to empty"),s-=1,setTimeout(()=>{l.shutdown(h);},100)):(i.removeAllListeners("close"),i.end(h));},l}function BE(e,t){rt(`configure with config = ${e}`);let r=function(n){return n.serialise()};return e.layout&&(r=t.layout(e.layout.type,e.layout)),IE(e,r)}sd.exports.configure=BE;});var no=R((Av,ro)=>{var to=I("path"),vt=ye()("log4js:appenders"),Ue=_t(),ud=In(),ME=At(),qE=ys(),PE=nl(),Ye=new Map;Ye.set("console",sl());Ye.set("stdout",ul());Ye.set("stderr",cl());Ye.set("logLevelFilter",fl());Ye.set("categoryFilter",pl());Ye.set("noLogFilter",Dl());Ye.set("file",Qh());Ye.set("dateFile",ed());Ye.set("fileSync",id());Ye.set("tcp",od());var zr=new Map,ei=(e,t)=>{let r;try{let n=`${e}.cjs`;r=I.resolve(n),vt("Loading module from ",n);}catch{r=e,vt("Loading module from ",e);}try{return I(r)}catch(n){Ue.throwExceptionIf(t,n.code!=="MODULE_NOT_FOUND",`appender "${e}" could not be loaded (error was: ${n})`);return}},kE=(e,t)=>Ye.get(e)||ei(`./${e}`,t)||ei(e,t)||I.main&&I.main.filename&&ei(to.join(to.dirname(I.main.filename),e),t)||ei(to.join(process.cwd(),e),t),ti=new Set,ad=(e,t)=>{if(zr.has(e))return zr.get(e);if(!t.appenders[e])return !1;if(ti.has(e))throw new Error(`Dependency loop detected for appender ${e}.`);ti.add(e),vt(`Creating appender ${e}`);let r=zE(e,t);return ti.delete(e),zr.set(e,r),r},zE=(e,t)=>{let r=t.appenders[e],n=r.type.configure?r.type:kE(r.type,t);return Ue.throwExceptionIf(t,Ue.not(n),`appender "${e}" is not valid (type "${r.type}" could not be found)`),n.appender&&(process.emitWarning(`Appender ${r.type} exports an appender function.`,"DeprecationWarning","log4js-node-DEP0001"),vt("[log4js-node-DEP0001]",`DEPRECATION: Appender ${r.type} exports an appender function.`)),n.shutdown&&(process.emitWarning(`Appender ${r.type} exports a shutdown function.`,"DeprecationWarning","log4js-node-DEP0002"),vt("[log4js-node-DEP0002]",`DEPRECATION: Appender ${r.type} exports a shutdown function.`)),vt(`${e}: clustering.isMaster ? ${ud.isMaster()}`),vt(`${e}: appenderModule is ${I("util").inspect(n)}`),ud.onlyOnMaster(()=>(vt(`calling appenderModule.configure for ${e} / ${r.type}`),n.configure(PE.modifyConfig(r),qE,i=>ad(i,t),ME)),()=>{})},cd=e=>{if(zr.clear(),ti.clear(),!e)return;let t=[];Object.values(e.categories).forEach(r=>{t.push(...r.appenders);}),Object.keys(e.appenders).forEach(r=>{(t.includes(r)||e.appenders[r].type==="tcp-server"||e.appenders[r].type==="multiprocess")&&ad(r,e);});},ld=()=>{cd();};ld();Ue.addListener(e=>{Ue.throwExceptionIf(e,Ue.not(Ue.anObject(e.appenders)),'must have a property "appenders" of type object.');let t=Object.keys(e.appenders);Ue.throwExceptionIf(e,Ue.not(t.length),"must define at least one appender."),t.forEach(r=>{Ue.throwExceptionIf(e,Ue.not(e.appenders[r].type),`appender "${r}" is not valid (must be an object with property "type")`);});});Ue.addListener(cd);ro.exports=zr;ro.exports.init=ld;});var oo=R((jv,ri)=>{var Wr=ye()("log4js:categories"),fe=_t(),io=At(),fd=no(),Ct=new Map;function hd(e,t,r){if(t.inherit===!1)return;let n=r.lastIndexOf(".");if(n<0)return;let i=r.slice(0,n),s=e.categories[i];s||(s={inherit:!0,appenders:[]}),hd(e,s,i),!e.categories[i]&&s.appenders&&s.appenders.length&&s.level&&(e.categories[i]=s),t.appenders=t.appenders||[],t.level=t.level||s.level,s.appenders.forEach(o=>{t.appenders.includes(o)||t.appenders.push(o);}),t.parent=s;}function WE(e){if(!e.categories)return;Object.keys(e.categories).forEach(r=>{let n=e.categories[r];hd(e,n,r);});}fe.addPreProcessingListener(e=>WE(e));fe.addListener(e=>{fe.throwExceptionIf(e,fe.not(fe.anObject(e.categories)),'must have a property "categories" of type object.');let t=Object.keys(e.categories);fe.throwExceptionIf(e,fe.not(t.length),"must define at least one category."),t.forEach(r=>{let n=e.categories[r];fe.throwExceptionIf(e,[fe.not(n.appenders),fe.not(n.level)],`category "${r}" is not valid (must be an object with properties "appenders" and "level")`),fe.throwExceptionIf(e,fe.not(Array.isArray(n.appenders)),`category "${r}" is not valid (appenders must be an array of appender names)`),fe.throwExceptionIf(e,fe.not(n.appenders.length),`category "${r}" is not valid (appenders must contain at least one appender name)`),Object.prototype.hasOwnProperty.call(n,"enableCallStack")&&fe.throwExceptionIf(e,typeof n.enableCallStack!="boolean",`category "${r}" is not valid (enableCallStack must be boolean type)`),n.appenders.forEach(i=>{fe.throwExceptionIf(e,fe.not(fd.get(i)),`category "${r}" is not valid (appender "${i}" is not defined)`);}),fe.throwExceptionIf(e,fe.not(io.getLevel(n.level)),`category "${r}" is not valid (level "${n.level}" not recognised; valid levels are ${io.levels.join(", ")})`);}),fe.throwExceptionIf(e,fe.not(e.categories.default),'must define a "default" category.');});var so=e=>{if(Ct.clear(),!e)return;Object.keys(e.categories).forEach(r=>{let n=e.categories[r],i=[];n.appenders.forEach(s=>{i.push(fd.get(s)),Wr(`Creating category ${r}`),Ct.set(r,{appenders:i,level:io.getLevel(n.level),enableCallStack:n.enableCallStack||!1});});});},dd=()=>{so();};dd();fe.addListener(so);var or=e=>{if(Wr(`configForCategory: searching for config for ${e}`),Ct.has(e))return Wr(`configForCategory: ${e} exists in config, returning it`),Ct.get(e);let t;return e.indexOf(".")>0?(Wr(`configForCategory: ${e} has hierarchy, cloning from parents`),t={...or(e.slice(0,e.lastIndexOf(".")))}):(Ct.has("default")||so({categories:{default:{appenders:["out"],level:"OFF"}}}),Wr("configForCategory: cloning default category"),t={...Ct.get("default")}),Ct.set(e,t),t},UE=e=>or(e).appenders,VE=e=>or(e).level,HE=(e,t)=>{or(e).level=t;},GE=e=>or(e).enableCallStack===!0,JE=(e,t)=>{or(e).enableCallStack=t;};ri.exports=Ct;ri.exports=Object.assign(ri.exports,{appendersForCategory:UE,getLevelForCategory:VE,setLevelForCategory:HE,getEnableCallStackForCategory:GE,setEnableCallStackForCategory:JE,init:dd});});var Fd=R((Rv,Ed)=>{var pd=ye()("log4js:logger"),YE=vs(),nt=At(),KE=In(),ni=oo(),md=_t(),ZE=/^(?:\s*)at (?:(.+) \()?(?:([^(]+?):(\d+):(\d+))\)?$/,uo=1,Dd=3;function gd(e,t=Dd+uo){try{let r=e.stack.split(`
`).slice(t);if(!r.length)return null;let n=ZE.exec(r[0]);if(n&&n.length===5){let i="",s="",o="";return n[1]&&n[1]!==""&&([s,o]=n[1].replace(/[[\]]/g,"").split(" as "),o=o||"",s.includes(".")&&([i,s]=s.split("."))),{fileName:n[2],lineNumber:parseInt(n[3],10),columnNumber:parseInt(n[4],10),callStack:r.join(`
`),className:i,functionName:s,functionAlias:o,callerName:n[1]||""}}else console.error("log4js.logger - defaultParseCallStack error");}catch(r){console.error("log4js.logger - defaultParseCallStack error",r);}return null}var Ur=class{constructor(t){if(!t)throw new Error("No category provided.");this.category=t,this.context={},this.callStackSkipIndex=0,this.parseCallStack=gd,pd(`Logger created (${this.category}, ${this.level})`);}get level(){return nt.getLevel(ni.getLevelForCategory(this.category),nt.OFF)}set level(t){ni.setLevelForCategory(this.category,nt.getLevel(t,this.level));}get useCallStack(){return ni.getEnableCallStackForCategory(this.category)}set useCallStack(t){ni.setEnableCallStackForCategory(this.category,t===!0);}get callStackLinesToSkip(){return this.callStackSkipIndex}set callStackLinesToSkip(t){if(typeof t!="number")throw new TypeError("Must be a number");if(t<0)throw new RangeError("Must be >= 0");this.callStackSkipIndex=t;}log(t,...r){let n=nt.getLevel(t);n?this.isLevelEnabled(n)&&this._log(n,r):md.validIdentifier(t)&&r.length>0?(this.log(nt.WARN,"log4js:logger.log: valid log-level not found as first parameter given:",t),this.log(nt.INFO,`[${t}]`,...r)):this.log(nt.INFO,t,...r);}isLevelEnabled(t){return this.level.isLessThanOrEqualTo(t)}_log(t,r){pd(`sending log data (${t}) to appenders`);let n=r.find(o=>o instanceof Error),i;if(this.useCallStack){try{n&&(i=this.parseCallStack(n,this.callStackSkipIndex+uo));}catch{}i=i||this.parseCallStack(new Error,this.callStackSkipIndex+Dd+uo);}let s=new YE(this.category,t,r,this.context,i,n);KE.send(s);}addContext(t,r){this.context[t]=r;}removeContext(t){delete this.context[t];}clearContext(){this.context={};}setParseCallStackFunction(t){if(typeof t=="function")this.parseCallStack=t;else if(typeof t>"u")this.parseCallStack=gd;else throw new TypeError("Invalid type passed to setParseCallStackFunction")}};function yd(e){let t=nt.getLevel(e),n=t.toString().toLowerCase().replace(/_([a-z])/g,s=>s[1].toUpperCase()),i=n[0].toUpperCase()+n.slice(1);Ur.prototype[`is${i}Enabled`]=function(){return this.isLevelEnabled(t)},Ur.prototype[n]=function(...s){this.log(t,...s);};}nt.levels.forEach(yd);md.addListener(()=>{nt.levels.forEach(yd);});Ed.exports=Ur;});var wd=R(($v,Cd)=>{var ur=At(),QE=':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"';function XE(e){return e.originalUrl||e.url}function e1(e,t,r){let n=s=>{let o=s.concat();for(let u=0;u<o.length;++u)for(let a=u+1;a<o.length;++a)o[u].token==o[a].token&&o.splice(a--,1);return o},i=[];return i.push({token:":url",replacement:XE(e)}),i.push({token:":protocol",replacement:e.protocol}),i.push({token:":hostname",replacement:e.hostname}),i.push({token:":method",replacement:e.method}),i.push({token:":status",replacement:t.__statusCode||t.statusCode}),i.push({token:":response-time",replacement:t.responseTime}),i.push({token:":date",replacement:new Date().toUTCString()}),i.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""}),i.push({token:":http-version",replacement:`${e.httpVersionMajor}.${e.httpVersionMinor}`}),i.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)}),i.push({token:":user-agent",replacement:e.headers["user-agent"]}),i.push({token:":content-length",replacement:t.getHeader("content-length")||t.__headers&&t.__headers["Content-Length"]||"-"}),i.push({token:/:req\[([^\]]+)]/g,replacement(s,o){return e.headers[o.toLowerCase()]}}),i.push({token:/:res\[([^\]]+)]/g,replacement(s,o){return t.getHeader(o.toLowerCase())||t.__headers&&t.__headers[o]}}),n(r.concat(i))}function vd(e,t){for(let r=0;r<t.length;r++)e=e.replace(t[r].token,t[r].replacement);return e}function t1(e){let t=null;if(e instanceof RegExp&&(t=e),typeof e=="string"&&(t=new RegExp(e)),Array.isArray(e)){let r=e.map(n=>n.source?n.source:n);t=new RegExp(r.join("|"));}return t}function r1(e,t,r){let n=t;if(r){let i=r.find(s=>{let o=!1;return s.from&&s.to?o=e>=s.from&&e<=s.to:o=s.codes.indexOf(e)!==-1,o});i&&(n=ur.getLevel(i.level,n));}return n}Cd.exports=function(t,r){typeof r=="string"||typeof r=="function"?r={format:r}:r=r||{};let n=t,i=ur.getLevel(r.level,ur.INFO),s=r.format||QE;return (o,u,a)=>{if(typeof o._logging<"u")return a();if(typeof r.nolog!="function"){let f=t1(r.nolog);if(f&&f.test(o.originalUrl))return a()}if(n.isLevelEnabled(i)||r.level==="auto"){let f=new Date,{writeHead:l}=u;o._logging=!0,u.writeHead=(y,C)=>{u.writeHead=l,u.writeHead(y,C),u.__statusCode=y,u.__headers=C||{};};let h=!1,d=()=>{if(h)return;if(h=!0,typeof r.nolog=="function"&&r.nolog(o,u)===!0){o._logging=!1;return}u.responseTime=new Date-f,u.statusCode&&r.level==="auto"&&(i=ur.INFO,u.statusCode>=300&&(i=ur.WARN),u.statusCode>=400&&(i=ur.ERROR)),i=r1(u.statusCode,i,r.statusRules);let y=e1(o,u,r.tokens||[]);if(r.context&&n.addContext("res",u),typeof s=="function"){let C=s(o,u,D=>vd(D,y));C&&n.log(i,C);}else n.log(i,vd(s,y));r.context&&n.removeContext("res");};u.on("end",d),u.on("finish",d),u.on("error",d),u.on("close",d);}return a()}};});var xd=R((Lv,_d)=>{var Sd=ye()("log4js:recording"),ii=[];function n1(){return function(e){Sd(`received logEvent, number of events now ${ii.length+1}`),Sd("log event was ",e),ii.push(e);}}function bd(){return ii.slice()}function Od(){ii.length=0;}_d.exports={configure:n1,replay:bd,playback:bd,reset:Od,erase:Od};});var Nd=R((Nv,Ld)=>{var wt=ye()("log4js:main"),i1=I("fs"),s1=Dc()({proto:!0}),o1=_t(),u1=ys(),a1=At(),Ad=no(),Td=oo(),c1=Fd(),l1=In(),f1=wd(),h1=xd(),ar=!1;function d1(e){if(!ar)return;wt("Received log event ",e),Td.appendersForCategory(e.categoryName).forEach(r=>{r(e);});}function p1(e){wt(`Loading configuration from ${e}`);try{return JSON.parse(i1.readFileSync(e,"utf8"))}catch(t){throw new Error(`Problem reading config from file "${e}". Error was ${t.message}`,t)}}function jd(e){ar&&Rd();let t=e;return typeof t=="string"&&(t=p1(e)),wt(`Configuration is ${t}`),o1.configure(s1(t)),l1.onMessage(d1),ar=!0,$d}function g1(){return ar}function m1(){return h1}function Rd(e=()=>{}){if(typeof e!="function")throw new TypeError("Invalid callback passed to shutdown");wt("Shutdown called. Disabling all log writing."),ar=!1;let t=Array.from(Ad.values());Ad.init(),Td.init();let r=t.reduce((o,u)=>u.shutdown?o+1:o,0);r===0&&(wt("No appenders with shutdown functions found."),e());let n=0,i;wt(`Found ${r} appenders with shutdown functions.`);function s(o){i=i||o,n+=1,wt(`Appender shutdowns complete: ${n} / ${r}`),n>=r&&(wt("All shutdown functions completed."),e(i));}t.filter(o=>o.shutdown).forEach(o=>o.shutdown(s));}function D1(e){return ar||jd(process.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}}),new c1(e||"default")}var $d={getLogger:D1,configure:jd,isConfigured:g1,shutdown:Rd,connectLogger:f1,levels:a1,addLayout:u1.addLayout,recording:m1};Ld.exports=$d;});var ic=fo(fn());var Kt=class e{nconf=ic.default;_rootPath;_devmode;_logLevel;_dateFormat;_logFilePath;_ipAddress;_port;_trLogin;_trPass;_mediaPath;_serialsRootDir;_filmsRootDir;_allowedMediaExtensions;_trAppVersion;_trTorrentId;_trTorrentName;_trTorrentDir;_trTorrentHash;_trTimeLocaltime;_trTorrentLabels;_trTorrentBytesDownloaded;_trTorrentTrackers;_maxWhileCount=10;constructor(t){process.env.UV_THREADPOOL_SIZE=os.cpus().length.toString(),this._rootPath=t??e.getRootDir(this.maxWhileCount),this.init(),this._trLogin=this.getParam("login"),this._trPass=this.getParam("password"),this._devmode=this.getParam("node_env")==="development",this._logLevel=this.devmode?"trace":this.getParam("log_level"),this._dateFormat=this.getParam("date_format"),this._logFilePath=this.getParam("log_file_path"),this._ipAddress=this.getParam("ip_address"),this._port=Number(this.getParam("tcp_port")),this._allowedMediaExtensions=e.extensionsRegexTemplate(this.getParam("allowed_media_extensions")),this._mediaPath=this.devmode?path.normalize(`${this.rootPath}/mnt/data/media`):this.getParam("media_path"),this._serialsRootDir=this.getParam("serials_root_dir"),this._filmsRootDir=this.getParam("films_root_dir"),this._trAppVersion=this.getParam("TR_APP_VERSION"),this._trTorrentId=Number(this.getParam("TR_TORRENT_ID")),this._trTorrentName=this.getParam("TR_TORRENT_NAME"),this._trTorrentDir=this.getParam("TR_TORRENT_DIR"),this._trTorrentHash=this.getParam("TR_TORRENT_HASH"),this._trTimeLocaltime=this.getParam("TR_TIME_LOCALTIME"),this._trTorrentLabels=this.getParam("TR_TORRENT_LABELS"),this._trTorrentBytesDownloaded=Number(this.getParam("TR_TORRENT_BYTES_DOWNLOADED")),this._trTorrentTrackers=this.getParam("TR_TORRENT_TRACKERS");}get rootPath(){return this._rootPath}get devmode(){return this._devmode}get logLevel(){return this._logLevel}get dateFormat(){return this._dateFormat}get logFilePath(){return this._logFilePath}get ipAddress(){return this._ipAddress}get port(){return this._port}get trLogin(){return this._trLogin}get trPass(){return this._trPass}get mediaPath(){return this._mediaPath}get serialsRootDir(){return this._serialsRootDir}get filmsRootDir(){return this._filmsRootDir}get allowedMediaExtensions(){return this._allowedMediaExtensions}get trAppVersion(){return this._trAppVersion}get trTorrentId(){return this._trTorrentId}get trTorrentName(){return this._trTorrentName}get trTorrentDir(){return this._trTorrentDir}get trTorrentHash(){return this._trTorrentHash}get trTimeLocaltime(){return this._trTimeLocaltime}get trTorrentLabels(){return this._trTorrentLabels}get trTorrentBytesDownloaded(){return this._trTorrentBytesDownloaded}get trTorrentTrackers(){return this._trTorrentTrackers}get maxWhileCount(){return this._maxWhileCount}init(){let t=path.normalize(`${this.rootPath}/config.json`);this.nconf.env(),this.nconf.file("config",t),this.nconf.file("package",path.normalize(`${this.rootPath}/package.json`)),this.nconf.defaults({node_env:"production",media_path:"/mnt/data/media",serials_root_dir:"TV Shows",films_root_dir:"Movies",log_level:"info",log_file_path:"/var/log/transmission/torrentdone.log",date_format:"dd.MM.yyyy_hh:mm:ss.SSS",ip_address:"127.0.0.1",tcp_port:"9091",allowed_media_extensions:"mkv,mp4,avi"}),this.nconf.load(),this.check();}check(){let t=this.getParam("login"),r=this.getParam("password");if(t===void 0||t===""||r===void 0||r==="")throw new Error("Login or password must be filled in config.json file or Environment");let n=this.getParam("TR_APP_VERSION"),i=Number(this.getParam("TR_TORRENT_ID")),s=this.getParam("TR_TORRENT_NAME"),o=this.getParam("TR_TORRENT_DIR"),u=this.getParam("TR_TORRENT_HASH"),a=this.getParam("TR_TIME_LOCALTIME");if(n===void 0||Number.isNaN(i)||o===void 0||s===void 0||u===void 0||a===void 0)throw new Error(`One or more parameters do not match the requirements: TR_APP_VERSION - "${n}", TR_TORRENT_ID - "${i}", TR_TORRENT_DIR - "${o}", TR_TORRENT_NAME - "${s}", TR_TORRENT_HASH - "${u}", TR_TIME_LOCALTIME - "${a}"`)}static getRootDir(t){let r=url.fileURLToPath(url.pathToFileURL(__filename).toString()),i=path.dirname(r);for(;!fs.existsSync(path.join(i,"package.json"));){if(t===0)throw new Error("The number of attempts to search for the root directory has expired");t--,i=path.join(i,"..");}return path.normalize(i)}getParam(t){let r=this.nconf.get(t);return r===void 0&&(r=this.nconf.get(t.toUpperCase())),r}static extensionsRegexTemplate(t){let r=t.split(","),n=".(";if(r.length>1)for(let i=0;i<r.length;i++)Number(i)===0?n+=`${r[i]}|`:Number(i)===r.length-1?n+=`|${r[i]}`:n+=r[i];else n+=r[0];return n+=")",new RegExp(n,"i")}};var y1=fo(Nd());var si=class{_config;_log4js;_logger;constructor(t){this._config=new Kt(t),this._log4js=y1,this.init(),this._logger=this._log4js.getLogger();}get config(){return this._config}get logger(){return this._logger}init(){let t={appenders:{console:{type:"console",layout:{type:"pattern",pattern:`[%d{${this.config.dateFormat}}] : %[[%p]%] : %m`}},logFile:{type:"file",filename:this.config.logFilePath,maxLogSize:"10M",compress:!0,layout:{type:"pattern",pattern:`[%d{${this.config.dateFormat}}] : [%p] : %m`}}},categories:{default:{appenders:this.config.devmode?["console"]:["console","logFile"],level:this.config.logLevel,enableCallStack:!!this.config.devmode}}};this._log4js.configure(t);}};var ui=class e{_config;_logger;_connect;TR_APP_VERSION;TR_TORRENT_ID;TR_TORRENT_NAME;TR_TORRENT_DIR;TR_TORRENT_HASH;TR_TIME_LOCALTIME;TR_TORRENT_LABELS;TR_TORRENT_BYTES_DOWNLOADED;TR_TORRENT_TRACKERS;DIR_FLAG;RELEASER;DIR_NAME;regexSerial_Base=/(serial|season|s\d{2}[._-]{0,1}e\d{2})/i;regexFilm_Base=/[.(_\-\s](19|20)[0-9]{2}[.)_\-\s]/i;regexNameSeason=/(.+)\.?([sS]([0-9]{2}))/i;regexNameYear=/^(.+)\s{0,1}([.(_\-\s]((19|20)[0-9]{2})[.)_\-\s]).+$/i;regexThreeD=/[.(_\-\s](3D)[.(_\-\s]?/i;regexSerial_Lostfilm=/(s\d{2}e\d{2}).+(lostfilm)/i;regexFilm_Lostfilm=/^(.+).+(1080|720).+(lostfilm).+$/i;regexSerial_Novafilm=/(s\d{2}e\d{2}).+(novafilm)/i;regexFilm_Novafilm=/^(?!.*s\d{2}e\d{2})(?=.*novafilm).*$/i;constructor(t){this._config=new Kt(t),this._logger=new si(t).logger,this._connect=this.connectCommandCreate(),this.TR_APP_VERSION=this.config.trAppVersion,this.TR_TORRENT_ID=this.config.trTorrentId,this.TR_TORRENT_NAME=this.config.trTorrentName,this.TR_TORRENT_DIR=this.config.trTorrentDir,this.TR_TORRENT_HASH=this.config.trTorrentHash,this.TR_TIME_LOCALTIME=this.config.trTimeLocaltime,this.TR_TORRENT_LABELS=this.config.trTorrentLabels,this.TR_TORRENT_BYTES_DOWNLOADED=this.config.trTorrentBytesDownloaded,this.TR_TORRENT_TRACKERS=this.config.trTorrentTrackers,this.DIR_FLAG=!1,this.DIR_NAME=void 0,this.RELEASER=void 0;}get connect(){return this._connect}get config(){return this._config}get logger(){return this._logger}connectCommandCreate(){return `transmission-remote ${this.config.ipAddress}:${this.config.port} --auth ${this.config.trLogin}:${this.config.trPass}`}moveCommandCreate(t){return `${this.connect} --torrent ${this.TR_TORRENT_ID} --move "${t}"`}async checkSerialOrFilm(t,r){try{if(this.logger.debug(`RELEASER: ${this.RELEASER}`),this.logger.debug("Base processing"),this.logger.debug(`Check Serial or Film: "${t}"`),this.regexSerial_Base.test(t)){this.logger.info(`File "${t}" is a SERIAL`),this.logger.debug(`File check is regex: "${this.regexSerial_Base}"`);let n=this.extractSerialData(t);await this.serialProcess(t,r,n);}else if(this.regexFilm_Base.test(t)){this.logger.info(`File "${t}" is a FILM`),this.logger.debug(`File check is regex: "${this.regexFilm_Base}"`);let n=this.extractFilmData(t);await this.filmProcess(t,r,n);}else this.logger.info(`File "${t}" is not Serial or Film. NO ACTION`);}catch(n){throw this.logger.trace(n),n}}async checkSerialOrFilm_Lostfilm(t,r){try{if(this.logger.debug(`RELEASER: ${this.RELEASER}`),this.logger.debug(`Check Serial or Film: "${t}"`),this.regexSerial_Lostfilm.test(t)){this.logger.info(`File "${t}" is a SERIAL`),this.logger.debug(`File check is regex: "${this.regexSerial_Lostfilm}"`);let n=this.extractSerialData(t);await this.serialProcess(t,r,n);}else if(this.regexFilm_Lostfilm.test(t)){this.logger.info(`File "${t}" is a FILM`),this.logger.debug(`File check is regex: "${this.regexFilm_Lostfilm}"`);let n=this.extractFilmData_Lostfilm(t);await this.filmProcess(t,r,n);}else this.logger.info(`File "${t}" is not Lostfilm Serial or Lostfilm Film. NO ACTION`);}catch(n){throw this.logger.trace(n),n}}async checkSerialOrFilm_Novafilm(t,r){try{if(this.logger.debug(`RELEASER: ${this.RELEASER}`),this.logger.debug(`Check Serial or Film: "${t}"`),this.regexSerial_Novafilm.test(t)){this.logger.info(`File "${t}" is a SERIAL`),this.logger.debug(`File check is regex: "${this.regexSerial_Novafilm}"`);let n=this.extractSerialData(t);await this.serialProcess(t,r,n);}else if(this.regexFilm_Novafilm.test(t)){this.logger.info(`File "${t}" is a FILM`),this.logger.debug(`File check is regex: "${this.regexFilm_Novafilm}"`);let n=this.extractFilmData(t);await this.filmProcess(t,r,n);}}catch(n){throw this.logger.trace(n),n}}extractSerialData(t){this.logger.debug(`Extract serial data on regex: "${this.regexNameSeason}" from file "${t}"`);let r=this.regexNameSeason.exec(t);if(r===null)throw new Error(`No data extracted for file "${t}"`);let n=e.capitalize(r[1]).trim().replace(/^\./g,"").replace(/\.$/g,"").replace(/\s+/g," "),i=n.replace(/(\.|\s|_)/g," ").replace(/\s+/g," "),s=`Season ${r[3]}`,o={name:n,dirName:i,season:s};return this.logger.debug(`Extracted data (${this.RELEASER}): name="${o.name}" dirName="${o.dirName}" season="${o.season}"`),o}extractFilmData(t){let r=this.regexNameYear.exec(t);if(r===null)throw new Error(`No data extracted for file "${t}"`);let n=e.capitalize(r[1]).trim().replace(/^\./g,"").replace(/\.$/g,"").replace(/\s+/g," "),i=r[3],s={name:n,year:i,three_d:this.regexThreeD.test(n)};return this.logger.debug(`Extracted data (${this.RELEASER}): name="${s.name}" year="${s.year}" three_d="${s.three_d}"`),this.logger.debug(`Extracted film data regex: "${this.regexNameYear}"`),s}extractFilmData_Lostfilm(t){let r=this.regexFilm_Lostfilm.exec(t);if(r===null)throw new Error(`No data extracted for file "${t}"`);let n=e.capitalize(r[1]).trim().replace(/^\./g,"").replace(/\.$/g,"").replace(/\s+/g," "),i=new Date().getFullYear().toString(),s={name:n,year:i,three_d:!1};return this.logger.debug(`Extracted data (${this.RELEASER}): name="${s.name}" year="${s.year}" only 2D`),s}async savingPathPrepare(t){try{if(fs.existsSync(t))this.logger.debug("Saving path is exists");else if(this.logger.debug("Saving path does not exist. Create the missing folders."),fs.mkdirSync(t,{recursive:!0}),fs.existsSync(t))this.logger.debug("Saving path directories is created");else throw new Error("Saving path is can not be created")}catch(r){throw this.logger.trace(r),r}}async serialProcess(t,r,n){try{this.logger.debug(`Processing serial file: "${t}"`);let i=path.normalize(`${this.config.mediaPath}/${this.config.serialsRootDir}/${n.dirName}/${n.season}`);if(this.logger.debug(`Saving path: "${i}"`),await this.savingPathPrepare(i),this.DIR_FLAG)this.logger.info(`COPY file "${t}" to saving path "${i}"`),await this.copyFile(t,r,i);else {this.logger.info(`MOVE file "${t}" to saving path "${i}"`);let s=this.moveCommandCreate(i);this.logger.debug(`Move command: "${s}"`),await this.transmissionMoveFile(s,t,i);}}catch(i){throw this.logger.trace(i),i}}async filmProcess(t,r,n){try{this.logger.debug(`Processing film file: "${t}"`);let i=this.config.mediaPath;if(n.three_d?i+=`/${this.config.filmsRootDir}/3D/${n.year}`:i+=`/${this.config.filmsRootDir}/2D/${n.year}`,i=path.normalize(i),this.logger.debug(`Saving path: "${i}"`),await this.savingPathPrepare(i),this.DIR_FLAG)this.logger.info(`COPY file "${t}" to saving path "${i}"`),await this.copyFile(t,r,i);else {this.logger.info(`MOVE file "${t}" to saving path "${i}"`);let s=this.moveCommandCreate(i);this.logger.debug(`Move command: "${s}"`),await this.transmissionMoveFile(s,t,i);}}catch(i){throw this.logger.trace(i),i}}async copyFile(t,r,n){try{this.logger.debug("Start copying file...");let i=path.normalize(`${n}/${t}`);if(fs.copyFileSync(r,i),fs.existsSync(i))this.logger.info(`File "${t}" copied successfully. => END`),this.logger.debug(`File final path: "${i}"`);else throw new Error(`Error. Failed to copy file "${t}"`)}catch(i){throw this.logger.trace(i),i}}async transmissionMoveFile(t,r,n){try{this.logger.debug("Start moving file...");let i=path.normalize(`${n}/${r}`),s=/success/i,o=await this.command(t);if(o=o.replace(/(\r\n|\n|\r)/gm,""),this.logger.debug(`execResult: ${o}`),!s.test(o))throw new Error(`Failed to move file "${r}". Reason: Negative result of exec command: ${o}`);if(fs.existsSync(i))this.logger.info(`File "${r}" moving successfully. => END`),this.logger.debug(`File final path: "${i}"`);else throw new Error(`Failed to move file "${r}". Reason: file not found after move`)}catch(i){throw this.logger.trace(i),i}}startInfo(){this.logger.info("##############################################################################################"),this.logger.info("transmission-torrentdone RUN"),this.logger.info(`TORRENT ID: "${this.TR_TORRENT_ID}" FINISH: START PROCESS ...`),this.logger.info("=============================================================================================="),this.logger.info(`VER:   "Transmission version - ${this.TR_APP_VERSION}"`),this.logger.info(`DIR:   "${this.TR_TORRENT_DIR}"`),this.logger.info(`NAME:  "${this.TR_TORRENT_NAME}"`),this.logger.info(`DTIME: "${this.TR_TIME_LOCALTIME}"`),this.logger.info(`HASH:  "${this.TR_TORRENT_HASH}"`),this.TR_TORRENT_LABELS.length>0&&this.logger.info(`LABELS:  "${this.TR_TORRENT_LABELS}"`),this.TR_TORRENT_BYTES_DOWNLOADED!==void 0&&this.TR_TORRENT_BYTES_DOWNLOADED>0&&this.logger.info(`BYTES:  "${this.TR_TORRENT_BYTES_DOWNLOADED}"`),this.TR_TORRENT_TRACKERS!==void 0&&this.TR_TORRENT_TRACKERS.length>0&&this.logger.info(`TRACKERS:  "${this.TR_TORRENT_TRACKERS}"`),this.logger.info("==============================================================================================");}endInfo(t=!1){this.logger.info("=============================================================================================="),t?this.logger.error(`TORRENT ID: "${this.TR_TORRENT_ID}" ERROR END PROCESS`):this.logger.info(`TORRENT ID: "${this.TR_TORRENT_ID}" END PROCESS`),this.logger.info(`##############################################################################################
`);}async checkReleaser(t,r){try{this.logger.debug(`Check Releaser for: "${t}"`);let n=new RegExp("lostfilm","i"),i=new RegExp("novafilm","i");n.test(t)?(this.logger.info('Releaser found: "LostFilm"'),this.logger.debug(`Releaser regex: "${n}"`),this.RELEASER="lostfilm",await this.checkSerialOrFilm_Lostfilm(t,r)):i.test(t)?(this.logger.info('Releaser found: "NovaFilm"'),this.logger.debug(`Releaser regex: "${i}"`),this.RELEASER="novafilm",await this.checkSerialOrFilm_Novafilm(t,r)):(this.logger.debug("Releaser not found"),await this.checkSerialOrFilm(t,r));}catch(n){throw this.logger.trace(n),n}}async directoryForeach(t){try{this.logger.info(`Directory process: "${t}"`);let r=fs.readdirSync(t);this.logger.debug(`All elements in dir: "${r}"`);for(let n of r){let i=path.normalize(`${this.TR_TORRENT_DIR}/${this.TR_TORRENT_NAME}/${n}`);await this.checkFileOrDirectory(i);}}catch(r){throw this.logger.trace(r),r}}async checkFileOrDirectory(t){try{let r=await this.isFileOrDirectoryOrUnknown(t);if(this.logger.info("================================"),r==="FILE"){let n=path.extname(t),i=path.basename(t,n);this.logger.info(`Element: "${i+n}" is a FILE`),this.logger.debug(`Element: file extension: "${n}"`),this.config.allowedMediaExtensions.test(n)?(this.logger.debug(`Element: full path: "${t}"`),await this.checkReleaser(i+n,t)):(this.logger.debug(`Element: file extension "${n}" does not match allowed extensions regex: "${this.config.allowedMediaExtensions}"`),this.logger.info("Element does not match allowed extensions. NO ACTION"));}else if(r==="DIR"){this.DIR_FLAG=!0,this.DIR_NAME=this.TR_TORRENT_NAME;let n=path.dirname(t);this.logger.info(`Element: "${n}" is a DIRECTORY`),this.logger.debug(`DIR_FLAG: "${this.DIR_FLAG}"`),this.logger.debug(`Element: full path: "${t}"`),await this.directoryForeach(t);}else this.logger.debug(`TR_TORRENT_NAME: "${this.TR_TORRENT_NAME}" is neither a file or a directory`),this.logger.debug(`Element: full path: "${t}"`),this.logger.info("Element is not File or Directory. NO ACTION");}catch(r){throw this.logger.trace(r),r}}async main(){try{this.startInfo();let t=path.normalize(`${this.TR_TORRENT_DIR}/${this.TR_TORRENT_NAME}`);await this.checkFileOrDirectory(t),this.endInfo();}catch(t){this.logger.error(t.message),this.endInfo(!0);}}async command(t){try{return child_process.execSync(t,{timeout:2e3,encoding:"utf8"})}catch(r){throw this.logger.trace(r),r}}async isFileOrDirectoryOrUnknown(t){try{let r=fs.lstatSync(t),n=r.isFile(),i=r.isDirectory();return n?"FILE":i?"DIR":void 0}catch(r){throw this.logger.trace(r),r}}static capitalize(t){return t[0].toUpperCase()+t.slice(1)}};new ui().main();